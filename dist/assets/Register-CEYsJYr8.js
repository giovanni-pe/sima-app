import{d as v,m as k,n as S,_ as x,c as d,e as p,b as a,t as g,p as I,o as m,r as V,q as D,a as C,i as E,f as i,w,s as h,g as b,h as y,j as q,k as T,l as F}from"./index-dQDTfdSb.js";import{B as P,u as R,C as U}from"./useAuth-G3zHiI4H.js";const L=v({__name:"Input",props:{label:{type:String,required:!1},error:{type:String,required:!1},helperText:{type:String,required:!1},leftIcon:{type:null,required:!1},rightIcon:{type:null,required:!1},className:{type:String,required:!1},modelValue:{type:[String,Number],required:!1},type:{type:String,required:!1,default:"text"}},emits:["update:modelValue"],setup(u,{expose:r,emit:t}){r();const e=u,s=t,n=k(()=>S("w-full px-3 py-2.5 border rounded-lg transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",e.error?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400",!!e.leftIcon&&"pl-10",!!e.rightIcon&&"pr-10",e.className));function o(c){const _=c.target.value;s("update:modelValue",_)}const f={props:e,emit:s,inputClass:n,onInput:o};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),N={class:"w-full"},j={key:0,class:"block text-sm font-medium text-gray-700 mb-1"},M={class:"relative"},B=["innerHTML"],A=["type","value"],O=["innerHTML"],H={key:1,class:"mt-1 text-sm text-red-600"},W={key:2,class:"mt-1 text-sm text-gray-500"};function Y(u,r,t,e,s,n){return m(),d("div",N,[t.label?(m(),d("label",j,g(t.label),1)):p("",!0),a("div",M,[t.leftIcon?(m(),d("div",{key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",innerHTML:t.leftIcon},null,8,B)):p("",!0),a("input",I({type:t.type,value:t.modelValue,class:e.inputClass,onInput:e.onInput},u.$attrs),null,16,A),t.rightIcon?(m(),d("div",{key:1,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400",innerHTML:t.rightIcon},null,8,O)):p("",!0)]),t.error?(m(),d("p",H,g(t.error),1)):t.helperText?(m(),d("p",W,g(t.helperText),1)):p("",!0)])}const z=x(L,[["render",Y],["__file","C:/Users/Lenovo/Desktop/investigacion_2025_incien/development/frontend-sima-unas/src/ui/Input.vue"]]),G=v({__name:"RegisterForm",props:{onSubmit:{type:Function,required:!0},loading:{type:Boolean,required:!1,default:!1},error:{type:[String,null],required:!1}},setup(u,{expose:r}){r();const t=u,e=V({first_name:"",last_name:"",phone:"",email:"",password:"",user_type:"passenger"}),s=D(""),n=V({});function o(){const l={};return e.first_name.trim()||(l.first_name="Nombre requerido"),e.last_name.trim()||(l.last_name="Apellido requerido"),e.phone.trim()?C(e.phone)||(l.phone="Teléfono inválido (9 dígitos)"):l.phone="Teléfono requerido",e.email&&!E(e.email)&&(l.email="Email inválido"),e.password?e.password.length<6&&(l.password="Mínimo 6 caracteres"):l.password="Contraseña requerida",e.password!==s.value&&(l.confirmPassword="Las contraseñas no coinciden"),Object.assign(n,l),Object.keys(l).length===0}async function f(l){if(l.preventDefault(),!!o())try{await t.onSubmit({...e})}catch{}}function c(l){n[l]&&(n[l]="")}const _={props:t,formData:e,confirmPassword:s,fieldErrors:n,validateForm:o,handleSubmit:f,clearFieldError:c,Input:z,Button:P};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),J={class:"grid grid-cols-2 gap-4"},K={class:"space-y-2"},Q={class:"grid grid-cols-2 gap-4"},X={class:"flex items-center space-x-2 cursor-pointer"},Z=["disabled"],$={class:"flex items-center space-x-2 cursor-pointer"},ee=["disabled"],re={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},te={class:"text-red-700 text-sm"};function oe(u,r,t,e,s,n){return m(),d("form",{onSubmit:e.handleSubmit,class:"space-y-4"},[a("div",J,[i(e.Input,{label:"Nombre",modelValue:e.formData.first_name,"onUpdate:modelValue":[r[0]||(r[0]=o=>e.formData.first_name=o),r[1]||(r[1]=o=>e.clearFieldError("first_name"))],error:e.fieldErrors.first_name,placeholder:"Tu nombre",disabled:t.loading},null,8,["modelValue","error","disabled"]),i(e.Input,{label:"Apellido",modelValue:e.formData.last_name,"onUpdate:modelValue":[r[2]||(r[2]=o=>e.formData.last_name=o),r[3]||(r[3]=o=>e.clearFieldError("last_name"))],error:e.fieldErrors.last_name,placeholder:"Tu apellido",disabled:t.loading},null,8,["modelValue","error","disabled"])]),i(e.Input,{label:"Teléfono",type:"tel",modelValue:e.formData.phone,"onUpdate:modelValue":[r[4]||(r[4]=o=>e.formData.phone=o),r[5]||(r[5]=o=>e.clearFieldError("phone"))],error:e.fieldErrors.phone,placeholder:"999123456",disabled:t.loading},null,8,["modelValue","error","disabled"]),i(e.Input,{label:"Email (opcional)",type:"email",modelValue:e.formData.email,"onUpdate:modelValue":[r[6]||(r[6]=o=>e.formData.email=o),r[7]||(r[7]=o=>e.clearFieldError("email"))],error:e.fieldErrors.email,placeholder:"email@ejemplo.com",disabled:t.loading},null,8,["modelValue","error","disabled"]),a("div",K,[r[16]||(r[16]=a("label",{class:"block text-sm font-medium text-gray-700"}," Tipo de usuario ",-1)),a("div",Q,[a("label",X,[w(a("input",{type:"radio",name:"user_type",value:"passenger","onUpdate:modelValue":r[8]||(r[8]=o=>e.formData.user_type=o),class:"text-sky-500 focus:ring-sky-500",disabled:t.loading},null,8,Z),[[h,e.formData.user_type]]),r[14]||(r[14]=a("span",{class:"text-sm"},"Pasajero",-1))]),a("label",$,[w(a("input",{type:"radio",name:"user_type",value:"driver","onUpdate:modelValue":r[9]||(r[9]=o=>e.formData.user_type=o),class:"text-sky-500 focus:ring-sky-500",disabled:t.loading},null,8,ee),[[h,e.formData.user_type]]),r[15]||(r[15]=a("span",{class:"text-sm"},"Conductor",-1))])])]),i(e.Input,{label:"Contraseña",type:"password",modelValue:e.formData.password,"onUpdate:modelValue":[r[10]||(r[10]=o=>e.formData.password=o),r[11]||(r[11]=o=>e.clearFieldError("password"))],error:e.fieldErrors.password,placeholder:"Mínimo 6 caracteres",disabled:t.loading},null,8,["modelValue","error","disabled"]),i(e.Input,{label:"Confirmar Contraseña",type:"password",modelValue:e.confirmPassword,"onUpdate:modelValue":[r[12]||(r[12]=o=>e.confirmPassword=o),r[13]||(r[13]=o=>e.clearFieldError("confirmPassword"))],error:e.fieldErrors.confirmPassword,placeholder:"Repite tu contraseña",disabled:t.loading},null,8,["modelValue","error","disabled"]),t.error?(m(),d("div",re,[a("p",te,g(t.error),1)])):p("",!0),i(e.Button,{type:"submit",fullWidth:"",loading:t.loading,disabled:t.loading},{default:b(()=>r[17]||(r[17]=[y(" Crear Cuenta ")])),_:1,__:[17]},8,["loading","disabled"])],32)}const ae=x(G,[["render",oe],["__file","C:/Users/Lenovo/Desktop/investigacion_2025_incien/development/frontend-sima-unas/src/auth/components/RegisterForm.vue"]]),le=v({__name:"Register",setup(u,{expose:r}){r();const t=q(),{register:e,loading:s,error:n,isAuthenticated:o}=R();T(()=>o.value,c=>{c&&t.replace("/dashboard")},{immediate:!0});const f={router:t,register:e,loading:s,error:n,isAuthenticated:o,Card:U,RegisterForm:ae};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),ne={class:"w-full max-w-md"},se={class:"mt-6 text-center"},ie={class:"text-sm text-gray-600"};function de(u,r,t,e,s,n){const o=F("RouterLink");return m(),d("div",ne,[i(e.Card,{class:"p-8"},{default:b(()=>[r[2]||(r[2]=a("div",{class:"text-center mb-8"},[a("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"SIMA-UNAS"),a("p",{class:"text-gray-600"},"Crea tu cuenta")],-1)),i(e.RegisterForm,{onSubmit:e.register,loading:e.loading,error:e.error},null,8,["onSubmit","loading","error"]),a("div",se,[a("p",ie,[r[1]||(r[1]=y(" ¿Ya tienes cuenta? ")),i(o,{to:"/login",class:"text-sky-600 hover:text-sky-700 font-medium"},{default:b(()=>r[0]||(r[0]=[y(" Inicia sesión ")])),_:1,__:[0]})])])]),_:1,__:[2]})])}const fe=x(le,[["render",de],["__file","C:/Users/Lenovo/Desktop/investigacion_2025_incien/development/frontend-sima-unas/src/auth/pages/Register.vue"]]);export{fe as default};
