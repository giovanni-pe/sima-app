import{d as D,u as V,r as y,a as _,c as g,i as O,b as P,I as U,_ as C,e as c,f as I,g as r,h as o,n as d,w as E,j as x,v as S,k as m,T as b,o as u,t as h,l as z,m as R,p as q,q as F}from"./index-eRzhTruy.js";import{B as K,u as W,C as G}from"./useAuth-Bm0RJnso.js";const H=D({__name:"LoginForm",setup(v,{expose:t}){t();const i=V(),e=y({}),n=y({login:"",password:""}),l=_(!1),a=_(!1),p=y({login:!1,password:!1}),f=g(()=>n.login.includes("@")),L=g(()=>n.login.trim()?f.value?"mdi:email-outline":"mdi:phone":"mdi:account-outline"),M=g(()=>f.value?"email":"text"),A=g(()=>f.value?"email":"numeric"),j=g(()=>l.value?"text":"password");function k(){const s={};return n.login.trim()?f.value&&!O(n.login)?s.login="Email inválido":!f.value&&!P(n.login)&&(s.login="Teléfono inválido (9 dígitos)"):s.login="Ingresa tu teléfono o email",n.password?n.password.length<6&&(s.password="Mínimo 6 caracteres"):s.password="Ingresa tu contraseña",Object.assign(e,s),Object.keys(s).length===0}async function T(s){if(s.preventDefault(),!!k())try{await i.login({...n})}catch{}}function B(s){e[s]&&(e[s]="")}function N(s){a.value=s.getModifierState&&s.getModifierState("CapsLock")}const w={auth:i,fieldErrors:e,formData:n,showPassword:l,capsLockOn:a,isFocused:p,isEmail:f,loginIcon:L,loginInputType:M,loginInputMode:A,passwordType:j,validateForm:k,handleSubmit:T,clearFieldError:B,onKeyDown:N,Button:K,get Icon(){return U}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),J={class:"relative min-h-screen grid place-items-center overflow-hidden bg-gradient-to-br from-cyan-50 via-sky-50 to-cyan-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900","aria-busy":"false"},Q={class:"absolute inset-0 pointer-events-none"},X={class:"absolute top-[15%] left-[10%] animate-float"},Y={class:"w-12 h-12 rounded-2xl bg-green-500/10 backdrop-blur-sm border border-green-500/20 grid place-items-center rotate-12"},Z={class:"absolute top-[25%] right-[15%] animate-float-delayed"},$={class:"w-14 h-14 rounded-2xl bg-cyan-500/10 backdrop-blur-sm border border-cyan-500/20 grid place-items-center -rotate-6"},ee={class:"absolute bottom-[20%] left-[15%] animate-float-slow"},te={class:"w-10 h-10 rounded-2xl bg-amber-500/10 backdrop-blur-sm border border-amber-500/20 grid place-items-center rotate-6"},re={class:"absolute bottom-[30%] right-[12%] animate-float"},oe={class:"w-12 h-12 rounded-2xl bg-cyan-500/10 backdrop-blur-sm border border-cyan-500/20 grid place-items-center -rotate-12"},ae={class:"relative z-10 w-full max-w-md mx-4 animate-slide-up"},se={class:"relative rounded-3xl border border-white/40 shadow-2xl backdrop-blur-2xl bg-white/70 dark:bg-slate-900/60 overflow-hidden"},ne={class:"px-8 pt-8 pb-6 relative"},de={class:"flex items-center gap-4 mb-3"},ie={class:"relative group"},le={class:"relative size-14 rounded-3xl bg-gradient-to-br from-green-500 to-green-600 grid place-items-center shadow-lg transform group-hover:scale-105 transition-transform"},ce={class:"flex items-center gap-2 px-4 py-2.5 rounded-2xl bg-cyan-50/80 dark:bg-cyan-950/30 border border-cyan-200/50 dark:border-cyan-800/50"},ue={class:"space-y-2"},me=["type","inputmode","disabled","aria-invalid"],fe={key:0,class:"absolute inset-y-0 right-0 pr-4 flex items-center"},ge={class:"w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-900/50 grid place-items-center"},xe={key:0,class:"flex items-center gap-2 px-3 py-2 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800"},be={class:"text-xs text-red-700 dark:text-red-300 font-medium"},ve={class:"space-y-2"},pe=["type","disabled","aria-invalid"],ye=["aria-label"],he={class:"flex items-center justify-between gap-2 min-h-[24px]"},ke={key:0,class:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800"},we={key:0,class:"flex items-center gap-2 px-3 py-2 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800"},_e={class:"text-xs text-red-700 dark:text-red-300 font-medium"},Ie={key:0,class:"p-4 bg-gradient-to-r from-red-50 to-red-100/50 dark:from-red-950/30 dark:to-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-2xl flex items-start gap-3 shadow-lg shadow-red-100 dark:shadow-red-950/50",role:"alert"},Ee={class:"w-8 h-8 rounded-xl bg-red-100 dark:bg-red-900/50 grid place-items-center flex-shrink-0"},Se={class:"flex-1 pt-0.5"},Fe={class:"text-sm text-red-800 dark:text-red-200 font-medium leading-relaxed"},De={class:"relative inline-flex items-center justify-center gap-2.5"},Ce={class:"pt-2 space-y-3"},Le={class:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-slate-50/80 dark:bg-slate-800/50 border border-slate-200/50 dark:border-slate-700/50"};function Me(v,t,i,e,n,l){return u(),c("section",J,[t[22]||(t[22]=I('<div class="absolute inset-0 pointer-events-none overflow-hidden" data-v-3f260005><div class="absolute top-0 left-0 w-[800px] h-[800px] bg-cyan-400/20 rounded-full blur-3xl animate-pulse-slow" data-v-3f260005></div><div class="absolute bottom-0 right-0 w-[600px] h-[600px] bg-sky-400/20 rounded-full blur-3xl animate-pulse-slower" data-v-3f260005></div><div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] bg-cyan-300/15 rounded-full blur-3xl" data-v-3f260005></div><div class="absolute inset-0 opacity-[0.03]" style="background-image:linear-gradient(rgba(6, 182, 212, 0.5) 1px, transparent 1px), linear-gradient(90deg, rgba(6, 182, 212, 0.5) 1px, transparent 1px);background-size:40px 40px;" data-v-3f260005></div></div>',1)),r("div",Q,[r("div",X,[r("div",Y,[o(e.Icon,{icon:"mdi:leaf",class:"w-6 h-6 text-green-600"})])]),r("div",Z,[r("div",$,[o(e.Icon,{icon:"mdi:water",class:"w-7 h-7 text-cyan-600"})])]),r("div",ee,[r("div",te,[o(e.Icon,{icon:"mdi:white-balance-sunny",class:"w-5 h-5 text-amber-600"})])]),r("div",re,[r("div",oe,[o(e.Icon,{icon:"mdi:thermometer",class:"w-6 h-6 text-cyan-600"})])])]),r("div",ae,[r("div",se,[t[20]||(t[20]=r("div",{class:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"},null,-1)),r("header",ne,[r("div",de,[r("div",ie,[t[9]||(t[9]=r("div",{class:"absolute inset-0 bg-gradient-to-br from-green-500 to-green-600 rounded-3xl blur-lg opacity-60 group-hover:opacity-80 transition-opacity"},null,-1)),r("div",le,[o(e.Icon,{icon:"mdi:leaf",class:"w-8 h-8 text-white"})])]),t[10]||(t[10]=r("div",null,[r("h1",{class:"text-2xl font-bold tracking-tight bg-gradient-to-r from-cyan-700 to-sky-700 bg-clip-text text-transparent"}," SIMA-UNAS "),r("p",{class:"text-sm text-slate-600 dark:text-slate-400 font-medium"}," Sistema de Monitoreo Agricola ")],-1))]),r("div",ce,[o(e.Icon,{icon:"mdi:rice",class:"w-5 h-5 text-cyan-600 dark:text-cyan-400 flex-shrink-0"}),t[11]||(t[11]=r("p",{class:"text-xs text-cyan-800 dark:text-cyan-300 leading-relaxed"}," Monitoreo en tiempo real de cultivos de arroz ",-1))])]),r("form",{onSubmit:e.handleSubmit,class:"px-8 pb-8 space-y-5",onKeydown:e.onKeyDown},[r("div",ue,[t[12]||(t[12]=r("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"}," Teléfono o Email ",-1)),r("div",{class:d(["relative group",["transition-all duration-300",e.fieldErrors.login?"scale-[0.99]":""]])},[r("div",{class:d(["absolute inset-y-0 left-0 pl-4 flex items-center transition-all duration-300",[e.isFocused.login||e.formData.login?"text-cyan-600 dark:text-cyan-400":"text-slate-400"]])},[o(e.Icon,{icon:e.loginIcon,class:d(["w-5 h-5 transition-transform duration-300",e.isFocused.login?"scale-110":""])},null,8,["icon","class"])],2),E(r("input",{type:e.loginInputType,inputmode:e.loginInputMode,class:d(["w-full pl-12 pr-4 py-3.5 rounded-2xl border-2 bg-white/80 dark:bg-slate-800/80 focus:outline-none focus:border-cyan-500 dark:focus:border-cyan-400 focus:ring-4 focus:ring-cyan-500/20 dark:focus:ring-cyan-400/20 transition-all duration-300 placeholder:text-slate-400 hover:border-cyan-300 dark:hover:border-cyan-600",[e.fieldErrors.login?"border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500/20":"border-slate-200 dark:border-slate-700"]]),"onUpdate:modelValue":t[0]||(t[0]=a=>e.formData.login=a),placeholder:"999123456 o email@ejemplo.com",disabled:e.auth.loading,autocomplete:"username",autocapitalize:"off",autocorrect:"off",spellcheck:"false","aria-invalid":!!e.fieldErrors.login,onFocus:t[1]||(t[1]=a=>e.isFocused.login=!0),onBlur:t[2]||(t[2]=a=>e.isFocused.login=!1),onInput:t[3]||(t[3]=a=>e.clearFieldError("login"))},null,42,me),[[S,e.formData.login,void 0,{trim:!0}]]),e.formData.login&&!e.fieldErrors.login?(u(),c("div",fe,[r("div",ge,[o(e.Icon,{icon:"mdi:check",class:"w-4 h-4 text-cyan-600 dark:text-cyan-400"})])])):x("",!0)],2),o(b,{name:"error"},{default:m(()=>[e.fieldErrors.login?(u(),c("div",xe,[o(e.Icon,{icon:"mdi:alert-circle",class:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),r("p",be,h(e.fieldErrors.login),1)])):x("",!0)]),_:1})]),r("div",ve,[t[15]||(t[15]=r("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"}," Contraseña ",-1)),r("div",{class:d(["relative group",e.fieldErrors.password?"scale-[0.99]":""])},[r("div",{class:d(["absolute inset-y-0 left-0 pl-4 flex items-center transition-all duration-300",[e.isFocused.password||e.formData.password?"text-cyan-600 dark:text-cyan-400":"text-slate-400"]])},[o(e.Icon,{icon:"mdi:lock-outline",class:d(["w-5 h-5 transition-transform duration-300",e.isFocused.password?"scale-110":""])},null,8,["class"])],2),E(r("input",{type:e.passwordType,class:d(["w-full pl-12 pr-12 py-3.5 rounded-2xl border-2 bg-white/80 dark:bg-slate-800/80 focus:outline-none focus:border-cyan-500 dark:focus:border-cyan-400 focus:ring-4 focus:ring-cyan-500/20 dark:focus:ring-cyan-400/20 transition-all duration-300 placeholder:text-slate-400 hover:border-cyan-300 dark:hover:border-cyan-600",[e.fieldErrors.password?"border-red-300 dark:border-red-600 focus:border-red-500 focus:ring-red-500/20":"border-slate-200 dark:border-slate-700"]]),"onUpdate:modelValue":t[4]||(t[4]=a=>e.formData.password=a),placeholder:"Ingresa tu contraseña",disabled:e.auth.loading,autocomplete:"current-password","aria-invalid":!!e.fieldErrors.password,onFocus:t[5]||(t[5]=a=>e.isFocused.password=!0),onBlur:t[6]||(t[6]=a=>e.isFocused.password=!1),onInput:t[7]||(t[7]=a=>e.clearFieldError("password"))},null,42,pe),[[S,e.formData.password]]),r("button",{type:"button",class:"absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-cyan-600 dark:hover:text-cyan-400 transition-all duration-300 hover:scale-110 active:scale-95","aria-label":e.showPassword?"Ocultar contraseña":"Mostrar contraseña",onClick:t[8]||(t[8]=a=>e.showPassword=!e.showPassword)},[o(e.Icon,{icon:e.showPassword?"mdi:eye-off-outline":"mdi:eye-outline",class:"w-5 h-5"},null,8,["icon"])],8,ye)],2),r("div",he,[o(b,{name:"slide-fade"},{default:m(()=>[e.capsLockOn?(u(),c("div",ke,[o(e.Icon,{icon:"mdi:keyboard",class:"w-3.5 h-3.5 text-amber-600 dark:text-amber-400"}),t[13]||(t[13]=r("span",{class:"text-[11px] text-amber-700 dark:text-amber-300 font-medium"},"Bloq Mayús",-1))])):x("",!0)]),_:1}),t[14]||(t[14]=r("a",{href:"/auth/forgot",class:"text-xs text-cyan-700 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300 font-medium hover:underline transition-colors ml-auto"}," ¿Olvidaste tu contraseña? ",-1))]),o(b,{name:"error"},{default:m(()=>[e.fieldErrors.password?(u(),c("div",we,[o(e.Icon,{icon:"mdi:alert-circle",class:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),r("p",_e,h(e.fieldErrors.password),1)])):x("",!0)]),_:1})]),o(b,{name:"error"},{default:m(()=>[e.auth.error?(u(),c("div",Ie,[r("div",Ee,[o(e.Icon,{icon:"mdi:alert-circle",class:"w-5 h-5 text-red-600 dark:text-red-400"})]),r("div",Se,[r("p",Fe,h(e.auth.error),1)])])):x("",!0)]),_:1}),o(e.Button,{type:"submit",fullWidth:"",loading:e.auth.loading,disabled:e.auth.loading,class:"!rounded-2xl !py-4 !font-semibold !text-base relative overflow-hidden group bg-gradient-to-r from-cyan-600 to-sky-600 hover:from-cyan-700 hover:to-sky-700 shadow-lg shadow-cyan-500/30 hover:shadow-xl hover:shadow-cyan-500/40 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-300"},{default:m(()=>[t[17]||(t[17]=r("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"},null,-1)),r("span",De,[o(e.Icon,{icon:"mdi:login-variant",class:"w-5 h-5"}),t[16]||(t[16]=r("span",null,"Iniciar Sesión",-1))])]),_:1,__:[17]},8,["loading","disabled"]),r("div",Ce,[t[19]||(t[19]=I('<div class="relative" data-v-3f260005><div class="absolute inset-0 flex items-center" data-v-3f260005><div class="w-full border-t border-slate-200 dark:border-slate-700" data-v-3f260005></div></div><div class="relative flex justify-center" data-v-3f260005><span class="px-3 bg-white/70 dark:bg-slate-900/60 text-xs text-slate-500 dark:text-slate-400" data-v-3f260005> Acceso seguro </span></div></div>',1)),r("div",Le,[o(e.Icon,{icon:"mdi:shield-check",class:"w-4 h-4 text-cyan-600 dark:text-cyan-400 flex-shrink-0"}),t[18]||(t[18]=r("p",{class:"text-xs text-slate-600 dark:text-slate-400 text-center leading-relaxed"}," Conexión cifrada y protegida ",-1))])])],32)]),t[21]||(t[21]=r("div",{class:"mt-6 text-center"},[r("p",{class:"text-xs text-slate-600 dark:text-slate-400"}," Universidad Nacional Agraria de la Selva "),r("p",{class:"text-[10px] text-slate-500 dark:text-slate-500 mt-1"}," © 2025 SIMA-UNAS. Sistema de Monitoreo Agricola. Todos los derechos reservados. ")],-1))])])}const Ae=C(H,[["render",Me],["__scopeId","data-v-3f260005"],["__file","C:/Users/Lenovo/Desktop/investigacion_2025_incien/development/frontend-sima-unas/src/auth/components/LoginForm.vue"]]),je=D({__name:"Login",setup(v,{expose:t}){t();const i=z(),{loading:e,error:n,isAuthenticated:l}=W();R(()=>l.value,p=>{p&&i.replace("/dashboard")},{immediate:!0});const a={router:i,loading:e,error:n,isAuthenticated:l,Card:G,LoginForm:Ae};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),Te={class:"w-full max-w-md mx-auto"},Be={class:"mt-6 text-center"},Ne={class:"text-sm text-gray-600"};function Ve(v,t,i,e,n,l){const a=q("RouterLink");return u(),c("div",Te,[o(e.Card,null,{default:m(()=>[o(e.LoginForm,{loading:e.loading,error:e.error},null,8,["loading","error"]),r("div",Be,[r("p",Ne,[t[1]||(t[1]=F(" ¿No tienes cuenta? ")),o(a,{to:"/register",class:"text-sky-600 hover:text-sky-700 font-medium"},{default:m(()=>t[0]||(t[0]=[F(" Regístrate aquí ")])),_:1,__:[0]})])])]),_:1})])}const Ue=C(je,[["render",Ve],["__file","C:/Users/Lenovo/Desktop/investigacion_2025_incien/development/frontend-sima-unas/src/auth/pages/Login.vue"]]);export{Ue as default};
