var yx=Object.defineProperty;var hp=e=>{throw TypeError(e)};var vx=(e,t,n)=>t in e?yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Re=(e,t,n)=>vx(e,typeof t!="symbol"?t+"":t,n),$c=(e,t,n)=>t.has(e)||hp("Cannot "+n);var H=(e,t,n)=>($c(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?hp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ze=(e,t,n,r)=>($c(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ne=(e,t,n)=>($c(e,t,"access private method"),n);var Da=(e,t,n,r)=>({set _(i){ze(e,t,i,n)},get _(){return H(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Br(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ut=Object.freeze({}),Rs=Object.freeze([]),nn=()=>{},xx=()=>!1,va=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jl=e=>e.startsWith("onUpdate:"),Pt=Object.assign,Yd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ex=Object.prototype.hasOwnProperty,nt=(e,t)=>Ex.call(e,t),je=Array.isArray,Hi=e=>wa(e)==="[object Map]",dc=e=>wa(e)==="[object Set]",pp=e=>wa(e)==="[object Date]",qe=e=>typeof e=="function",St=e=>typeof e=="string",Yn=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",Qd=e=>(st(e)||qe(e))&&qe(e.then)&&qe(e.catch),Bb=Object.prototype.toString,wa=e=>Bb.call(e),Xd=e=>wa(e).slice(8,-1),jb=e=>wa(e)==="[object Object]",Jd=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lo=Br(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sx=Br("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),hc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kx=/-(\w)/g,dn=hc(e=>e.replace(kx,(t,n)=>n?n.toUpperCase():"")),Ax=/\B([A-Z])/g,di=hc(e=>e.replace(Ax,"-$1").toLowerCase()),es=hc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Oi=hc(e=>e?`on${es(e)}`:""),ui=(e,t)=>!Object.is(e,t),ks=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Xo=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Fl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Tx=e=>{const t=St(e)?Number(e):NaN;return isNaN(t)?e:t};let gp;const xa=()=>gp||(gp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zd(e){if(je(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=St(r)?Px(r):Zd(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(St(e)||st(e))return e}const Cx=/;(?![^(]*\))/g,Ix=/:([^]+)/,Ox=/\/\*[^]*?\*\//g;function Px(e){const t={};return e.replace(Ox,"").split(Cx).forEach(n=>{if(n){const r=n.split(Ix);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xe(e){let t="";if(St(e))t=e;else if(je(e))for(let n=0;n<e.length;n++){const r=Xe(e[n]);r&&(t+=r+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Rx="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Mx="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Dx="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Lx=Br(Rx),Nx=Br(Mx),Bx=Br(Dx),jx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fx=Br(jx);function Fb(e){return!!e||e===""}function Ux(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ns(e[r],t[r]);return n}function Ns(e,t){if(e===t)return!0;let n=pp(e),r=pp(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Yn(e),r=Yn(t),n||r)return e===t;if(n=je(e),r=je(t),n||r)return n&&r?Ux(e,t):!1;if(n=st(e),r=st(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ns(e[o],t[o]))return!1}}return String(e)===String(t)}function $x(e,t){return e.findIndex(n=>Ns(n,t))}const Ub=e=>!!(e&&e.__v_isRef===!0),ve=e=>St(e)?e:e==null?"":je(e)||st(e)&&(e.toString===Bb||!qe(e.toString))?Ub(e)?ve(e.value):JSON.stringify(e,$b,2):String(e),$b=(e,t)=>Ub(t)?$b(e,t.value):Hi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Vc(r,s)+" =>"]=i,n),{})}:dc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Vc(n))}:Yn(t)?Vc(t):st(t)&&!je(t)&&!jb(t)?String(t):t,Vc=(e,t="")=>{var n;return Yn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nn(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let en;class Vb{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=en,!t&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=en;try{return en=this,t()}finally{en=n}}else Nn("cannot run an inactive effect scope.")}on(){++this._on===1&&(this.prevScope=en,en=this)}off(){this._on>0&&--this._on===0&&(en=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Wb(e){return new Vb(e)}function Hb(){return en}function Vx(e,t=!1){en?en.cleanups.push(e):t||Nn("onScopeDispose() is called when there is no active effect scope to be associated with.")}let ct;const Wc=new WeakSet;class zb{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,en&&en.active&&en.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wc.has(this)&&(Wc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mp(this),Gb(this);const t=ct,n=qn;ct=this,qn=!0;try{return this.fn()}finally{ct!==this&&Nn("Active effect was not restored correctly - this is likely a Vue internal bug."),Yb(this),ct=t,qn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)nh(t);this.deps=this.depsTail=void 0,mp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mu(this)&&this.run()}get dirty(){return Mu(this)}}let qb=0,No,Bo;function Kb(e,t=!1){if(e.flags|=8,t){e.next=Bo,Bo=e;return}e.next=No,No=e}function eh(){qb++}function th(){if(--qb>0)return;if(Bo){let t=Bo;for(Bo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;No;){let t=No;for(No=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Gb(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yb(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),nh(r),Wx(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Mu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Qb(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Qb(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Jo)||(e.globalVersion=Jo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Mu(e))))return;e.flags|=2;const t=e.dep,n=ct,r=qn;ct=e,qn=!0;try{Gb(e);const i=e.fn(e._value);(t.version===0||ui(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ct=n,qn=r,Yb(e),e.flags&=-3}}function nh(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subsHead===e&&(n.subsHead=i),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)nh(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Wx(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qn=!0;const Xb=[];function Qn(){Xb.push(qn),qn=!1}function Xn(){const e=Xb.pop();qn=e===void 0?!0:e}function mp(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ct;ct=void 0;try{t()}finally{ct=n}}}let Jo=0;class Hx{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rh{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,this.subsHead=void 0}track(t){if(!ct||!qn||ct===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ct)n=this.activeLink=new Hx(ct,this),ct.deps?(n.prevDep=ct.depsTail,ct.depsTail.nextDep=n,ct.depsTail=n):ct.deps=ct.depsTail=n,Jb(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ct.depsTail,n.nextDep=void 0,ct.depsTail.nextDep=n,ct.depsTail=n,ct.deps===n&&(ct.deps=r)}return ct.onTrack&&ct.onTrack(Pt({effect:ct},t)),n}trigger(t){this.version++,Jo++,this.notify(t)}notify(t){eh();try{for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(Pt({effect:n.sub},t));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{th()}}}function Jb(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Jb(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const Ul=new WeakMap,zi=Symbol("Object iterate"),Du=Symbol("Map keys iterate"),Zo=Symbol("Array iterate");function Wt(e,t,n){if(qn&&ct){let r=Ul.get(e);r||Ul.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new rh),i.map=r,i.key=n),i.track({target:e,type:t,key:n})}}function ar(e,t,n,r,i,s){const o=Ul.get(e);if(!o){Jo++;return}const a=l=>{l&&l.trigger({target:e,type:t,key:n,newValue:r,oldValue:i,oldTarget:s})};if(eh(),t==="clear")o.forEach(a);else{const l=je(e),c=l&&Jd(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,d)=>{(d==="length"||d===Zo||!Yn(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Zo)),t){case"add":l?c&&a(o.get("length")):(a(o.get(zi)),Hi(e)&&a(o.get(Du)));break;case"delete":l||(a(o.get(zi)),Hi(e)&&a(o.get(Du)));break;case"set":Hi(e)&&a(o.get(zi));break}}th()}function zx(e,t){const n=Ul.get(e);return n&&n.get(t)}function ms(e){const t=He(e);return t===e?t:(Wt(t,"iterate",Zo),hn(e)?t:t.map(Yt))}function pc(e){return Wt(e=He(e),"iterate",Zo),e}const qx={__proto__:null,[Symbol.iterator](){return Hc(this,Symbol.iterator,Yt)},concat(...e){return ms(this).concat(...e.map(t=>je(t)?ms(t):t))},entries(){return Hc(this,"entries",e=>(e[1]=Yt(e[1]),e))},every(e,t){return br(this,"every",e,t,void 0,arguments)},filter(e,t){return br(this,"filter",e,t,n=>n.map(Yt),arguments)},find(e,t){return br(this,"find",e,t,Yt,arguments)},findIndex(e,t){return br(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return br(this,"findLast",e,t,Yt,arguments)},findLastIndex(e,t){return br(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return br(this,"forEach",e,t,void 0,arguments)},includes(...e){return zc(this,"includes",e)},indexOf(...e){return zc(this,"indexOf",e)},join(e){return ms(this).join(e)},lastIndexOf(...e){return zc(this,"lastIndexOf",e)},map(e,t){return br(this,"map",e,t,void 0,arguments)},pop(){return ao(this,"pop")},push(...e){return ao(this,"push",e)},reduce(e,...t){return _p(this,"reduce",e,t)},reduceRight(e,...t){return _p(this,"reduceRight",e,t)},shift(){return ao(this,"shift")},some(e,t){return br(this,"some",e,t,void 0,arguments)},splice(...e){return ao(this,"splice",e)},toReversed(){return ms(this).toReversed()},toSorted(e){return ms(this).toSorted(e)},toSpliced(...e){return ms(this).toSpliced(...e)},unshift(...e){return ao(this,"unshift",e)},values(){return Hc(this,"values",Yt)}};function Hc(e,t,n){const r=pc(e),i=r[t]();return r!==e&&!hn(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Kx=Array.prototype;function br(e,t,n,r,i,s){const o=pc(e),a=o!==e&&!hn(e),l=o[t];if(l!==Kx[t]){const f=l.apply(e,s);return a?Yt(f):f}let c=n;o!==e&&(a?c=function(f,d){return n.call(this,Yt(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,r);return a&&i?i(u):u}function _p(e,t,n,r){const i=pc(e);let s=n;return i!==e&&(hn(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Yt(a),l,e)}),i[t](s,...r)}function zc(e,t,n){const r=He(e);Wt(r,"iterate",Zo);const i=r[t](...n);return(i===-1||i===!1)&&ts(n[0])?(n[0]=He(n[0]),r[t](...n)):i}function ao(e,t,n=[]){Qn(),eh();const r=He(e)[t].apply(e,n);return th(),Xn(),r}const Gx=Br("__proto__,__v_isRef,__isVue"),Zb=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yn));function Yx(e){Yn(e)||(e=String(e));const t=He(this);return Wt(t,"has",e),t.hasOwnProperty(e)}class ey{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?oy:sy:s?iy:ry).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=je(t);if(!i){let l;if(o&&(l=qx[n]))return l;if(n==="hasOwnProperty")return Yx}const a=Reflect.get(t,n,gt(t)?t:r);return(Yn(n)?Zb.has(n):Gx(n))||(i||Wt(t,"get",n),s)?a:gt(a)?o&&Jd(n)?a:a.value:st(a)?i?ly(a):fn(a):a}}class ty extends ey{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=gr(s);if(!hn(r)&&!gr(r)&&(s=He(s),r=He(r)),!je(t)&&gt(s)&&!gt(r))return l?!1:(s.value=r,!0)}const o=je(t)&&Jd(n)?Number(n)<t.length:nt(t,n),a=Reflect.set(t,n,r,gt(t)?t:i);return t===He(i)&&(o?ui(r,s)&&ar(t,"set",n,r,s):ar(t,"add",n,r)),a}deleteProperty(t,n){const r=nt(t,n),i=t[n],s=Reflect.deleteProperty(t,n);return s&&r&&ar(t,"delete",n,void 0,i),s}has(t,n){const r=Reflect.has(t,n);return(!Yn(n)||!Zb.has(n))&&Wt(t,"has",n),r}ownKeys(t){return Wt(t,"iterate",je(t)?"length":zi),Reflect.ownKeys(t)}}class ny extends ey{constructor(t=!1){super(!0,t)}set(t,n){return Nn(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0}deleteProperty(t,n){return Nn(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}}const Qx=new ty,Xx=new ny,Jx=new ty(!0),Zx=new ny(!0),Lu=e=>e,La=e=>Reflect.getPrototypeOf(e);function eE(e,t,n){return function(...r){const i=this.__v_raw,s=He(i),o=Hi(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...r),u=n?Lu:t?$l:Yt;return!t&&Wt(s,"iterate",l?Du:zi),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Na(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";Nn(`${es(e)} operation ${n}failed: target is readonly.`,He(this))}return e==="delete"?!1:e==="clear"?void 0:this}}function tE(e,t){const n={get(i){const s=this.__v_raw,o=He(s),a=He(i);e||(ui(i,a)&&Wt(o,"get",i),Wt(o,"get",a));const{has:l}=La(o),c=t?Lu:e?$l:Yt;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Wt(He(i),"iterate",zi),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=He(s),a=He(i);return e||(ui(i,a)&&Wt(o,"has",i),Wt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=He(a),c=t?Lu:e?$l:Yt;return!e&&Wt(l,"iterate",zi),a.forEach((u,f)=>i.call(s,c(u),c(f),o))}};return Pt(n,e?{add:Na("add"),set:Na("set"),delete:Na("delete"),clear:Na("clear")}:{add(i){!t&&!hn(i)&&!gr(i)&&(i=He(i));const s=He(this);return La(s).has.call(s,i)||(s.add(i),ar(s,"add",i,i)),this},set(i,s){!t&&!hn(s)&&!gr(s)&&(s=He(s));const o=He(this),{has:a,get:l}=La(o);let c=a.call(o,i);c?bp(o,a,i):(i=He(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?ui(s,u)&&ar(o,"set",i,s,u):ar(o,"add",i,s),this},delete(i){const s=He(this),{has:o,get:a}=La(s);let l=o.call(s,i);l?bp(s,o,i):(i=He(i),l=o.call(s,i));const c=a?a.call(s,i):void 0,u=s.delete(i);return l&&ar(s,"delete",i,void 0,c),u},clear(){const i=He(this),s=i.size!==0,o=Hi(i)?new Map(i):new Set(i),a=i.clear();return s&&ar(i,"clear",void 0,void 0,o),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=eE(i,e,t)}),n}function gc(e,t){const n=tE(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(nt(n,i)&&i in r?n:r,i,s)}const nE={get:gc(!1,!1)},rE={get:gc(!1,!0)},iE={get:gc(!0,!1)},sE={get:gc(!0,!0)};function bp(e,t,n){const r=He(n);if(r!==n&&t.call(e,r)){const i=Xd(e);Nn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ry=new WeakMap,iy=new WeakMap,sy=new WeakMap,oy=new WeakMap;function oE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aE(e){return e.__v_skip||!Object.isExtensible(e)?0:oE(Xd(e))}function fn(e){return gr(e)?e:mc(e,!1,Qx,nE,ry)}function ay(e){return mc(e,!1,Jx,rE,iy)}function ly(e){return mc(e,!0,Xx,iE,sy)}function cr(e){return mc(e,!0,Zx,sE,oy)}function mc(e,t,n,r,i){if(!st(e))return Nn(`value cannot be made ${t?"readonly":"reactive"}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=aE(e);if(s===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Kn(e){return gr(e)?Kn(e.__v_raw):!!(e&&e.__v_isReactive)}function gr(e){return!!(e&&e.__v_isReadonly)}function hn(e){return!!(e&&e.__v_isShallow)}function ts(e){return e?!!e.__v_raw:!1}function He(e){const t=e&&e.__v_raw;return t?He(t):e}function si(e){return!nt(e,"__v_skip")&&Object.isExtensible(e)&&Xo(e,"__v_skip",!0),e}const Yt=e=>st(e)?fn(e):e,$l=e=>st(e)?ly(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function Me(e){return cy(e,!1)}function Ea(e){return cy(e,!0)}function cy(e,t){return gt(e)?e:new lE(e,t)}class lE{constructor(t,n){this.dep=new rh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:He(t),this._value=n?t:Yt(t),this.__v_isShallow=n}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||hn(t)||gr(t);t=r?t:He(t),ui(t,n)&&(this._rawValue=t,this._value=r?t:Yt(t),this.dep.trigger({target:this,type:"set",key:"value",newValue:t,oldValue:n}))}}function oi(e){return gt(e)?e.value:e}const cE={get:(e,t,n)=>t==="__v_raw"?e:oi(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return gt(i)&&!gt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function uy(e){return Kn(e)?e:new Proxy(e,cE)}function yp(e){ts(e)||Nn("toRefs() expects a reactive object but received a plain one.");const t=je(e)?new Array(e.length):{};for(const n in e)t[n]=fy(e,n);return t}class uE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return zx(He(this._object),this._key)}}class fE{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ll(e,t,n){return gt(e)?e:qe(e)?new fE(e):st(e)&&arguments.length>1?fy(e,t,n):Me(e)}function fy(e,t,n){const r=e[t];return gt(r)?r:new uE(e,t,n)}class dE{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new rh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Jo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ct!==this)return Kb(this,!0),!0}get value(){const t=this.dep.track({target:this,type:"get",key:"value"});return Qb(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter?this.setter(t):Nn("Write operation failed: computed value is readonly")}}function hE(e,t,n=!1){let r,i;return qe(e)?r=e:(r=e.get,i=e.set),new dE(r,i,n)}const Ba={},Vl=new WeakMap;let Pi;function pE(e,t=!1,n=Pi){if(n){let r=Vl.get(n);r||Vl.set(n,r=[]),r.push(e)}else t||Nn("onWatcherCleanup() was called when there was no active watcher to associate with.")}function gE(e,t,n=ut){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=S=>{(n.onWarn||Nn)("Invalid watch source: ",S,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=S=>i?S:hn(S)||i===!1||i===0?Mr(S,1):Mr(S);let f,d,h,p,b=!1,m=!1;if(gt(e)?(d=()=>e.value,b=hn(e)):Kn(e)?(d=()=>u(e),b=!0):je(e)?(m=!0,b=e.some(S=>Kn(S)||hn(S)),d=()=>e.map(S=>{if(gt(S))return S.value;if(Kn(S))return u(S);if(qe(S))return l?l(S,2):S();c(S)})):qe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Qn();try{h()}finally{Xn()}}const S=Pi;Pi=f;try{return l?l(e,3,[p]):e(p)}finally{Pi=S}}:(d=nn,c(e)),t&&i){const S=d,E=i===!0?1/0:i;d=()=>Mr(S(),E)}const v=Hb(),y=()=>{f.stop(),v&&v.active&&Yd(v.effects,f)};if(s&&t){const S=t;t=(...E)=>{S(...E),y()}}let x=m?new Array(e.length).fill(Ba):Ba;const P=S=>{if(!(!(f.flags&1)||!f.dirty&&!S))if(t){const E=f.run();if(i||b||(m?E.some((A,M)=>ui(A,x[M])):ui(E,x))){h&&h();const A=Pi;Pi=f;try{const M=[E,x===Ba?void 0:m&&x[0]===Ba?[]:x,p];x=E,l?l(t,3,M):t(...M)}finally{Pi=A}}}else f.run()};return a&&a(P),f=new zb(d),f.scheduler=o?()=>o(P,!1):P,p=S=>pE(S,!1,f),h=f.onStop=()=>{const S=Vl.get(f);if(S){if(l)l(S,4);else for(const E of S)E();Vl.delete(f)}},f.onTrack=n.onTrack,f.onTrigger=n.onTrigger,t?r?P(!0):x=f.run():o?o(P.bind(null,!0),!0):f.run(),y.pause=f.pause.bind(f),y.resume=f.resume.bind(f),y.stop=y,y}function Mr(e,t=1/0,n){if(t<=0||!st(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,gt(e))Mr(e.value,t,n);else if(je(e))for(let r=0;r<e.length;r++)Mr(e[r],t,n);else if(dc(e)||Hi(e))e.forEach(r=>{Mr(r,t,n)});else if(jb(e)){for(const r in e)Mr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Mr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qi=[];function cl(e){qi.push(e)}function ul(){qi.pop()}let qc=!1;function Ie(e,...t){if(qc)return;qc=!0,Qn();const n=qi.length?qi[qi.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=mE();if(r)Ys(r,n,11,[e+t.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${wc(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${e}`,...t];i.length&&s.push(`
`,..._E(i)),console.warn(...s)}Xn(),qc=!1}function mE(){let e=qi[qi.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function _E(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...bE(n))}),t}function bE({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${wc(e.component,e.type,r)}`,s=">"+n;return e.props?[i,...yE(e.props),s]:[i+s]}function yE(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...dy(r,e[r]))}),n.length>3&&t.push(" ..."),t}function dy(e,t,n){return St(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:gt(t)?(t=dy(e,He(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):qe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=He(t),n?t:[`${e}=`,t])}function vE(e,t){e!==void 0&&(typeof e!="number"?Ie(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&Ie(`${t} is NaN - the duration expression might be incorrect.`))}const ih={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ys(e,t,n,r){try{return r?e(...r):e()}catch(i){Sa(i,t,n)}}function Jn(e,t,n,r){if(qe(e)){const i=Ys(e,t,n,r);return i&&Qd(i)&&i.catch(s=>{Sa(s,t,n)}),i}if(je(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Jn(e[s],t,n,r));return i}else Ie(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function Sa(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ut;if(t){let a=t.parent;const l=t.proxy,c=ih[n];for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(s){Qn(),Ys(s,null,10,[e,l,c]),Xn();return}}wE(e,n,i,r,o)}function wE(e,t,n,r=!0,i=!1){{const s=ih[t];if(n&&cl(n),Ie(`Unhandled error${s?` during execution of ${s}`:""}`),n&&ul(),r)throw e;console.error(e)}}const cn=[];let sr=-1;const Ms=[];let Zr=null,As=0;const hy=Promise.resolve();let Wl=null;const xE=100;function ns(e){const t=Wl||hy;return e?t.then(this?e.bind(this):e):t}function EE(e){let t=sr+1,n=cn.length;for(;t<n;){const r=t+n>>>1,i=cn[r],s=ea(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function _c(e){if(!(e.flags&1)){const t=ea(e),n=cn[cn.length-1];!n||!(e.flags&2)&&t>=ea(n)?cn.push(e):cn.splice(EE(t),0,e),e.flags|=1,py()}}function py(){Wl||(Wl=hy.then(_y))}function gy(e){je(e)?Ms.push(...e):Zr&&e.id===-1?Zr.splice(As+1,0,e):e.flags&1||(Ms.push(e),e.flags|=1),py()}function vp(e,t,n=sr+1){for(t=t||new Map;n<cn.length;n++){const r=cn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid||sh(t,r))continue;cn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function my(e){if(Ms.length){const t=[...new Set(Ms)].sort((n,r)=>ea(n)-ea(r));if(Ms.length=0,Zr){Zr.push(...t);return}for(Zr=t,e=e||new Map,As=0;As<Zr.length;As++){const n=Zr[As];sh(e,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}Zr=null,As=0}}const ea=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _y(e){e=e||new Map;const t=n=>sh(e,n);try{for(sr=0;sr<cn.length;sr++){const n=cn[sr];if(n&&!(n.flags&8)){if(t(n))continue;n.flags&4&&(n.flags&=-2),Ys(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;sr<cn.length;sr++){const n=cn[sr];n&&(n.flags&=-2)}sr=-1,cn.length=0,my(e),Wl=null,(cn.length||Ms.length)&&_y(e)}}function sh(e,t){const n=e.get(t)||0;if(n>xE){const r=t.i,i=r&&gh(r.type);return Sa(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let ur=!1;const fl=new Map;xa().__VUE_HMR_RUNTIME__={createRecord:Kc(by),rerender:Kc(AE),reload:Kc(TE)};const rs=new Map;function SE(e){const t=e.type.__hmrId;let n=rs.get(t);n||(by(t,e.type),n=rs.get(t)),n.instances.add(e)}function kE(e){rs.get(e.type.__hmrId).instances.delete(e)}function by(e,t){return rs.has(e)?!1:(rs.set(e,{initialDef:Hl(t),instances:new Set}),!0)}function Hl(e){return l0(e)?e.__vccOpts:e}function AE(e,t){const n=rs.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(r=>{t&&(r.render=t,Hl(r.type).render=t),r.renderCache=[],ur=!0,r.update(),ur=!1}))}function TE(e,t){const n=rs.get(e);if(!n)return;t=Hl(t),wp(n.initialDef,t);const r=[...n.instances];for(let i=0;i<r.length;i++){const s=r[i],o=Hl(s.type);let a=fl.get(o);a||(o!==n.initialDef&&wp(o,t),fl.set(o,a=new Set)),a.add(s),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(a.add(s),s.ceReload(t.styles),a.delete(s)):s.parent?_c(()=>{ur=!0,s.parent.update(),ur=!1,a.delete(s)}):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),s.root.ce&&s!==s.root&&s.root.ce._removeChildStyle(o)}gy(()=>{fl.clear()})}function wp(e,t){Pt(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Kc(e){return(t,n)=>{try{return e(t,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let lr,Eo=[],Nu=!1;function ka(e,...t){lr?lr.emit(e,...t):Nu||Eo.push({event:e,args:t})}function yy(e,t){var n,r;lr=e,lr?(lr.enabled=!0,Eo.forEach(({event:i,args:s})=>lr.emit(i,...s)),Eo=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{yy(s,t)}),setTimeout(()=>{lr||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Nu=!0,Eo=[])},3e3)):(Nu=!0,Eo=[])}function CE(e,t){ka("app:init",e,t,{Fragment:dt,Text:Qs,Comment:Lt,Static:hl})}function IE(e){ka("app:unmount",e)}const OE=oh("component:added"),vy=oh("component:updated"),PE=oh("component:removed"),RE=e=>{lr&&typeof lr.cleanupBuffer=="function"&&!lr.cleanupBuffer(e)&&PE(e)};/*! #__NO_SIDE_EFFECTS__ */function oh(e){return t=>{ka(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const ME=wy("perf:start"),DE=wy("perf:end");function wy(e){return(t,n,r)=>{ka(e,t.appContext.app,t.uid,t,n,r)}}function LE(e,t,n){ka("component:emit",e.appContext.app,e,t,n)}let Dt=null,xy=null;function zl(e){const t=Dt;return Dt=e,xy=e&&e.type.__scopeId||null,t}function tt(e,t=Dt,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Lp(-1);const s=zl(t);let o;try{o=e(...i)}finally{zl(s),r._d&&Lp(1)}return vy(t),o};return r._n=!0,r._c=!0,r._d=!0,r}function Ey(e){Sx(e)&&Ie("Do not use built-in directive ids as custom directive id: "+e)}function yt(e,t){if(Dt===null)return Ie("withDirectives can only be used inside render functions."),e;const n=vc(Dt),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=ut]=t[i];s&&(qe(s)&&(s={mounted:s,updated:s}),s.deep&&Mr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function wi(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Qn(),Jn(l,n,8,[e.el,a,e,t]),Xn())}}const NE=Symbol("_vte"),Sy=e=>e.__isTeleport,ei=Symbol("_leaveCb"),ja=Symbol("_enterCb");function ky(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rt(()=>{e.isMounted=!0}),My(()=>{e.isUnmounting=!0}),e}const In=[Function,Array],Ay={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},Ty=e=>{const t=e.subTree;return t.component?Ty(t.component):t},BE={name:"BaseTransition",props:Ay,setup(e,{slots:t}){const n=Xs(),r=ky();return()=>{const i=t.default&&ah(t.default(),!0);if(!i||!i.length)return;const s=Cy(i),o=He(e),{mode:a}=o;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&Ie(`invalid <transition> mode: ${a}`),r.isLeaving)return Gc(s);const l=xp(s);if(!l)return Gc(s);let c=ta(l,o,r,n,f=>c=f);l.type!==Lt&&is(l,c);let u=n.subTree&&xp(n.subTree);if(u&&u.type!==Lt&&!Ni(l,u)&&Ty(n).type!==Lt){let f=ta(u,o,r,n);if(is(u,f),a==="out-in"&&l.type!==Lt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},Gc(s);a==="in-out"&&l.type!==Lt?f.delayLeave=(d,h,p)=>{const b=Iy(r,u);b[String(u.key)]=u,d[ei]=()=>{h(),d[ei]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function Cy(e){let t=e[0];if(e.length>1){let n=!1;for(const r of e)if(r.type!==Lt){if(n){Ie("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}t=r,n=!0}}return t}const jE=BE;function Iy(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ta(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:b,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:x}=t,P=String(e.key),S=Iy(n,e),E=(W,V)=>{W&&Jn(W,r,9,V)},A=(W,V)=>{const q=V[1];E(W,V),je(W)?W.every(I=>I.length<=1)&&q():W.length<=1&&q()},M={mode:o,persisted:a,beforeEnter(W){let V=l;if(!n.isMounted)if(s)V=m||l;else return;W[ei]&&W[ei](!0);const q=S[P];q&&Ni(e,q)&&q.el[ei]&&q.el[ei](),E(V,[W])},enter(W){let V=c,q=u,I=f;if(!n.isMounted)if(s)V=v||c,q=y||u,I=x||f;else return;let J=!1;const le=W[ja]=G=>{J||(J=!0,G?E(I,[W]):E(q,[W]),M.delayedLeave&&M.delayedLeave(),W[ja]=void 0)};V?A(V,[W,le]):le()},leave(W,V){const q=String(e.key);if(W[ja]&&W[ja](!0),n.isUnmounting)return V();E(d,[W]);let I=!1;const J=W[ei]=le=>{I||(I=!0,V(),le?E(b,[W]):E(p,[W]),W[ei]=void 0,S[q]===e&&delete S[q])};S[q]=e,h?A(h,[W,J]):J()},clone(W){const V=ta(W,t,n,r,i);return i&&i(V),V}};return M}function Gc(e){if(Aa(e))return e=mr(e),e.children=null,e}function xp(e){if(!Aa(e))return Sy(e.type)&&e.children?Cy(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&qe(n.default))return n.default()}}function is(e,t){e.shapeFlag&6&&e.component?(e.transition=t,is(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ah(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===dt?(o.patchFlag&128&&i++,r=r.concat(ah(o.children,t,a))):(t||o.type!==Lt)&&r.push(a!=null?mr(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function We(e,t){return qe(e)?Pt({name:e.name},t,{setup:e}):e}function Oy(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const FE=new WeakSet;function jo(e,t,n,r,i=!1){if(je(e)){e.forEach((p,b)=>jo(p,t&&(je(t)?t[b]:t),n,r,i));return}if(Ds(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&jo(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?vc(r.component):r.el,o=i?null:s,{i:a,r:l}=e;if(!a){Ie("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=t&&t.r,u=a.refs===ut?a.refs={}:a.refs,f=a.setupState,d=He(f),h=f===ut?()=>!1:p=>(nt(d,p)&&!gt(d[p])&&Ie(`Template ref "${p}" used on a non-ref value. It will not work in the production build.`),FE.has(d[p])?!1:nt(d,p));if(c!=null&&c!==l&&(St(c)?(u[c]=null,h(c)&&(f[c]=null)):gt(c)&&(c.value=null)),qe(l))Ys(l,a,12,[o,u]);else{const p=St(l),b=gt(l);if(p||b){const m=()=>{if(e.f){const v=p?h(l)?f[l]:u[l]:l.value;i?je(v)&&Yd(v,s):je(v)?v.includes(s)||v.push(s):p?(u[l]=[s],h(l)&&(f[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else p?(u[l]=o,h(l)&&(f[l]=o)):b?(l.value=o,e.k&&(u[e.k]=o)):Ie("Invalid template ref type:",l,`(${typeof l})`)};o?(m.id=-1,xn(m,n)):m()}else Ie("Invalid template ref type:",l,`(${typeof l})`)}}xa().requestIdleCallback;xa().cancelIdleCallback;const Ds=e=>!!e.type.__asyncLoader,Aa=e=>e.type.__isKeepAlive;function UE(e,t){Py(e,"a",t)}function $E(e,t){Py(e,"da",t)}function Py(e,t,n=Bt){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(bc(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Aa(i.parent.vnode)&&VE(r,t,n,i),i=i.parent}}function VE(e,t,n,r){const i=bc(t,e,r,!0);mi(()=>{Yd(r[t],i)},n)}function bc(e,t,n=Bt,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Qn();const a=Ta(n),l=Jn(t,n,e,o);return a(),Xn(),l});return r?i.unshift(s):i.push(s),s}else{const i=Oi(ih[e].replace(/ hook$/,""));Ie(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const jr=e=>(t,n=Bt)=>{(!ra||e==="sp")&&bc(e,(...r)=>t(...r),n)},WE=jr("bm"),Rt=jr("m"),HE=jr("bu"),Ry=jr("u"),My=jr("bum"),mi=jr("um"),zE=jr("sp"),qE=jr("rtg"),KE=jr("rtc");function GE(e,t=Bt){bc("ec",e,t)}const Dy="components";function Ly(e,t){return By(Dy,e,!0,t)||e}const Ny=Symbol.for("v-ndc");function Yc(e){return St(e)?By(Dy,e,!1)||e:e||Ny}function By(e,t,n=!0,r=!1){const i=Dt||Bt;if(i){const s=i.type;{const a=gh(s,!1);if(a&&(a===t||a===dn(t)||a===es(dn(t))))return s}const o=Ep(i[e]||s[e],t)||Ep(i.appContext[e],t);return!o&&r?s:(n&&!o&&Ie(`Failed to resolve ${e.slice(0,-1)}: ${t}
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`),o)}else Ie(`resolve${es(e.slice(0,-1))} can only be used in render() or setup().`)}function Ep(e,t){return e&&(e[t]||e[dn(t)]||e[es(dn(t))])}function Bn(e,t,n,r){let i;const s=n,o=je(e);if(o||St(e)){const a=o&&Kn(e);let l=!1,c=!1;a&&(l=!hn(e),c=gr(e),e=pc(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(l?c?$l(Yt(e[u])):Yt(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){Number.isInteger(e)||Ie(`The v-for range expect an integer value but got ${e}.`),i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(st(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,s)}}else i=[];return i}function ai(e,t,n={},r,i){if(Dt.ce||Dt.parent&&Ds(Dt.parent)&&Dt.parent.ce)return t!=="default"&&(n.name=t),ue(),Ze(dt,null,[ye("slot",n,r&&r())],64);let s=e[t];s&&s.length>1&&(Ie("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),ue();const o=s&&jy(s(n)),a=n.key||o&&o.key,l=Ze(dt,{key:(a&&!Yn(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function jy(e){return e.some(t=>ss(t)?!(t.type===Lt||t.type===dt&&!jy(t.children)):!0)?e:null}const Bu=e=>e?o0(e)?vc(e):Bu(e.parent):null,Ki=Pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>cr(e.props),$attrs:e=>cr(e.attrs),$slots:e=>cr(e.slots),$refs:e=>cr(e.refs),$parent:e=>Bu(e.parent),$root:e=>Bu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$y(e),$forceUpdate:e=>e.f||(e.f=()=>{_c(e.update)}),$nextTick:e=>e.n||(e.n=ns.bind(e.proxy)),$watch:e=>TS.bind(e)}),lh=e=>e==="_"||e==="$",Qc=(e,t)=>e!==ut&&!e.__isScriptSetup&&nt(e,t),Fy={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Qc(r,t))return o[t]=1,r[t];if(i!==ut&&nt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&nt(c,t))return o[t]=3,s[t];if(n!==ut&&nt(n,t))return o[t]=4,n[t];ju&&(o[t]=0)}}const u=Ki[t];let f,d;if(u)return t==="$attrs"?(Wt(e.attrs,"get",""),Gl()):t==="$slots"&&Wt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ut&&nt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,nt(d,t))return d[t];Dt&&(!St(t)||t.indexOf("__v")!==0)&&(i!==ut&&lh(t[0])&&nt(i,t)?Ie(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Dt&&Ie(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Qc(i,t)?(i[t]=n,!0):i.__isScriptSetup&&nt(i,t)?(Ie(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==ut&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)?(Ie(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(Ie(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:n}):s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==ut&&nt(e,o)||Qc(t,o)||(a=s[0])&&nt(a,o)||nt(r,o)||nt(Ki,o)||nt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};Fy.ownKeys=e=>(Ie("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function YE(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Ki).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Ki[n](e),set:nn})}),t}function QE(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>e.props[r],set:nn})})}function XE(e){const{ctx:t,setupState:n}=e;Object.keys(He(n)).forEach(r=>{if(!n.__isScriptSetup){if(lh(r[0])){Ie(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:nn})}})}function Sp(e){return je(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function JE(){const e=Object.create(null);return(t,n)=>{e[n]?Ie(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let ju=!0;function ZE(e){const t=$y(e),n=e.proxy,r=e.ctx;ju=!1,t.beforeCreate&&kp(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:b,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:x,unmounted:P,render:S,renderTracked:E,renderTriggered:A,errorCaptured:M,serverPrefetch:W,expose:V,inheritAttrs:q,components:I,directives:J,filters:le}=t,G=JE();{const[oe]=e.propsOptions;if(oe)for(const fe in oe)G("Props",fe)}if(c&&eS(c,r,G),o)for(const oe in o){const fe=o[oe];qe(fe)?(Object.defineProperty(r,oe,{value:fe.bind(n),configurable:!0,enumerable:!0,writable:!0}),G("Methods",oe)):Ie(`Method "${oe}" has type "${typeof fe}" in the component definition. Did you reference the function correctly?`)}if(i){qe(i)||Ie("The data option must be a function. Plain object usage is no longer supported.");const oe=i.call(n,n);if(Qd(oe)&&Ie("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!st(oe))Ie("data() should return an object.");else{e.data=fn(oe);for(const fe in oe)G("Data",fe),lh(fe[0])||Object.defineProperty(r,fe,{configurable:!0,enumerable:!0,get:()=>oe[fe],set:nn})}}if(ju=!0,s)for(const oe in s){const fe=s[oe],me=qe(fe)?fe.bind(n,n):qe(fe.get)?fe.get.bind(n,n):nn;me===nn&&Ie(`Computed property "${oe}" has no getter.`);const ae=!qe(fe)&&qe(fe.set)?fe.set.bind(n):()=>{Ie(`Write operation failed: computed property "${oe}" is readonly.`)},ge=Ye({get:me,set:ae});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>ge.value,set:F=>ge.value=F}),G("Computed",oe)}if(a)for(const oe in a)Uy(a[oe],r,n,oe);if(l){const oe=qe(l)?l.call(n):l;Reflect.ownKeys(oe).forEach(fe=>{dl(fe,oe[fe])})}u&&kp(u,e,"c");function de(oe,fe){je(fe)?fe.forEach(me=>oe(me.bind(n))):fe&&oe(fe.bind(n))}if(de(WE,f),de(Rt,d),de(HE,h),de(Ry,p),de(UE,b),de($E,m),de(GE,M),de(KE,E),de(qE,A),de(My,y),de(mi,P),de(zE,W),je(V))if(V.length){const oe=e.exposed||(e.exposed={});V.forEach(fe=>{Object.defineProperty(oe,fe,{get:()=>n[fe],set:me=>n[fe]=me})})}else e.exposed||(e.exposed={});S&&e.render===nn&&(e.render=S),q!=null&&(e.inheritAttrs=q),I&&(e.components=I),J&&(e.directives=J),W&&Oy(e)}function eS(e,t,n=nn){je(e)&&(e=Fu(e));for(const r in e){const i=e[r];let s;st(i)?"default"in i?s=Ln(i.from||r,i.default,!0):s=Ln(i.from||r):s=Ln(i),gt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s,n("Inject",r)}}function kp(e,t,n){Jn(je(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Uy(e,t,n,r){let i=r.includes(".")?Jy(n,r):()=>n[r];if(St(e)){const s=t[e];qe(s)?_t(i,s):Ie(`Invalid watch handler specified by key "${e}"`,s)}else if(qe(e))_t(i,e.bind(n));else if(st(e))if(je(e))e.forEach(s=>Uy(s,t,n,r));else{const s=qe(e.handler)?e.handler.bind(n):t[e.handler];qe(s)?_t(i,s,e):Ie(`Invalid watch handler specified by key "${e.handler}"`,s)}else Ie(`Invalid watch option: "${r}"`,e)}function $y(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>ql(l,c,o,!0)),ql(l,t,o)),st(t)&&s.set(t,l),l}function ql(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&ql(e,s,n,!0),i&&i.forEach(o=>ql(e,o,n,!0));for(const o in t)if(r&&o==="expose")Ie('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=tS[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const tS={data:Ap,props:Tp,emits:Tp,methods:So,computed:So,beforeCreate:an,created:an,beforeMount:an,mounted:an,beforeUpdate:an,updated:an,beforeDestroy:an,beforeUnmount:an,destroyed:an,unmounted:an,activated:an,deactivated:an,errorCaptured:an,serverPrefetch:an,components:So,directives:So,watch:rS,provide:Ap,inject:nS};function Ap(e,t){return t?e?function(){return Pt(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function nS(e,t){return So(Fu(e),Fu(t))}function Fu(e){if(je(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function an(e,t){return e?[...new Set([].concat(e,t))]:t}function So(e,t){return e?Pt(Object.create(null),e,t):t}function Tp(e,t){return e?je(e)&&je(t)?[...new Set([...e,...t])]:Pt(Object.create(null),Sp(e),Sp(t??{})):t}function rS(e,t){if(!e)return t;if(!t)return e;const n=Pt(Object.create(null),e);for(const r in t)n[r]=an(e[r],t[r]);return n}function Vy(){return{app:null,config:{isNativeTag:xx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iS=0;function sS(e,t){return function(r,i=null){qe(r)||(r=Pt({},r)),i!=null&&!st(i)&&(Ie("root props passed to app.mount() must be an object."),i=null);const s=Vy(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:iS++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:qu,get config(){return s.config},set config(u){Ie("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return o.has(u)?Ie("Plugin has already been applied to target app."):u&&qe(u.install)?(o.add(u),u.install(c,...f)):qe(u)?(o.add(u),u(c,...f)):Ie('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return s.mixins.includes(u)?Ie("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),c},component(u,f){return zu(u,s.config),f?(s.components[u]&&Ie(`Component "${u}" has already been registered in target app.`),s.components[u]=f,c):s.components[u]},directive(u,f){return Ey(u),f?(s.directives[u]&&Ie(`Directive "${u}" has already been registered in target app.`),s.directives[u]=f,c):s.directives[u]},mount(u,f,d){if(l)Ie("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&Ie("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=c._ceVNode||ye(r,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),s.reload=()=>{const p=mr(h);p.el=null,e(p,u,d)},e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,c._instance=h.component,CE(c,qu),vc(h.component)}},onUnmount(u){typeof u!="function"&&Ie(`Expected function as first argument to app.onUnmount(), but got ${typeof u}`),a.push(u)},unmount(){l?(Jn(a,c._instance,16),e(null,c._container),c._instance=null,IE(c),delete c._container.__vue_app__):Ie("Cannot unmount an app that is not mounted.")},provide(u,f){return u in s.provides&&(nt(s.provides,u)?Ie(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`):Ie(`App already provides property with key "${String(u)}" inherited from its parent element. It will be overwritten with the new value.`)),s.provides[u]=f,c},runWithContext(u){const f=Gi;Gi=c;try{return u()}finally{Gi=f}}};return c}}let Gi=null;function dl(e,t){if(!Bt)Ie("provide() can only be used inside setup().");else{let n=Bt.provides;const r=Bt.parent&&Bt.parent.provides;r===n&&(n=Bt.provides=Object.create(r)),n[e]=t}}function Ln(e,t,n=!1){const r=Bt||Dt;if(r||Gi){let i=Gi?Gi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&qe(t)?t.call(r&&r.proxy):t;Ie(`injection "${String(e)}" not found.`)}else Ie("inject() can only be used inside setup() or functional components.")}function oS(){return!!(Bt||Dt||Gi)}const Wy={},Hy=()=>Object.create(Wy),zy=e=>Object.getPrototypeOf(e)===Wy;function aS(e,t,n,r=!1){const i={},s=Hy();e.propsDefaults=Object.create(null),qy(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);Gy(t||{},i,e),n?e.props=r?i:ay(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function lS(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function cS(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=He(i),[l]=e.propsOptions;let c=!1;if(!lS(e)&&(r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(yc(e.emitsOptions,d))continue;const h=t[d];if(l)if(nt(s,d))h!==s[d]&&(s[d]=h,c=!0);else{const p=dn(d);i[p]=Uu(l,a,p,h,e,!1)}else h!==s[d]&&(s[d]=h,c=!0)}}}else{qy(e,t,i,s)&&(c=!0);let u;for(const f in a)(!t||!nt(t,f)&&((u=di(f))===f||!nt(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=Uu(l,a,f,void 0,e,!0)):delete i[f]);if(s!==a)for(const f in s)(!t||!nt(t,f))&&(delete s[f],c=!0)}c&&ar(e.attrs,"set",""),Gy(t||{},i,e)}function qy(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Lo(l))continue;const c=t[l];let u;i&&nt(i,u=dn(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:yc(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=He(n),c=a||ut;for(let u=0;u<s.length;u++){const f=s[u];n[f]=Uu(i,l,f,c[f],e,!nt(c,f))}}return o}function Uu(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=nt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&qe(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=Ta(i);r=c[n]=l.call(null,t),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===di(n))&&(r=!0))}return r}const uS=new WeakMap;function Ky(e,t,n=!1){const r=n?uS:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!qe(e)){const u=f=>{l=!0;const[d,h]=Ky(f,t,!0);Pt(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return st(e)&&r.set(e,Rs),Rs;if(je(s))for(let u=0;u<s.length;u++){St(s[u])||Ie("props must be strings when using array syntax.",s[u]);const f=dn(s[u]);Cp(f)&&(o[f]=ut)}else if(s){st(s)||Ie("invalid props options",s);for(const u in s){const f=dn(u);if(Cp(f)){const d=s[u],h=o[f]=je(d)||qe(d)?{type:d}:Pt({},d),p=h.type;let b=!1,m=!0;if(je(p))for(let v=0;v<p.length;++v){const y=p[v],x=qe(y)&&y.name;if(x==="Boolean"){b=!0;break}else x==="String"&&(m=!1)}else b=qe(p)&&p.name==="Boolean";h[0]=b,h[1]=m,(b||nt(h,"default"))&&a.push(f)}}}const c=[o,a];return st(e)&&r.set(e,c),c}function Cp(e){return e[0]!=="$"&&!Lo(e)?!0:(Ie(`Invalid prop name: "${e}" is a reserved property.`),!1)}function fS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Gy(e,t,n){const r=He(t),i=n.propsOptions[0],s=Object.keys(e).map(o=>dn(o));for(const o in i){let a=i[o];a!=null&&dS(o,r[o],a,cr(r),!s.includes(o))}}function dS(e,t,n,r,i){const{type:s,required:o,validator:a,skipCheck:l}=n;if(o&&i){Ie('Missing required prop: "'+e+'"');return}if(!(t==null&&!o)){if(s!=null&&s!==!0&&!l){let c=!1;const u=je(s)?s:[s],f=[];for(let d=0;d<u.length&&!c;d++){const{valid:h,expectedType:p}=pS(t,u[d]);f.push(p||""),c=h}if(!c){Ie(gS(e,t,f));return}}a&&!a(t,r)&&Ie('Invalid prop: custom validator check failed for prop "'+e+'".')}}const hS=Br("String,Number,Boolean,Function,Symbol,BigInt");function pS(e,t){let n;const r=fS(t);if(r==="null")n=e===null;else if(hS(r)){const i=typeof e;n=i===r.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else r==="Object"?n=st(e):r==="Array"?n=je(e):n=e instanceof t;return{valid:n,expectedType:r}}function gS(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(es).join(" | ")}`;const i=n[0],s=Xd(t),o=Ip(t,i),a=Ip(t,s);return n.length===1&&Op(i)&&!mS(i,s)&&(r+=` with value ${o}`),r+=`, got ${s} `,Op(s)&&(r+=`with value ${a}.`),r}function Ip(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Op(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function mS(...e){return e.some(t=>t.toLowerCase()==="boolean")}const ch=e=>e[0]==="_"||e==="$stable",uh=e=>je(e)?e.map(Hn):[Hn(e)],_S=(e,t,n)=>{if(t._n)return t;const r=tt((...i)=>(Bt&&!(n===null&&Dt)&&!(n&&n.root!==Bt.root)&&Ie(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),uh(t(...i))),n);return r._c=!1,r},Yy=(e,t,n)=>{const r=e._ctx;for(const i in e){if(ch(i))continue;const s=e[i];if(qe(s))t[i]=_S(i,s,r);else if(s!=null){Ie(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=uh(s);t[i]=()=>o}}},Qy=(e,t)=>{Aa(e.vnode)||Ie("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=uh(t);e.slots.default=()=>n},$u=(e,t,n)=>{for(const r in t)(n||!ch(r))&&(e[r]=t[r])},bS=(e,t,n)=>{const r=e.slots=Hy();if(e.vnode.shapeFlag&32){const i=t.__;i&&Xo(r,"__",i,!0);const s=t._;s?($u(r,t,n),n&&Xo(r,"_",s,!0)):Yy(t,r)}else t&&Qy(e,t)},yS=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=ut;if(r.shapeFlag&32){const a=t._;a?ur?($u(i,t,n),ar(e,"set","$slots")):n&&a===1?s=!1:$u(i,t,n):(s=!t.$stable,Yy(t,i)),o=t}else t&&(Qy(e,t),o={default:1});if(s)for(const a in i)!ch(a)&&o[a]==null&&delete i[a]};let lo,ri;function _s(e,t){e.appContext.config.performance&&Kl()&&ri.mark(`vue-${t}-${e.uid}`),ME(e,t,Kl()?ri.now():Date.now())}function bs(e,t){if(e.appContext.config.performance&&Kl()){const n=`vue-${t}-${e.uid}`,r=n+":end";ri.mark(r),ri.measure(`<${wc(e,e.type)}> ${t}`,n,r),ri.clearMarks(n),ri.clearMarks(r)}DE(e,t,Kl()?ri.now():Date.now())}function Kl(){return lo!==void 0||(typeof window<"u"&&window.performance?(lo=!0,ri=window.performance):lo=!1),lo}function vS(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const xn=DS;function wS(e){return xS(e)}function xS(e,t){vS();const n=xa();n.__VUE__=!0,yy(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=nn,insertStaticContent:p}=e,b=(k,O,T,D=null,U=null,Q=null,re=void 0,se=null,B=ur?!1:!!O.dynamicChildren)=>{if(k===O)return;k&&!Ni(k,O)&&(D=N(k),he(k,U,Q,!0),k=null),O.patchFlag===-2&&(B=!1,O.dynamicChildren=null);const{type:ee,ref:pe,shapeFlag:te}=O;switch(ee){case Qs:m(k,O,T,D);break;case Lt:v(k,O,T,D);break;case hl:k==null?y(O,T,D,re):x(k,O,T,re);break;case dt:J(k,O,T,D,U,Q,re,se,B);break;default:te&1?E(k,O,T,D,U,Q,re,se,B):te&6?le(k,O,T,D,U,Q,re,se,B):te&64||te&128?ee.process(k,O,T,D,U,Q,re,se,B,Z):Ie("Invalid VNode type:",ee,`(${typeof ee})`)}pe!=null&&U?jo(pe,k&&k.ref,Q,O||k,!O):pe==null&&k&&k.ref!=null&&jo(k.ref,null,Q,k,!0)},m=(k,O,T,D)=>{if(k==null)r(O.el=a(O.children),T,D);else{const U=O.el=k.el;O.children!==k.children&&c(U,O.children)}},v=(k,O,T,D)=>{k==null?r(O.el=l(O.children||""),T,D):O.el=k.el},y=(k,O,T,D)=>{[k.el,k.anchor]=p(k.children,O,T,D,k.el,k.anchor)},x=(k,O,T,D)=>{if(O.children!==k.children){const U=d(k.anchor);S(k),[O.el,O.anchor]=p(O.children,T,U,D)}else O.el=k.el,O.anchor=k.anchor},P=({el:k,anchor:O},T,D)=>{let U;for(;k&&k!==O;)U=d(k),r(k,T,D),k=U;r(O,T,D)},S=({el:k,anchor:O})=>{let T;for(;k&&k!==O;)T=d(k),i(k),k=T;i(O)},E=(k,O,T,D,U,Q,re,se,B)=>{O.type==="svg"?re="svg":O.type==="math"&&(re="mathml"),k==null?A(O,T,D,U,Q,re,se,B):V(k,O,U,Q,re,se,B)},A=(k,O,T,D,U,Q,re,se)=>{let B,ee;const{props:pe,shapeFlag:te,transition:Se,dirs:g}=k;if(B=k.el=o(k.type,Q,pe&&pe.is,pe),te&8?u(B,k.children):te&16&&W(k.children,B,null,D,U,Xc(k,Q),re,se),g&&wi(k,null,D,"created"),M(B,k,k.scopeId,re,D),pe){for(const w in pe)w!=="value"&&!Lo(w)&&s(B,w,null,pe[w],Q,D);"value"in pe&&s(B,"value",null,pe.value,Q),(ee=pe.onVnodeBeforeMount)&&Zn(ee,D,k)}Xo(B,"__vnode",k,!0),Xo(B,"__vueParentComponent",D,!0),g&&wi(k,null,D,"beforeMount");const _=ES(U,Se);_&&Se.beforeEnter(B),r(B,O,T),((ee=pe&&pe.onVnodeMounted)||_||g)&&xn(()=>{ee&&Zn(ee,D,k),_&&Se.enter(B),g&&wi(k,null,D,"mounted")},U)},M=(k,O,T,D,U)=>{if(T&&h(k,T),D)for(let Q=0;Q<D.length;Q++)h(k,D[Q]);if(U){let Q=U.subTree;if(Q.patchFlag>0&&Q.patchFlag&2048&&(Q=hh(Q.children)||Q),O===Q||t0(Q.type)&&(Q.ssContent===O||Q.ssFallback===O)){const re=U.vnode;M(k,re,re.scopeId,re.slotScopeIds,U.parent)}}},W=(k,O,T,D,U,Q,re,se,B=0)=>{for(let ee=B;ee<k.length;ee++){const pe=k[ee]=se?ti(k[ee]):Hn(k[ee]);b(null,pe,O,T,D,U,Q,re,se)}},V=(k,O,T,D,U,Q,re)=>{const se=O.el=k.el;se.__vnode=O;let{patchFlag:B,dynamicChildren:ee,dirs:pe}=O;B|=k.patchFlag&16;const te=k.props||ut,Se=O.props||ut;let g;if(T&&xi(T,!1),(g=Se.onVnodeBeforeUpdate)&&Zn(g,T,O,k),pe&&wi(O,k,T,"beforeUpdate"),T&&xi(T,!0),ur&&(B=0,re=!1,ee=null),(te.innerHTML&&Se.innerHTML==null||te.textContent&&Se.textContent==null)&&u(se,""),ee?(q(k.dynamicChildren,ee,se,T,D,Xc(O,U),Q),Vu(k,O)):re||me(k,O,se,null,T,D,Xc(O,U),Q,!1),B>0){if(B&16)I(se,te,Se,T,U);else if(B&2&&te.class!==Se.class&&s(se,"class",null,Se.class,U),B&4&&s(se,"style",te.style,Se.style,U),B&8){const _=O.dynamicProps;for(let w=0;w<_.length;w++){const C=_[w],$=te[C],Y=Se[C];(Y!==$||C==="value")&&s(se,C,$,Y,U,T)}}B&1&&k.children!==O.children&&u(se,O.children)}else!re&&ee==null&&I(se,te,Se,T,U);((g=Se.onVnodeUpdated)||pe)&&xn(()=>{g&&Zn(g,T,O,k),pe&&wi(O,k,T,"updated")},D)},q=(k,O,T,D,U,Q,re)=>{for(let se=0;se<O.length;se++){const B=k[se],ee=O[se],pe=B.el&&(B.type===dt||!Ni(B,ee)||B.shapeFlag&198)?f(B.el):T;b(B,ee,pe,null,D,U,Q,re,!0)}},I=(k,O,T,D,U)=>{if(O!==T){if(O!==ut)for(const Q in O)!Lo(Q)&&!(Q in T)&&s(k,Q,O[Q],null,U,D);for(const Q in T){if(Lo(Q))continue;const re=T[Q],se=O[Q];re!==se&&Q!=="value"&&s(k,Q,se,re,U,D)}"value"in T&&s(k,"value",O.value,T.value,U)}},J=(k,O,T,D,U,Q,re,se,B)=>{const ee=O.el=k?k.el:a(""),pe=O.anchor=k?k.anchor:a("");let{patchFlag:te,dynamicChildren:Se,slotScopeIds:g}=O;(ur||te&2048)&&(te=0,B=!1,Se=null),g&&(se=se?se.concat(g):g),k==null?(r(ee,T,D),r(pe,T,D),W(O.children||[],T,pe,U,Q,re,se,B)):te>0&&te&64&&Se&&k.dynamicChildren?(q(k.dynamicChildren,Se,T,U,Q,re,se),Vu(k,O)):me(k,O,T,pe,U,Q,re,se,B)},le=(k,O,T,D,U,Q,re,se,B)=>{O.slotScopeIds=se,k==null?O.shapeFlag&512?U.ctx.activate(O,T,D,re,B):G(O,T,D,U,Q,re,B):de(k,O,B)},G=(k,O,T,D,U,Q,re)=>{const se=k.component=$S(k,D,U);if(se.type.__hmrId&&SE(se),cl(k),_s(se,"mount"),Aa(k)&&(se.ctx.renderer=Z),_s(se,"init"),WS(se,!1,re),bs(se,"init"),ur&&(k.el=null),se.asyncDep){if(U&&U.registerDep(se,oe,re),!k.el){const B=se.subTree=ye(Lt);v(null,B,O,T)}}else oe(se,k,O,T,U,Q,re);ul(),bs(se,"mount")},de=(k,O,T)=>{const D=O.component=k.component;if(RS(k,O,T))if(D.asyncDep&&!D.asyncResolved){cl(O),fe(D,O,T),ul();return}else D.next=O,D.update();else O.el=k.el,D.vnode=O},oe=(k,O,T,D,U,Q,re)=>{const se=()=>{if(k.isMounted){let{next:te,bu:Se,u:g,parent:_,vnode:w}=k;{const Te=Xy(k);if(Te){te&&(te.el=w.el,fe(k,te,re)),Te.asyncDep.then(()=>{k.isUnmounted||se()});return}}let C=te,$;cl(te||k.vnode),xi(k,!1),te?(te.el=w.el,fe(k,te,re)):te=w,Se&&ks(Se),($=te.props&&te.props.onVnodeBeforeUpdate)&&Zn($,_,te,w),xi(k,!0),_s(k,"render");const Y=Rp(k);bs(k,"render");const ce=k.subTree;k.subTree=Y,_s(k,"patch"),b(ce,Y,f(ce.el),N(ce),k,U,Q),bs(k,"patch"),te.el=Y.el,C===null&&MS(k,Y.el),g&&xn(g,U),($=te.props&&te.props.onVnodeUpdated)&&xn(()=>Zn($,_,te,w),U),vy(k),ul()}else{let te;const{el:Se,props:g}=O,{bm:_,m:w,parent:C,root:$,type:Y}=k,ce=Ds(O);xi(k,!1),_&&ks(_),!ce&&(te=g&&g.onVnodeBeforeMount)&&Zn(te,C,O),xi(k,!0);{$.ce&&$.ce._def.shadowRoot!==!1&&$.ce._injectChildStyle(Y),_s(k,"render");const Te=k.subTree=Rp(k);bs(k,"render"),_s(k,"patch"),b(null,Te,T,D,k,U,Q),bs(k,"patch"),O.el=Te.el}if(w&&xn(w,U),!ce&&(te=g&&g.onVnodeMounted)){const Te=O;xn(()=>Zn(te,C,Te),U)}(O.shapeFlag&256||C&&Ds(C.vnode)&&C.vnode.shapeFlag&256)&&k.a&&xn(k.a,U),k.isMounted=!0,OE(k),O=T=D=null}};k.scope.on();const B=k.effect=new zb(se);k.scope.off();const ee=k.update=B.run.bind(B),pe=k.job=B.runIfDirty.bind(B);pe.i=k,pe.id=k.uid,B.scheduler=()=>_c(pe),xi(k,!0),B.onTrack=k.rtc?te=>ks(k.rtc,te):void 0,B.onTrigger=k.rtg?te=>ks(k.rtg,te):void 0,ee()},fe=(k,O,T)=>{O.component=k;const D=k.vnode.props;k.vnode=O,k.next=null,cS(k,O.props,D,T),yS(k,O.children,T),Qn(),vp(k),Xn()},me=(k,O,T,D,U,Q,re,se,B=!1)=>{const ee=k&&k.children,pe=k?k.shapeFlag:0,te=O.children,{patchFlag:Se,shapeFlag:g}=O;if(Se>0){if(Se&128){ge(ee,te,T,D,U,Q,re,se,B);return}else if(Se&256){ae(ee,te,T,D,U,Q,re,se,B);return}}g&8?(pe&16&&L(ee,U,Q),te!==ee&&u(T,te)):pe&16?g&16?ge(ee,te,T,D,U,Q,re,se,B):L(ee,U,Q,!0):(pe&8&&u(T,""),g&16&&W(te,T,D,U,Q,re,se,B))},ae=(k,O,T,D,U,Q,re,se,B)=>{k=k||Rs,O=O||Rs;const ee=k.length,pe=O.length,te=Math.min(ee,pe);let Se;for(Se=0;Se<te;Se++){const g=O[Se]=B?ti(O[Se]):Hn(O[Se]);b(k[Se],g,T,null,U,Q,re,se,B)}ee>pe?L(k,U,Q,!0,!1,te):W(O,T,D,U,Q,re,se,B,te)},ge=(k,O,T,D,U,Q,re,se,B)=>{let ee=0;const pe=O.length;let te=k.length-1,Se=pe-1;for(;ee<=te&&ee<=Se;){const g=k[ee],_=O[ee]=B?ti(O[ee]):Hn(O[ee]);if(Ni(g,_))b(g,_,T,null,U,Q,re,se,B);else break;ee++}for(;ee<=te&&ee<=Se;){const g=k[te],_=O[Se]=B?ti(O[Se]):Hn(O[Se]);if(Ni(g,_))b(g,_,T,null,U,Q,re,se,B);else break;te--,Se--}if(ee>te){if(ee<=Se){const g=Se+1,_=g<pe?O[g].el:D;for(;ee<=Se;)b(null,O[ee]=B?ti(O[ee]):Hn(O[ee]),T,_,U,Q,re,se,B),ee++}}else if(ee>Se)for(;ee<=te;)he(k[ee],U,Q,!0),ee++;else{const g=ee,_=ee,w=new Map;for(ee=_;ee<=Se;ee++){const Ue=O[ee]=B?ti(O[ee]):Hn(O[ee]);Ue.key!=null&&(w.has(Ue.key)&&Ie("Duplicate keys found during update:",JSON.stringify(Ue.key),"Make sure keys are unique."),w.set(Ue.key,ee))}let C,$=0;const Y=Se-_+1;let ce=!1,Te=0;const Oe=new Array(Y);for(ee=0;ee<Y;ee++)Oe[ee]=0;for(ee=g;ee<=te;ee++){const Ue=k[ee];if($>=Y){he(Ue,U,Q,!0);continue}let Fe;if(Ue.key!=null)Fe=w.get(Ue.key);else for(C=_;C<=Se;C++)if(Oe[C-_]===0&&Ni(Ue,O[C])){Fe=C;break}Fe===void 0?he(Ue,U,Q,!0):(Oe[Fe-_]=ee+1,Fe>=Te?Te=Fe:ce=!0,b(Ue,O[Fe],T,null,U,Q,re,se,B),$++)}const Ve=ce?SS(Oe):Rs;for(C=Ve.length-1,ee=Y-1;ee>=0;ee--){const Ue=_+ee,Fe=O[Ue],vn=Ue+1<pe?O[Ue+1].el:D;Oe[ee]===0?b(null,Fe,T,vn,U,Q,re,se,B):ce&&(C<0||ee!==Ve[C]?F(Fe,T,vn,2):C--)}}},F=(k,O,T,D,U=null)=>{const{el:Q,type:re,transition:se,children:B,shapeFlag:ee}=k;if(ee&6){F(k.component.subTree,O,T,D);return}if(ee&128){k.suspense.move(O,T,D);return}if(ee&64){re.move(k,O,T,Z);return}if(re===dt){r(Q,O,T);for(let te=0;te<B.length;te++)F(B[te],O,T,D);r(k.anchor,O,T);return}if(re===hl){P(k,O,T);return}if(D!==2&&ee&1&&se)if(D===0)se.beforeEnter(Q),r(Q,O,T),xn(()=>se.enter(Q),U);else{const{leave:te,delayLeave:Se,afterLeave:g}=se,_=()=>{k.ctx.isUnmounted?i(Q):r(Q,O,T)},w=()=>{te(Q,()=>{_(),g&&g()})};Se?Se(Q,_,w):w()}else r(Q,O,T)},he=(k,O,T,D=!1,U=!1)=>{const{type:Q,props:re,ref:se,children:B,dynamicChildren:ee,shapeFlag:pe,patchFlag:te,dirs:Se,cacheIndex:g}=k;if(te===-2&&(U=!1),se!=null&&(Qn(),jo(se,null,T,k,!0),Xn()),g!=null&&(O.renderCache[g]=void 0),pe&256){O.ctx.deactivate(k);return}const _=pe&1&&Se,w=!Ds(k);let C;if(w&&(C=re&&re.onVnodeBeforeUnmount)&&Zn(C,O,k),pe&6)Pe(k.component,T,D);else{if(pe&128){k.suspense.unmount(T,D);return}_&&wi(k,null,O,"beforeUnmount"),pe&64?k.type.remove(k,O,T,Z,D):ee&&!ee.hasOnce&&(Q!==dt||te>0&&te&64)?L(ee,O,T,!1,!0):(Q===dt&&te&384||!U&&pe&16)&&L(B,O,T),D&&be(k)}(w&&(C=re&&re.onVnodeUnmounted)||_)&&xn(()=>{C&&Zn(C,O,k),_&&wi(k,null,O,"unmounted")},T)},be=k=>{const{type:O,el:T,anchor:D,transition:U}=k;if(O===dt){k.patchFlag>0&&k.patchFlag&2048&&U&&!U.persisted?k.children.forEach(re=>{re.type===Lt?i(re.el):be(re)}):X(T,D);return}if(O===hl){S(k);return}const Q=()=>{i(T),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(k.shapeFlag&1&&U&&!U.persisted){const{leave:re,delayLeave:se}=U,B=()=>re(T,Q);se?se(k.el,Q,B):B()}else Q()},X=(k,O)=>{let T;for(;k!==O;)T=d(k),i(k),k=T;i(O)},Pe=(k,O,T)=>{k.type.__hmrId&&kE(k);const{bum:D,scope:U,job:Q,subTree:re,um:se,m:B,a:ee,parent:pe,slots:{__:te}}=k;Pp(B),Pp(ee),D&&ks(D),pe&&je(te)&&te.forEach(Se=>{pe.renderCache[Se]=void 0}),U.stop(),Q&&(Q.flags|=8,he(re,k,O,T)),se&&xn(se,O),xn(()=>{k.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve()),RE(k)},L=(k,O,T,D=!1,U=!1,Q=0)=>{for(let re=Q;re<k.length;re++)he(k[re],O,T,D,U)},N=k=>{if(k.shapeFlag&6)return N(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const O=d(k.anchor||k.el),T=O&&O[NE];return T?d(T):O};let ne=!1;const K=(k,O,T)=>{k==null?O._vnode&&he(O._vnode,null,null,!0):b(O._vnode||null,k,O,null,null,null,T),O._vnode=k,ne||(ne=!0,vp(),my(),ne=!1)},Z={p:b,um:he,m:F,r:be,mt:G,mc:W,pc:me,pbc:q,n:N,o:e};return{render:K,hydrate:void 0,createApp:sS(K)}}function Xc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ES(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vu(e,t,n=!1){const r=e.children,i=t.children;if(je(r)&&je(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ti(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Vu(o,a)),a.type===Qs&&(a.el=o.el),a.type===Lt&&!a.el&&(a.el=o.el),a.el&&(a.el.__vnode=a)}}function SS(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Xy(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xy(t)}function Pp(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const kS=Symbol.for("v-scx"),AS=()=>{{const e=Ln(kS);return e||Ie("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function fh(e,t){return dh(e,null,t)}function _t(e,t,n){return qe(t)||Ie("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),dh(e,t,n)}function dh(e,t,n=ut){const{immediate:r,deep:i,flush:s,once:o}=n;t||(r!==void 0&&Ie('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&Ie('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&Ie('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=Pt({},n);a.onWarn=Ie;const l=t&&r||!t&&s!=="post";let c;if(ra){if(s==="sync"){const h=AS();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=nn,h.resume=nn,h.pause=nn,h}}const u=Bt;a.call=(h,p,b)=>Jn(h,u,p,b);let f=!1;s==="post"?a.scheduler=h=>{xn(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():_c(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=gE(e,t,a);return ra&&(c?c.push(d):l&&d()),d}function TS(e,t,n){const r=this.proxy,i=St(e)?e.includes(".")?Jy(r,e):()=>r[e]:e.bind(r,r);let s;qe(t)?s=t:(s=t.handler,n=t);const o=Ta(this),a=dh(i,s.bind(r),n);return o(),a}function Jy(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const CS=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dn(t)}Modifiers`]||e[`${di(t)}Modifiers`];function IS(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ut;{const{emitsOptions:u,propsOptions:[f]}=e;if(u)if(!(t in u))(!f||!(Oi(dn(t))in f))&&Ie(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Oi(dn(t))}" prop.`);else{const d=u[t];qe(d)&&(d(...n)||Ie(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const s=t.startsWith("update:"),o=s&&CS(r,t.slice(7));o&&(o.trim&&(i=n.map(u=>St(u)?u.trim():u)),o.number&&(i=n.map(Fl))),LE(e,t,i);{const u=t.toLowerCase();u!==t&&r[Oi(u)]&&Ie(`Event "${u}" is emitted in component ${wc(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${di(t)}" instead of "${t}".`)}let a,l=r[a=Oi(t)]||r[a=Oi(dn(t))];!l&&s&&(l=r[a=Oi(di(t))]),l&&Jn(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Jn(c,e,6,i)}}function Zy(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!qe(e)){const l=c=>{const u=Zy(c,t,!0);u&&(a=!0,Pt(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(st(e)&&r.set(e,null),null):(je(s)?s.forEach(l=>o[l]=null):Pt(o,s),st(e)&&r.set(e,o),o)}function yc(e,t){return!e||!va(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,di(t))||nt(e,t))}let Wu=!1;function Gl(){Wu=!0}function Rp(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:b}=e,m=zl(e);let v,y;Wu=!1;try{if(n.shapeFlag&4){const S=i||r,E=h.__isScriptSetup?new Proxy(S,{get(A,M,W){return Ie(`Property '${String(M)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(A,M,W)}}):S;v=Hn(c.call(E,S,u,cr(f),h,d,p)),y=a}else{const S=t;a===f&&Gl(),v=Hn(S.length>1?S(cr(f),{get attrs(){return Gl(),cr(a)},slots:o,emit:l}):S(cr(f),null)),y=t.props?a:OS(a)}}catch(S){Fo.length=0,Sa(S,e,1),v=ye(Lt)}let x=v,P;if(v.patchFlag>0&&v.patchFlag&2048&&([x,P]=e0(v)),y&&b!==!1){const S=Object.keys(y),{shapeFlag:E}=x;if(S.length){if(E&7)s&&S.some(jl)&&(y=PS(y,s)),x=mr(x,y,!1,!0);else if(!Wu&&x.type!==Lt){const A=Object.keys(a),M=[],W=[];for(let V=0,q=A.length;V<q;V++){const I=A[V];va(I)?jl(I)||M.push(I[2].toLowerCase()+I.slice(3)):W.push(I)}W.length&&Ie(`Extraneous non-props attributes (${W.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),M.length&&Ie(`Extraneous non-emits event listeners (${M.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(Mp(x)||Ie("Runtime directive used on component with non-element root node. The directives will not function as intended."),x=mr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(Mp(x)||Ie("Component inside <Transition> renders non-element root node that cannot be animated."),is(x,n.transition)),P?P(x):v=x,zl(m),v}const e0=e=>{const t=e.children,n=e.dynamicChildren,r=hh(t,!1);if(r){if(r.patchFlag>0&&r.patchFlag&2048)return e0(r)}else return[e,void 0];const i=t.indexOf(r),s=n?n.indexOf(r):-1,o=a=>{t[i]=a,n&&(s>-1?n[s]=a:a.patchFlag>0&&(e.dynamicChildren=[...n,a]))};return[Hn(r),o]};function hh(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(ss(i)){if(i.type!==Lt||i.children==="v-if"){if(n)return;if(n=i,t&&n.patchFlag>0&&n.patchFlag&2048)return hh(n.children)}}else return}return n}const OS=e=>{let t;for(const n in e)(n==="class"||n==="style"||va(n))&&((t||(t={}))[n]=e[n]);return t},PS=(e,t)=>{const n={};for(const r in e)(!jl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n},Mp=e=>e.shapeFlag&7||e.type===Lt;function RS(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if((i||a)&&ur||t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Dp(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==r[d]&&!yc(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Dp(r,o,c):!0:!!o;return!1}function Dp(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!yc(n,s))return!0}return!1}function MS({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const t0=e=>e.__isSuspense;function DS(e,t){t&&t.pendingBranch?je(e)?t.effects.push(...e):t.effects.push(e):gy(e)}const dt=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),hl=Symbol.for("v-stc"),Fo=[];let kn=null;function ue(e=!1){Fo.push(kn=e?null:[])}function LS(){Fo.pop(),kn=Fo[Fo.length-1]||null}let na=1;function Lp(e,t=!1){na+=e,e<0&&kn&&t&&(kn.hasOnce=!0)}function n0(e){return e.dynamicChildren=na>0?kn||Rs:null,LS(),na>0&&kn&&kn.push(e),e}function _e(e,t,n,r,i,s){return n0(R(e,t,n,r,i,s,!0))}function Ze(e,t,n,r,i){return n0(ye(e,t,n,r,i,!0))}function ss(e){return e?e.__v_isVNode===!0:!1}function Ni(e,t){if(t.shapeFlag&6&&e.component){const n=fl.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}const NS=(...e)=>BS(...e),r0=({key:e})=>e??null,pl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?St(e)||gt(e)||qe(e)?{i:Dt,r:e,k:t,f:!!n}:e:null);function R(e,t=null,n=null,r=0,i=null,s=e===dt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&r0(t),ref:t&&pl(t),scopeId:xy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Dt};return a?(ph(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=St(n)?8:16),l.key!==l.key&&Ie("VNode created with invalid key (NaN). VNode type:",l.type),na>0&&!o&&kn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&kn.push(l),l}const ye=NS;function BS(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Ny)&&(e||Ie(`Invalid vnode type when creating vnode: ${e}.`),e=Lt),ss(e)){const a=mr(e,t,!0);return n&&ph(a,n),na>0&&!s&&kn&&(a.shapeFlag&6?kn[kn.indexOf(e)]=a:kn.push(a)),a.patchFlag=-2,a}if(l0(e)&&(e=e.__vccOpts),t){t=jS(t);let{class:a,style:l}=t;a&&!St(a)&&(t.class=Xe(a)),st(l)&&(ts(l)&&!je(l)&&(l=Pt({},l)),t.style=Zd(l))}const o=St(e)?1:t0(e)?128:Sy(e)?64:st(e)?4:qe(e)?2:0;return o&4&&ts(e)&&(e=He(e),Ie("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),R(e,t,n,r,i,o,s,!0)}function jS(e){return e?ts(e)||zy(e)?Pt({},e):e:null}function mr(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?s0(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&r0(c),ref:t&&t.ref?n&&s?je(s)?s.concat(pl(t)):[s,pl(t)]:pl(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o===-1&&je(a)?a.map(i0):a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==dt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mr(e.ssContent),ssFallback:e.ssFallback&&mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&is(u,l.clone(u)),u}function i0(e){const t=mr(e);return je(e.children)&&(t.children=e.children.map(i0)),t}function Qe(e=" ",t=0){return ye(Qs,null,e,t)}function $e(e="",t=!1){return t?(ue(),Ze(Lt,null,e)):ye(Lt,null,e)}function Hn(e){return e==null||typeof e=="boolean"?ye(Lt):je(e)?ye(dt,null,e.slice()):ss(e)?ti(e):ye(Qs,null,String(e))}function ti(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mr(e)}function ph(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(je(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ph(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!zy(t)?t._ctx=Dt:i===3&&Dt&&(Dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:Dt},n=32):(t=String(t),r&64?(n=16,t=[Qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function s0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Xe([t.class,r.class]));else if(i==="style")t.style=Zd([t.style,r.style]);else if(va(i)){const s=t[i],o=r[i];o&&s!==o&&!(je(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Zn(e,t,n,r=null){Jn(e,t,7,[n,r])}const FS=Vy();let US=0;function $S(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||FS,s={uid:US++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ky(r,i),emitsOptions:Zy(r,i),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:r.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=YE(s),s.root=t?t.root:s,s.emit=IS.bind(null,s),e.ce&&e.ce(s),s}let Bt=null;const Xs=()=>Bt||Dt;let Yl,Hu;{const e=xa(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Yl=t("__VUE_INSTANCE_SETTERS__",n=>Bt=n),Hu=t("__VUE_SSR_SETTERS__",n=>ra=n)}const Ta=e=>{const t=Bt;return Yl(e),e.scope.on(),()=>{e.scope.off(),Yl(t)}},Np=()=>{Bt&&Bt.scope.off(),Yl(null)},VS=Br("slot,component");function zu(e,{isNativeTag:t}){(VS(e)||t(e))&&Ie("Do not use built-in or reserved HTML elements as component id: "+e)}function o0(e){return e.vnode.shapeFlag&4}let ra=!1;function WS(e,t=!1,n=!1){t&&Hu(t);const{props:r,children:i}=e.vnode,s=o0(e);aS(e,r,s,t),bS(e,i,n||t);const o=s?HS(e,t):void 0;return t&&Hu(!1),o}function HS(e,t){var n;const r=e.type;{if(r.name&&zu(r.name,e.appContext.config),r.components){const s=Object.keys(r.components);for(let o=0;o<s.length;o++)zu(s[o],e.appContext.config)}if(r.directives){const s=Object.keys(r.directives);for(let o=0;o<s.length;o++)Ey(s[o])}r.compilerOptions&&zS()&&Ie('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fy),QE(e);const{setup:i}=r;if(i){Qn();const s=e.setupContext=i.length>1?GS(e):null,o=Ta(e),a=Ys(i,e,0,[cr(e.props),s]),l=Qd(a);if(Xn(),o(),(l||e.sp)&&!Ds(e)&&Oy(e),l){if(a.then(Np,Np),t)return a.then(c=>{Bp(e,c,t)}).catch(c=>{Sa(c,e,0)});if(e.asyncDep=a,!e.suspense){const c=(n=r.name)!=null?n:"Anonymous";Ie(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Bp(e,a,t)}else a0(e,t)}function Bp(e,t,n){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)?(ss(t)&&Ie("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=uy(t),XE(e)):t!==void 0&&Ie(`setup() should return an object. Received: ${t===null?"null":typeof t}`),a0(e,n)}const zS=()=>!0;function a0(e,t,n){const r=e.type;e.render||(e.render=r.render||nn);{const i=Ta(e);Qn();try{ZE(e)}finally{Xn(),i()}}!r.render&&e.render===nn&&!t&&(r.template?Ie('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Ie("Component is missing template or render function: ",r))}const qS={get(e,t){return Gl(),Wt(e,"get",""),e[t]},set(){return Ie("setupContext.attrs is readonly."),!1},deleteProperty(){return Ie("setupContext.attrs is readonly."),!1}};function KS(e){return new Proxy(e.slots,{get(t,n){return Wt(e,"get","$slots"),t[n]}})}function GS(e){const t=n=>{if(e.exposed&&Ie("expose() should be called only once per setup()."),n!=null){let r=typeof n;r==="object"&&(je(n)?r="array":gt(n)&&(r="ref")),r!=="object"&&Ie(`expose() should be passed a plain object, received ${r}.`)}e.exposed=n||{}};{let n,r;return Object.freeze({get attrs(){return n||(n=new Proxy(e.attrs,qS))},get slots(){return r||(r=KS(e))},get emit(){return(i,...s)=>e.emit(i,...s)},expose:t})}}function vc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(uy(si(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ki)return Ki[n](e)},has(t,n){return n in t||n in Ki}})):e.proxy}const YS=/(?:^|[-_])(\w)/g,QS=e=>e.replace(YS,t=>t.toUpperCase()).replace(/[-_]/g,"");function gh(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function wc(e,t,n=!1){let r=gh(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=s=>{for(const o in s)if(s[o]===t)return o};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?QS(r):n?"App":"Anonymous"}function l0(e){return qe(e)&&"__vccOpts"in e}const Ye=(e,t)=>{const n=hE(e,t,ra);{const r=Xs();r&&r.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Ft(e,t,n){const r=arguments.length;return r===2?st(t)&&!je(t)?ss(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ss(n)&&(n=[n]),ye(e,t,n))}function XS(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},r={style:"color:#eb2f96"},i={__vue_custom_formatter:!0,header(f){if(!st(f))return null;if(f.__isVue)return["div",e,"VueInstance"];if(gt(f)){Qn();const d=f.value;return Xn(),["div",{},["span",e,u(f)],"<",a(d),">"]}else{if(Kn(f))return["div",{},["span",e,hn(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${gr(f)?" (readonly)":""}`];if(gr(f))return["div",{},["span",e,hn(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]}return null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...s(f.$)]}};function s(f){const d=[];f.type.props&&f.props&&d.push(o("props",He(f.props))),f.setupState!==ut&&d.push(o("setup",f.setupState)),f.data!==ut&&d.push(o("data",He(f.data)));const h=l(f,"computed");h&&d.push(o("computed",h));const p=l(f,"inject");return p&&d.push(o("injected",p)),d.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function o(f,d){return d=Pt({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(h=>["div",{},["span",r,h+": "],a(d[h],!1)])]]:["span",{}]}function a(f,d=!0){return typeof f=="number"?["span",t,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",r,f]:st(f)?["object",{object:d?He(f):f}]:["span",n,String(f)]}function l(f,d){const h=f.type;if(qe(h))return;const p={};for(const b in f.ctx)c(h,b,d)&&(p[b]=f.ctx[b]);return p}function c(f,d,h){const p=f[h];if(je(p)&&p.includes(d)||st(p)&&d in p||f.extends&&c(f.extends,d,h)||f.mixins&&f.mixins.some(b=>c(b,d,h)))return!0}function u(f){return hn(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const qu="3.5.17",Gn=Ie;/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ku;const jp=typeof window<"u"&&window.trustedTypes;if(jp)try{Ku=jp.createPolicy("vue",{createHTML:e=>e})}catch(e){Gn(`Error creating trusted types policy: ${e}`)}const c0=Ku?e=>Ku.createHTML(e):e=>e,JS="http://www.w3.org/2000/svg",ZS="http://www.w3.org/1998/Math/MathML",Tr=typeof document<"u"?document:null,Fp=Tr&&Tr.createElement("template"),ek={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Tr.createElementNS(JS,e):t==="mathml"?Tr.createElementNS(ZS,e):n?Tr.createElement(e,{is:n}):Tr.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Tr.createTextNode(e),createComment:e=>Tr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Fp.innerHTML=c0(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Fp.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Wr="transition",co="animation",Bs=Symbol("_vtc"),u0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},f0=Pt({},Ay,u0),tk=e=>(e.displayName="Transition",e.props=f0,e),nk=tk((e,{slots:t})=>Ft(jE,d0(e),t)),Ei=(e,t=[])=>{je(e)?e.forEach(n=>n(...t)):e&&e(...t)},Up=e=>e?je(e)?e.some(t=>t.length>1):e.length>1:!1;function d0(e){const t={};for(const I in e)I in u0||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=rk(i),b=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:x,onLeave:P,onLeaveCancelled:S,onBeforeAppear:E=v,onAppear:A=y,onAppearCancelled:M=x}=t,W=(I,J,le,G)=>{I._enterCancelled=G,qr(I,J?u:a),qr(I,J?c:o),le&&le()},V=(I,J)=>{I._isLeaving=!1,qr(I,f),qr(I,h),qr(I,d),J&&J()},q=I=>(J,le)=>{const G=I?A:y,de=()=>W(J,I,le);Ei(G,[J,de]),$p(()=>{qr(J,I?l:s),nr(J,I?u:a),Up(G)||Vp(J,r,b,de)})};return Pt(t,{onBeforeEnter(I){Ei(v,[I]),nr(I,s),nr(I,o)},onBeforeAppear(I){Ei(E,[I]),nr(I,l),nr(I,c)},onEnter:q(!1),onAppear:q(!0),onLeave(I,J){I._isLeaving=!0;const le=()=>V(I,J);nr(I,f),I._enterCancelled?(nr(I,d),Gu()):(Gu(),nr(I,d)),$p(()=>{I._isLeaving&&(qr(I,f),nr(I,h),Up(P)||Vp(I,r,m,le))}),Ei(P,[I,le])},onEnterCancelled(I){W(I,!1,void 0,!0),Ei(x,[I])},onAppearCancelled(I){W(I,!0,void 0,!0),Ei(M,[I])},onLeaveCancelled(I){V(I),Ei(S,[I])}})}function rk(e){if(e==null)return null;if(st(e))return[Jc(e.enter),Jc(e.leave)];{const t=Jc(e);return[t,t]}}function Jc(e){const t=Tx(e);return vE(t,"<transition> explicit duration"),t}function nr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Bs]||(e[Bs]=new Set)).add(t)}function qr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Bs];n&&(n.delete(t),n.size||(e[Bs]=void 0))}function $p(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ik=0;function Vp(e,t,n,r){const i=e._endId=++ik,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=h0(e,t);if(!o)return r();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),s()},d=h=>{h.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(c,d)}function h0(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${Wr}Delay`),s=r(`${Wr}Duration`),o=Wp(i,s),a=r(`${co}Delay`),l=r(`${co}Duration`),c=Wp(a,l);let u=null,f=0,d=0;t===Wr?o>0&&(u=Wr,f=o,d=s.length):t===co?c>0&&(u=co,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?Wr:co:null,d=u?u===Wr?s.length:l.length:0);const h=u===Wr&&/\b(transform|all)(,|$)/.test(r(`${Wr}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function Wp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Hp(n)+Hp(e[r])))}function Hp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Gu(){return document.body.offsetHeight}function sk(e,t,n){const r=e[Bs];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const zp=Symbol("_vod"),ok=Symbol("_vsh"),ak=Symbol("CSS_VAR_TEXT"),lk=/(^|;)\s*display\s*:/;function ck(e,t,n){const r=e.style,i=St(n);let s=!1;if(n&&!i){if(t)if(St(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&gl(r,a,"")}else for(const o in t)n[o]==null&&gl(r,o,"");for(const o in n)o==="display"&&(s=!0),gl(r,o,n[o])}else if(i){if(t!==n){const o=r[ak];o&&(n+=";"+o),r.cssText=n,s=lk.test(n)}}else t&&e.removeAttribute("style");zp in e&&(e[zp]=s?r.display:"",e[ok]&&(r.display="none"))}const uk=/[^\\];\s*$/,qp=/\s*!important$/;function gl(e,t,n){if(je(n))n.forEach(r=>gl(e,t,r));else if(n==null&&(n=""),uk.test(n)&&Gn(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const r=fk(e,t);qp.test(n)?e.setProperty(di(r),n.replace(qp,""),"important"):e[r]=n}}const Kp=["Webkit","Moz","ms"],Zc={};function fk(e,t){const n=Zc[t];if(n)return n;let r=dn(t);if(r!=="filter"&&r in e)return Zc[t]=r;r=es(r);for(let i=0;i<Kp.length;i++){const s=Kp[i]+r;if(s in e)return Zc[t]=s}return t}const Gp="http://www.w3.org/1999/xlink";function Yp(e,t,n,r,i,s=Fx(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gp,t.slice(6,t.length)):e.setAttributeNS(Gp,t,n):n==null||s&&!Fb(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Yn(n)?String(n):n)}function Qp(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?c0(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Fb(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch(a){o||Gn(`Failed setting prop "${t}" on <${s.toLowerCase()}>: value ${n} is invalid.`,a)}o&&e.removeAttribute(i||t)}function ii(e,t,n,r){e.addEventListener(t,n,r)}function dk(e,t,n,r){e.removeEventListener(t,n,r)}const Xp=Symbol("_vei");function hk(e,t,n,r,i=null){const s=e[Xp]||(e[Xp]={}),o=s[t];if(r&&o)o.value=Zp(r,t);else{const[a,l]=pk(t);if(r){const c=s[t]=_k(Zp(r,t),i);ii(e,a,c,l)}else o&&(dk(e,a,o,l),s[t]=void 0)}}const Jp=/(?:Once|Passive|Capture)$/;function pk(e){let t;if(Jp.test(e)){t={};let r;for(;r=e.match(Jp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):di(e.slice(2)),t]}let eu=0;const gk=Promise.resolve(),mk=()=>eu||(gk.then(()=>eu=0),eu=Date.now());function _k(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Jn(bk(r,n.value),t,5,[r])};return n.value=e,n.attached=mk(),n}function Zp(e,t){return qe(e)||je(e)?e:(Gn(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),nn)}function bk(e,t){if(je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const eg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yk=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?sk(e,r,o):t==="style"?ck(e,n,r):va(t)?jl(t)||hk(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vk(e,t,r,o))?(Qp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yp(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!St(r))?Qp(e,dn(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Yp(e,t,r,o))};function vk(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&eg(t)&&qe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eg(t)&&St(n)?!1:t in e}const p0=new WeakMap,g0=new WeakMap,Ql=Symbol("_moveCb"),tg=Symbol("_enterCb"),wk=e=>(delete e.props.mode,e),xk=wk({name:"TransitionGroup",props:Pt({},f0,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Xs(),r=ky();let i,s;return Ry(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Ak(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(Ek),i.forEach(Sk);const a=i.filter(kk);Gu(),a.forEach(l=>{const c=l.el,u=c.style;nr(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[Ql]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",f),c[Ql]=null,qr(c,o))};c.addEventListener("transitionend",f)}),i=[]}),()=>{const o=He(e),a=d0(o);let l=o.tag||dt;if(i=[],s)for(let c=0;c<s.length;c++){const u=s[c];u.el&&u.el instanceof Element&&(i.push(u),is(u,ta(u,a,r,n)),p0.set(u,u.el.getBoundingClientRect()))}s=t.default?ah(t.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null?is(u,ta(u,a,r,n)):u.type!==Qs&&Gn("<TransitionGroup> children must be keyed.")}return ye(l,null,s)}}}),m0=xk;function Ek(e){const t=e.el;t[Ql]&&t[Ql](),t[tg]&&t[tg]()}function Sk(e){g0.set(e,e.el.getBoundingClientRect())}function kk(e){const t=p0.get(e),n=g0.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function Ak(e,t,n){const r=e.cloneNode(),i=e[Bs];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=h0(r);return s.removeChild(r),o}const js=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?n=>ks(t,n):t};function Tk(e){e.target.composing=!0}function ng(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dr=Symbol("_assign"),Ct={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Dr]=js(i);const s=r||i.props&&i.props.type==="number";ii(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Fl(a)),e[Dr](a)}),n&&ii(e,"change",()=>{e.value=e.value.trim()}),t||(ii(e,"compositionstart",Tk),ii(e,"compositionend",ng),ii(e,"change",ng))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[Dr]=js(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Fl(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},i6={created(e,{value:t},n){e.checked=Ns(t,n.props.value),e[Dr]=js(n),ii(e,"change",()=>{e[Dr](ia(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Dr]=js(r),t!==n&&(e.checked=Ns(t,r.props.value))}},_0={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=dc(t);ii(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Fl(ia(o)):ia(o));e[Dr](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,ns(()=>{e._assigning=!1})}),e[Dr]=js(r)},mounted(e,{value:t}){rg(e,t)},beforeUpdate(e,t,n){e[Dr]=js(n)},updated(e,{value:t}){e._assigning||rg(e,t)}};function rg(e,t){const n=e.multiple,r=je(t);if(n&&!r&&!dc(t)){Gn(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=ia(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=$x(t,a)>-1}else o.selected=t.has(a);else if(Ns(ia(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function ia(e){return"_value"in e?e._value:e.value}const Ck=["ctrl","shift","alt","meta"],Ik={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ck.some(n=>e[`${n}Key`]&&!t.includes(n))},Fs=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=Ik[t[o]];if(a&&a(i,t))return}return e(i,...s)})},Ok=Pt({patchProp:yk},ek);let ig;function Pk(){return ig||(ig=wS(Ok))}const Rk=(...e)=>{const t=Pk().createApp(...e);Dk(t),Lk(t);const{mount:n}=t;return t.mount=r=>{const i=Nk(r);if(!i)return;const s=t._component;!qe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Mk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Mk(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Dk(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>Lx(t)||Nx(t)||Bx(t),writable:!1})}function Lk(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){Gn("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return Gn(r),n},set(){Gn(r)}})}}function Nk(e){if(St(e)){const t=document.querySelector(e);return t||Gn(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&Gn('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bk(){XS()}Bk();var jk=Object.create,b0=Object.defineProperty,Fk=Object.getOwnPropertyDescriptor,mh=Object.getOwnPropertyNames,Uk=Object.getPrototypeOf,$k=Object.prototype.hasOwnProperty,Vk=(e,t)=>function(){return e&&(t=(0,e[mh(e)[0]])(e=0)),t},Wk=(e,t)=>function(){return t||(0,e[mh(e)[0]])((t={exports:{}}).exports,t),t.exports},Hk=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mh(t))!$k.call(e,i)&&i!==n&&b0(e,i,{get:()=>t[i],enumerable:!(r=Fk(t,i))||r.enumerable});return e},zk=(e,t,n)=>(n=e!=null?jk(Uk(e)):{},Hk(b0(n,"default",{value:e,enumerable:!0}),e)),Ca=Vk({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),qk=Wk({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){Ca(),t.exports=r;function n(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function r(s){if(s=s||{},s.circles)return i(s);const o=new Map;if(o.set(Date,f=>new Date(f)),o.set(Map,(f,d)=>new Map(l(Array.from(f),d))),o.set(Set,(f,d)=>new Set(l(Array.from(f),d))),s.constructorHandlers)for(const f of s.constructorHandlers)o.set(f[0],f[1]);let a=null;return s.proto?u:c;function l(f,d){const h=Object.keys(f),p=new Array(h.length);for(let b=0;b<h.length;b++){const m=h[b],v=f[m];typeof v!="object"||v===null?p[m]=v:v.constructor!==Object&&(a=o.get(v.constructor))?p[m]=a(v,d):ArrayBuffer.isView(v)?p[m]=n(v):p[m]=d(v)}return p}function c(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,c);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,c);const d={};for(const h in f){if(Object.hasOwnProperty.call(f,h)===!1)continue;const p=f[h];typeof p!="object"||p===null?d[h]=p:p.constructor!==Object&&(a=o.get(p.constructor))?d[h]=a(p,c):ArrayBuffer.isView(p)?d[h]=n(p):d[h]=c(p)}return d}function u(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,u);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,u);const d={};for(const h in f){const p=f[h];typeof p!="object"||p===null?d[h]=p:p.constructor!==Object&&(a=o.get(p.constructor))?d[h]=a(p,u):ArrayBuffer.isView(p)?d[h]=n(p):d[h]=u(p)}return d}}function i(s){const o=[],a=[],l=new Map;if(l.set(Date,h=>new Date(h)),l.set(Map,(h,p)=>new Map(u(Array.from(h),p))),l.set(Set,(h,p)=>new Set(u(Array.from(h),p))),s.constructorHandlers)for(const h of s.constructorHandlers)l.set(h[0],h[1]);let c=null;return s.proto?d:f;function u(h,p){const b=Object.keys(h),m=new Array(b.length);for(let v=0;v<b.length;v++){const y=b[v],x=h[y];if(typeof x!="object"||x===null)m[y]=x;else if(x.constructor!==Object&&(c=l.get(x.constructor)))m[y]=c(x,p);else if(ArrayBuffer.isView(x))m[y]=n(x);else{const P=o.indexOf(x);P!==-1?m[y]=a[P]:m[y]=p(x)}}return m}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,f);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,f);const p={};o.push(h),a.push(p);for(const b in h){if(Object.hasOwnProperty.call(h,b)===!1)continue;const m=h[b];if(typeof m!="object"||m===null)p[b]=m;else if(m.constructor!==Object&&(c=l.get(m.constructor)))p[b]=c(m,f);else if(ArrayBuffer.isView(m))p[b]=n(m);else{const v=o.indexOf(m);v!==-1?p[b]=a[v]:p[b]=f(m)}}return o.pop(),a.pop(),p}function d(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,d);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,d);const p={};o.push(h),a.push(p);for(const b in h){const m=h[b];if(typeof m!="object"||m===null)p[b]=m;else if(m.constructor!==Object&&(c=l.get(m.constructor)))p[b]=c(m,d);else if(ArrayBuffer.isView(m))p[b]=n(m);else{const v=o.indexOf(m);v!==-1?p[b]=a[v]:p[b]=d(m)}}return o.pop(),a.pop(),p}}}});Ca();Ca();Ca();var y0=typeof navigator<"u",Le=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof Le.chrome<"u"&&Le.chrome.devtools;y0&&(Le.self,Le.top);var sg;typeof navigator<"u"&&((sg=navigator.userAgent)==null||sg.toLowerCase().includes("electron"));Ca();var Kk=zk(qk()),Gk=/(?:^|[-_/])(\w)/g;function Yk(e,t){return t?t.toUpperCase():""}function Qk(e){return e&&`${e}`.replace(Gk,Yk)}function Xk(e,t){let n=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${t}`)&&(n=n.replace(`/index${t}`,t));const r=n.lastIndexOf("/"),i=n.substring(r+1);{const s=i.lastIndexOf(t);return i.substring(0,s)}}var og=(0,Kk.default)({circles:!0});const Jk={trailing:!0};function Us(e,t=25,n={}){if(n={...Jk,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let r,i,s=[],o,a;const l=(c,u)=>(o=Zk(e,c,u),o.finally(()=>{if(o=null,n.trailing&&a&&!i){const f=l(c,a);return a=null,f}}),o);return function(...c){return o?(n.trailing&&(a=c),o):new Promise(u=>{const f=!i&&n.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const d=n.leading?r:l(this,c);for(const h of s)h(d);s=[]},t),f?(r=l(this,c),u(r)):s.push(u)})}}async function Zk(e,t,n){return await e.apply(t,n)}function Yu(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Yu(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const eA={run:e=>e()},tA=()=>eA,v0=typeof console.createTask<"u"?console.createTask:tA;function nA(e,t){const n=t.shift(),r=v0(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function rA(e,t){const n=t.shift(),r=v0(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function tu(e,t){for(const n of[...e])n(t)}class iA{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Yu(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Yu(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(nA,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(rA,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&tu(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&tu(this._after,i)}):(this._after&&i&&tu(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function w0(){return new iA}var sA=Object.create,x0=Object.defineProperty,oA=Object.getOwnPropertyDescriptor,_h=Object.getOwnPropertyNames,aA=Object.getPrototypeOf,lA=Object.prototype.hasOwnProperty,cA=(e,t)=>function(){return e&&(t=(0,e[_h(e)[0]])(e=0)),t},E0=(e,t)=>function(){return t||(0,e[_h(e)[0]])((t={exports:{}}).exports,t),t.exports},uA=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _h(t))!lA.call(e,i)&&i!==n&&x0(e,i,{get:()=>t[i],enumerable:!(r=oA(t,i))||r.enumerable});return e},fA=(e,t,n)=>(n=e!=null?sA(aA(e)):{},uA(x0(n,"default",{value:e,enumerable:!0}),e)),ke=cA({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),dA=E0({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){ke(),function(n){var r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},i=["်","ް"],s={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},o={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},a={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),f=function(m,v){var y="-",x="",P="",S=!0,E={},A,M,W,V,q,I,J,le,G,de,oe,fe,me,ae,ge="";if(typeof m!="string")return"";if(typeof v=="string"&&(y=v),J=a.en,le=o.en,typeof v=="object"){A=v.maintainCase||!1,E=v.custom&&typeof v.custom=="object"?v.custom:E,W=+v.truncate>1&&v.truncate||!1,V=v.uric||!1,q=v.uricNoSlash||!1,I=v.mark||!1,S=!(v.symbols===!1||v.lang===!1),y=v.separator||y,V&&(ge+=l),q&&(ge+=c),I&&(ge+=u),J=v.lang&&a[v.lang]&&S?a[v.lang]:S?a.en:{},le=v.lang&&o[v.lang]?o[v.lang]:v.lang===!1||v.lang===!0?{}:o.en,v.titleCase&&typeof v.titleCase.length=="number"&&Array.prototype.toString.call(v.titleCase)?(v.titleCase.forEach(function(F){E[F+""]=F+""}),M=!0):M=!!v.titleCase,v.custom&&typeof v.custom.length=="number"&&Array.prototype.toString.call(v.custom)&&v.custom.forEach(function(F){E[F+""]=F+""}),Object.keys(E).forEach(function(F){var he;F.length>1?he=new RegExp("\\b"+h(F)+"\\b","gi"):he=new RegExp(h(F),"gi"),m=m.replace(he,E[F])});for(oe in E)ge+=oe}for(ge+=y,ge=h(ge),m=m.replace(/(^\s+|\s+$)/g,""),me=!1,ae=!1,de=0,fe=m.length;de<fe;de++)oe=m[de],p(oe,E)?me=!1:le[oe]?(oe=me&&le[oe].match(/[A-Za-z0-9]/)?" "+le[oe]:le[oe],me=!1):oe in r?(de+1<fe&&i.indexOf(m[de+1])>=0?(P+=oe,oe=""):ae===!0?(oe=s[P]+r[oe],P=""):oe=me&&r[oe].match(/[A-Za-z0-9]/)?" "+r[oe]:r[oe],me=!1,ae=!1):oe in s?(P+=oe,oe="",de===fe-1&&(oe=s[P]),ae=!0):J[oe]&&!(V&&l.indexOf(oe)!==-1)&&!(q&&c.indexOf(oe)!==-1)?(oe=me||x.substr(-1).match(/[A-Za-z0-9]/)?y+J[oe]:J[oe],oe+=m[de+1]!==void 0&&m[de+1].match(/[A-Za-z0-9]/)?y:"",me=!0):(ae===!0?(oe=s[P]+oe,P="",ae=!1):me&&(/[A-Za-z0-9]/.test(oe)||x.substr(-1).match(/A-Za-z0-9]/))&&(oe=" "+oe),me=!1),x+=oe.replace(new RegExp("[^\\w\\s"+ge+"_-]","g"),y);return M&&(x=x.replace(/(\w)(\S*)/g,function(F,he,be){var X=he.toUpperCase()+(be!==null?be:"");return Object.keys(E).indexOf(X.toLowerCase())<0?X:X.toLowerCase()})),x=x.replace(/\s+/g,y).replace(new RegExp("\\"+y+"+","g"),y).replace(new RegExp("(^\\"+y+"+|\\"+y+"+$)","g"),""),W&&x.length>W&&(G=x.charAt(W)===y,x=x.slice(0,W),G||(x=x.slice(0,x.lastIndexOf(y)))),!A&&!M&&(x=x.toLowerCase()),x},d=function(m){return function(y){return f(y,m)}},h=function(m){return m.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},p=function(b,m){for(var v in m)if(m[v]===b)return!0};if(typeof t<"u"&&t.exports)t.exports=f,t.exports.createSlug=d;else if(typeof define<"u"&&define.amd)define([],function(){return f});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=f,n.createSlug=d}catch{}}(e)}}),hA=E0({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){ke(),t.exports=dA()}});ke();ke();ke();ke();ke();ke();ke();ke();function pA(e){var t;const n=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return n==="index"&&((t=e.__file)!=null&&t.endsWith("index.vue"))?"":n}function gA(e){const t=e.__file;if(t)return Qk(Xk(t,".vue"))}function ag(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function bh(e){if(e.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(e.root)return e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}function S0(e){var t,n;const r=(t=e.subTree)==null?void 0:t.type,i=bh(e);return i?((n=i==null?void 0:i.types)==null?void 0:n.Fragment)===r:!1}function xc(e){var t,n,r;const i=pA((e==null?void 0:e.type)||{});if(i)return i;if((e==null?void 0:e.root)===e)return"Root";for(const o in(n=(t=e.parent)==null?void 0:t.type)==null?void 0:n.components)if(e.parent.type.components[o]===(e==null?void 0:e.type))return ag(e,o);for(const o in(r=e.appContext)==null?void 0:r.components)if(e.appContext.components[o]===(e==null?void 0:e.type))return ag(e,o);const s=gA((e==null?void 0:e.type)||{});return s||"Anonymous Component"}function mA(e){var t,n,r;const i=(r=(n=(t=e==null?void 0:e.appContext)==null?void 0:t.app)==null?void 0:n.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)!=null?r:0,s=e===(e==null?void 0:e.root)?"root":e.uid;return`${i}:${s}`}function Qu(e,t){return t=t||`${e.id}:root`,e.instanceMap.get(t)||e.instanceMap.get(":root")}function _A(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}var Fa;function bA(e){return Fa||(Fa=document.createRange()),Fa.selectNode(e),Fa.getBoundingClientRect()}function yA(e){const t=_A();if(!e.children)return t;for(let n=0,r=e.children.length;n<r;n++){const i=e.children[n];let s;if(i.component)s=os(i.component);else if(i.el){const o=i.el;o.nodeType===1||o.getBoundingClientRect?s=o.getBoundingClientRect():o.nodeType===3&&o.data.trim()&&(s=bA(o))}s&&vA(t,s)}return t}function vA(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}var lg={top:0,left:0,right:0,bottom:0,width:0,height:0};function os(e){const t=e.subTree.el;return typeof window>"u"?lg:S0(e)?yA(e.subTree):(t==null?void 0:t.nodeType)===1?t==null?void 0:t.getBoundingClientRect():e.subTree.component?os(e.subTree.component):lg}ke();function yh(e){return S0(e)?wA(e.subTree):e.subTree?[e.subTree.el]:[]}function wA(e){if(!e.children)return[];const t=[];return e.children.forEach(n=>{n.component?t.push(...yh(n.component)):n!=null&&n.el&&t.push(n.el)}),t}var k0="__vue-devtools-component-inspector__",A0="__vue-devtools-component-inspector__card__",T0="__vue-devtools-component-inspector__name__",C0="__vue-devtools-component-inspector__indicator__",I0={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},xA={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},EA={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function Js(){return document.getElementById(k0)}function SA(){return document.getElementById(A0)}function kA(){return document.getElementById(C0)}function AA(){return document.getElementById(T0)}function vh(e){return{left:`${Math.round(e.left*100)/100}px`,top:`${Math.round(e.top*100)/100}px`,width:`${Math.round(e.width*100)/100}px`,height:`${Math.round(e.height*100)/100}px`}}function wh(e){var t;const n=document.createElement("div");n.id=(t=e.elementId)!=null?t:k0,Object.assign(n.style,{...I0,...vh(e.bounds),...e.style});const r=document.createElement("span");r.id=A0,Object.assign(r.style,{...xA,top:e.bounds.top<35?0:"-35px"});const i=document.createElement("span");i.id=T0,i.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const s=document.createElement("i");return s.id=C0,s.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`,Object.assign(s.style,EA),r.appendChild(i),r.appendChild(s),n.appendChild(r),document.body.appendChild(n),n}function xh(e){const t=Js(),n=SA(),r=AA(),i=kA();t&&(Object.assign(t.style,{...I0,...vh(e.bounds)}),Object.assign(n.style,{top:e.bounds.top<35?0:"-35px"}),r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,i.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`)}function TA(e){const t=os(e);if(!t.width&&!t.height)return;const n=xc(e);Js()?xh({bounds:t,name:n}):wh({bounds:t,name:n})}function O0(){const e=Js();e&&(e.style.display="none")}var Xu=null;function Ju(e){const t=e.target;if(t){const n=t.__vueParentComponent;if(n&&(Xu=n,n.vnode.el)){const i=os(n),s=xc(n);Js()?xh({bounds:i,name:s}):wh({bounds:i,name:s})}}}function CA(e,t){if(e.preventDefault(),e.stopPropagation(),Xu){const n=mA(Xu);t(n)}}var Xl=null;function IA(){O0(),window.removeEventListener("mouseover",Ju),window.removeEventListener("click",Xl,!0),Xl=null}function OA(){return window.addEventListener("mouseover",Ju),new Promise(e=>{function t(n){n.preventDefault(),n.stopPropagation(),CA(n,r=>{window.removeEventListener("click",t,!0),Xl=null,window.removeEventListener("mouseover",Ju);const i=Js();i&&(i.style.display="none"),e(JSON.stringify({id:r}))})}Xl=t,window.addEventListener("click",t,!0)})}function PA(e){const t=Qu(un.value,e.id);if(t){const[n]=yh(t);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const r=os(t),i=document.createElement("div"),s={...vh(r),position:"absolute"};Object.assign(i.style,s),document.body.appendChild(i),i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(i)},2e3)}setTimeout(()=>{const r=os(t);if(r.width||r.height){const i=xc(t),s=Js();s?xh({...e,name:i,bounds:r}):wh({...e,name:i,bounds:r}),setTimeout(()=>{s&&(s.style.display="none")},1500)}},1200)}}ke();var cg,ug;(ug=(cg=Le).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(cg.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function RA(e){let t=0;const n=setInterval(()=>{Le.__VUE_INSPECTOR__&&(clearInterval(n),t+=30,e()),t>=5e3&&clearInterval(n)},30)}function MA(){const e=Le.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...n)=>{e.disable(),t(...n)}}function DA(){return new Promise(e=>{function t(){MA(),e(Le.__VUE_INSPECTOR__)}Le.__VUE_INSPECTOR__?t():RA(()=>{t()})})}ke();ke();function LA(e){return!!(e&&e.__v_isReadonly)}function P0(e){return LA(e)?P0(e.__v_raw):!!(e&&e.__v_isReactive)}function nu(e){return!!(e&&e.__v_isRef===!0)}function ko(e){const t=e&&e.__v_raw;return t?ko(t):e}var NA=class{constructor(){this.refEditor=new BA}set(e,t,n,r){const i=Array.isArray(t)?t:t.split(".");for(;i.length>1;){const a=i.shift();e instanceof Map?e=e.get(a):e instanceof Set?e=Array.from(e.values())[a]:e=e[a],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const s=i[0],o=this.refEditor.get(e)[s];r?r(e,s,n):this.refEditor.isRef(o)?this.refEditor.set(o,n):e[s]=n}get(e,t){const n=Array.isArray(t)?t:t.split(".");for(let r=0;r<n.length;r++)if(e instanceof Map?e=e.get(n[r]):e=e[n[r]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,n=!1){if(typeof e>"u")return!1;const r=Array.isArray(t)?t.slice():t.split("."),i=n?2:1;for(;e&&r.length>i;){const s=r.shift();e=e[s],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return e!=null&&Object.prototype.hasOwnProperty.call(e,r[0])}createDefaultSetCallback(e){return(t,n,r)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(n,1):ko(t)instanceof Map?t.delete(n):ko(t)instanceof Set?t.delete(Array.from(t.values())[n]):Reflect.deleteProperty(t,n)),!e.remove){const i=t[e.newKey||n];this.refEditor.isRef(i)?this.refEditor.set(i,r):ko(t)instanceof Map?t.set(e.newKey||n,r):ko(t)instanceof Set?t.add(r):t[e.newKey||n]=r}}}},BA=class{set(e,t){if(nu(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t)){e.clear(),t.forEach(i=>e.add(i));return}const n=Object.keys(t);if(e instanceof Map){const i=new Set(e.keys());n.forEach(s=>{e.set(s,Reflect.get(t,s)),i.delete(s)}),i.forEach(s=>e.delete(s));return}const r=new Set(Object.keys(e));n.forEach(i=>{Reflect.set(e,i,Reflect.get(t,i)),r.delete(i)}),r.forEach(i=>Reflect.deleteProperty(e,i))}}get(e){return nu(e)?e.value:e}isRef(e){return nu(e)||P0(e)}};ke();ke();ke();var jA="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function FA(){if(!y0||typeof localStorage>"u"||localStorage===null)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem(jA);return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}ke();ke();ke();var fg,dg;(dg=(fg=Le).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(fg.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var UA=new Proxy(Le.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(e,t,n){return Reflect.get(e,t,n)}});function $A(e,t){Ut.timelineLayersState[t.id]=!1,UA.push({...e,descriptorId:t.id,appRecord:bh(t.app)})}var hg,pg;(pg=(hg=Le).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(hg.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var Eh=new Proxy(Le.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(e,t,n){return Reflect.get(e,t,n)}}),R0=Us(()=>{Zs.hooks.callHook("sendInspectorToClient",M0())});function VA(e,t){var n,r;Eh.push({options:e,descriptor:t,treeFilterPlaceholder:(n=e.treeFilterPlaceholder)!=null?n:"Search tree...",stateFilterPlaceholder:(r=e.stateFilterPlaceholder)!=null?r:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:bh(t.app)}),R0()}function M0(){return Eh.filter(e=>e.descriptor.app===un.value.app).filter(e=>e.descriptor.id!=="components").map(e=>{var t;const n=e.descriptor,r=e.options;return{id:r.id,label:r.label,logo:n.logo,icon:`custom-ic-baseline-${(t=r==null?void 0:r.icon)==null?void 0:t.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function ml(e,t){return Eh.find(n=>n.options.id===e&&(t?n.descriptor.app===t:!0))}function WA(){const e=w0();e.hook("addInspector",({inspector:r,plugin:i})=>{VA(r,i.descriptor)});const t=Us(async({inspectorId:r,plugin:i})=>{var s;if(!r||!((s=i==null?void 0:i.descriptor)!=null&&s.app)||Ut.highPerfModeEnabled)return;const o=ml(r,i.descriptor.app),a={app:i.descriptor.app,inspectorId:r,filter:(o==null?void 0:o.treeFilter)||"",rootNodes:[]};await new Promise(l=>{e.callHookWith(async c=>{await Promise.all(c.map(u=>u(a))),l()},"getInspectorTree")}),e.callHookWith(async l=>{await Promise.all(l.map(c=>c({inspectorId:r,rootNodes:a.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",t);const n=Us(async({inspectorId:r,plugin:i})=>{var s;if(!r||!((s=i==null?void 0:i.descriptor)!=null&&s.app)||Ut.highPerfModeEnabled)return;const o=ml(r,i.descriptor.app),a={app:i.descriptor.app,inspectorId:r,nodeId:(o==null?void 0:o.selectedNodeId)||"",state:null},l={currentTab:`custom-inspector:${r}`};a.nodeId&&await new Promise(c=>{e.callHookWith(async u=>{await Promise.all(u.map(f=>f(a,l))),c()},"getInspectorState")}),e.callHookWith(async c=>{await Promise.all(c.map(u=>u({inspectorId:r,nodeId:a.nodeId,state:a.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",n),e.hook("customInspectorSelectNode",({inspectorId:r,nodeId:i,plugin:s})=>{const o=ml(r,s.descriptor.app);o&&(o.selectedNodeId=i)}),e.hook("timelineLayerAdded",({options:r,plugin:i})=>{$A(r,i.descriptor)}),e.hook("timelineEventAdded",({options:r,plugin:i})=>{var s;const o=["performance","component-event","keyboard","mouse"];Ut.highPerfModeEnabled||!((s=Ut.timelineLayersState)!=null&&s[i.descriptor.id])&&!o.includes(r.layerId)||e.callHookWith(async a=>{await Promise.all(a.map(l=>l(r)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:r})=>{const i=r.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!i)return null;const s=i.id.toString();return[...i.instanceMap].filter(([a])=>a.split(":")[0]===s).map(([,a])=>a)}),e.hook("getComponentBounds",async({instance:r})=>os(r)),e.hook("getComponentName",({instance:r})=>xc(r)),e.hook("componentHighlight",({uid:r})=>{const i=un.value.instanceMap.get(r);i&&TA(i)}),e.hook("componentUnhighlight",()=>{O0()}),e}var gg,mg;(mg=(gg=Le).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(gg.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var _g,bg;(bg=(_g=Le).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||(_g.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var yg,vg;(vg=(yg=Le).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(yg.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var wg,xg;(xg=(wg=Le).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(wg.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var Eg,Sg;(Sg=(Eg=Le).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(Eg.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var Fi="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function HA(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:FA()}}var kg,Ag;(Ag=(kg=Le)[Fi])!=null||(kg[Fi]=HA());var zA=Us(e=>{Zs.hooks.callHook("devtoolsStateUpdated",{state:e})});Us((e,t)=>{Zs.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var Ec=new Proxy(Le.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(e,t,n){return t==="value"?Le.__VUE_DEVTOOLS_KIT_APP_RECORDS__:Le.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}}),un=new Proxy(Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(e,t,n){return t==="value"?Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:t==="id"?Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]}});function D0(){zA({...Le[Fi],appRecords:Ec.value,activeAppRecordId:un.id,tabs:Le.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:Le.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function qA(e){Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=e,D0()}function KA(e){Le.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,D0()}var Ut=new Proxy(Le[Fi],{get(e,t){return t==="appRecords"?Ec:t==="activeAppRecordId"?un.id:t==="tabs"?Le.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:t==="commands"?Le.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:Le[Fi][t]},deleteProperty(e,t){return delete e[t],!0},set(e,t,n){return{...Le[Fi]},e[t]=n,Le[Fi][t]=n,!0}});function GA(e={}){var t,n,r;const{file:i,host:s,baseUrl:o=window.location.origin,line:a=0,column:l=0}=e;if(i){if(s==="chrome-extension"){const c=i.replace(/\\/g,"\\\\"),u=(n=(t=window.VUE_DEVTOOLS_CONFIG)==null?void 0:t.openInEditorHost)!=null?n:"/";fetch(`${u}__open-in-editor?file=${encodeURI(i)}`).then(f=>{if(!f.ok){const d=`Opening component ${c} failed`;console.log(`%c${d}`,"color:red")}})}else if(Ut.vitePluginDetected){const c=(r=Le.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?r:o;Le.__VUE_INSPECTOR__.openInEditor(c,i,a,l)}}}ke();ke();ke();ke();ke();var Tg,Cg;(Cg=(Tg=Le).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(Tg.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var Sh=new Proxy(Le.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(e,t,n){return Reflect.get(e,t,n)}});function Zu(e){const t={};return Object.keys(e).forEach(n=>{t[n]=e[n].defaultValue}),t}function kh(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function YA(e){var t,n,r;const i=(n=(t=Sh.find(s=>{var o;return s[0].id===e&&!!((o=s[0])!=null&&o.settings)}))==null?void 0:t[0])!=null?n:null;return(r=i==null?void 0:i.settings)!=null?r:null}function L0(e,t){var n,r,i;const s=kh(e);if(s){const o=localStorage.getItem(s);if(o)return JSON.parse(o)}if(e){const o=(r=(n=Sh.find(a=>a[0].id===e))==null?void 0:n[0])!=null?r:null;return Zu((i=o==null?void 0:o.settings)!=null?i:{})}return Zu(t)}function QA(e,t){const n=kh(e);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(Zu(t)))}function XA(e,t,n){const r=kh(e),i=localStorage.getItem(r),s=JSON.parse(i||"{}"),o={...s,[t]:n};localStorage.setItem(r,JSON.stringify(o)),Zs.hooks.callHookWith(a=>{a.forEach(l=>l({pluginId:e,key:t,oldValue:s[t],newValue:n,settings:o}))},"setPluginSettings")}ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();var Ig,Og,En=(Og=(Ig=Le).__VUE_DEVTOOLS_HOOK)!=null?Og:Ig.__VUE_DEVTOOLS_HOOK=w0(),JA={vueAppInit(e){En.hook("app:init",e)},vueAppUnmount(e){En.hook("app:unmount",e)},vueAppConnected(e){En.hook("app:connected",e)},componentAdded(e){return En.hook("component:added",e)},componentEmit(e){return En.hook("component:emit",e)},componentUpdated(e){return En.hook("component:updated",e)},componentRemoved(e){return En.hook("component:removed",e)},setupDevtoolsPlugin(e){En.hook("devtools-plugin:setup",e)},perfStart(e){return En.hook("perf:start",e)},perfEnd(e){return En.hook("perf:end",e)}},N0={on:JA,setupDevToolsPlugin(e,t){return En.callHook("devtools-plugin:setup",e,t)}},ZA=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;if(Ut.highPerfModeEnabled)return;const n=M0().find(r=>r.packageName===this.plugin.descriptor.packageName);if(n!=null&&n.id){if(e){const r=[e.appContext.app,e.uid,(t=e.parent)==null?void 0:t.uid,e];En.callHook("component:updated",...r)}else En.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&QA(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){Ut.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){Ut.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return Ut.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){Ut.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return L0(e??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},eT=ZA;ke();ke();ke();ke();var tT="__vue_devtool_undefined__",nT="__vue_devtool_infinity__",rT="__vue_devtool_negative_infinity__",iT="__vue_devtool_nan__";ke();ke();var sT={[tT]:"undefined",[iT]:"NaN",[nT]:"Infinity",[rT]:"-Infinity"};Object.entries(sT).reduce((e,[t,n])=>(e[n]=t,e),{});ke();ke();ke();ke();ke();var Pg,Rg;(Rg=(Pg=Le).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(Pg.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function B0(e,t){return N0.setupDevToolsPlugin(e,t)}function oT(e,t){const[n,r]=e;if(n.app!==t)return;const i=new eT({plugin:{setupFn:r,descriptor:n},ctx:Zs});n.packageName==="vuex"&&i.on.editInspectorState(s=>{i.sendInspectorState(s.inspectorId)}),r(i)}function j0(e,t){Le.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||Ut.highPerfModeEnabled&&!(t!=null&&t.inspectingComponent)||(Le.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),Sh.forEach(n=>{oT(n,e)}))}ke();ke();var sa="__VUE_DEVTOOLS_ROUTER__",$s="__VUE_DEVTOOLS_ROUTER_INFO__",Mg,Dg;(Dg=(Mg=Le)[$s])!=null||(Mg[$s]={currentRoute:null,routes:[]});var Lg,Ng;(Ng=(Lg=Le)[sa])!=null||(Lg[sa]={});new Proxy(Le[$s],{get(e,t){return Le[$s][t]}});new Proxy(Le[sa],{get(e,t){if(t==="value")return Le[sa]}});function aT(e){const t=new Map;return((e==null?void 0:e.getRoutes())||[]).filter(n=>!t.has(n.path)&&t.set(n.path,1))}function Ah(e){return e.map(t=>{let{path:n,name:r,children:i,meta:s}=t;return i!=null&&i.length&&(i=Ah(i)),{path:n,name:r,children:i,meta:s}})}function lT(e){if(e){const{fullPath:t,hash:n,href:r,path:i,name:s,matched:o,params:a,query:l}=e;return{fullPath:t,hash:n,href:r,path:i,name:s,params:a,query:l,matched:Ah(o)}}return e}function cT(e,t){function n(){var r;const i=(r=e.app)==null?void 0:r.config.globalProperties.$router,s=lT(i==null?void 0:i.currentRoute.value),o=Ah(aT(i)),a=console.warn;console.warn=()=>{},Le[$s]={currentRoute:s?og(s):{},routes:og(o)},Le[sa]=i,console.warn=a}n(),N0.on.componentUpdated(Us(()=>{var r;((r=t.value)==null?void 0:r.app)===e.app&&(n(),!Ut.highPerfModeEnabled&&Zs.hooks.callHook("routerInfoUpdated",{state:Le[$s]}))},200))}function uT(e){return{async getInspectorTree(t){const n={...t,app:un.value.app,rootNodes:[]};return await new Promise(r=>{e.callHookWith(async i=>{await Promise.all(i.map(s=>s(n))),r()},"getInspectorTree")}),n.rootNodes},async getInspectorState(t){const n={...t,app:un.value.app,state:null},r={currentTab:`custom-inspector:${t.inspectorId}`};return await new Promise(i=>{e.callHookWith(async s=>{await Promise.all(s.map(o=>o(n,r))),i()},"getInspectorState")}),n.state},editInspectorState(t){const n=new NA,r={...t,app:un.value.app,set:(i,s=t.path,o=t.state.value,a)=>{n.set(i,s,o,a||n.createDefaultSetCallback(t.state))}};e.callHookWith(i=>{i.forEach(s=>s(r))},"editInspectorState")},sendInspectorState(t){const n=ml(t);e.callHook("sendInspectorState",{inspectorId:t,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return OA()},cancelInspectComponentInspector(){return IA()},getComponentRenderCode(t){const n=Qu(un.value,t);if(n)return typeof(n==null?void 0:n.type)!="function"?n.render.toString():n.type.toString()},scrollToComponent(t){return PA({id:t})},openInEditor:GA,getVueInspector:DA,toggleApp(t,n){const r=Ec.value.find(i=>i.id===t);r&&(KA(t),qA(r),cT(r,un),R0(),j0(r.app,n))},inspectDOM(t){const n=Qu(un.value,t);if(n){const[r]=yh(n);r&&(Le.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=r)}},updatePluginSettings(t,n,r){XA(t,n,r)},getPluginSettings(t){return{options:YA(t),values:L0(t)}}}}ke();var Bg,jg;(jg=(Bg=Le).__VUE_DEVTOOLS_ENV__)!=null||(Bg.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var Fg=WA(),Ug,$g;($g=(Ug=Le).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(Ug.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:Fg,get state(){return{...Ut,activeAppRecordId:un.id,activeAppRecord:un.value,appRecords:Ec.value}},api:uT(Fg)});var Zs=Le.__VUE_DEVTOOLS_KIT_CONTEXT__;ke();fA(hA());var Vg,Wg;(Wg=(Vg=Le).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||(Vg.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});ke();ke();function fT(e){Ut.highPerfModeEnabled=e??!Ut.highPerfModeEnabled,!e&&un.value&&j0(un.value.app)}ke();ke();ke();function dT(e){Ut.devtoolsClientDetected={...Ut.devtoolsClientDetected,...e};const t=Object.values(Ut.devtoolsClientDetected).some(Boolean);fT(!t)}var Hg,zg;(zg=(Hg=Le).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(Hg.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=dT);ke();ke();ke();ke();ke();ke();ke();var hT=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},F0=class{constructor(t){this.generateIdentifier=t,this.kv=new hT}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}},pT=class extends F0{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){typeof t=="object"?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};ke();ke();function gT(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function mT(e,t){const n=gT(e);if("find"in n)return n.find(t);const r=n;for(let i=0;i<r.length;i++){const s=r[i];if(t(s))return s}}function Vs(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function _l(e,t){return e.indexOf(t)!==-1}function qg(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}var _T=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return mT(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};ke();ke();var bT=e=>Object.prototype.toString.call(e).slice(8,-1),U0=e=>typeof e>"u",yT=e=>e===null,oa=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,ef=e=>oa(e)&&Object.keys(e).length===0,hi=e=>Array.isArray(e),vT=e=>typeof e=="string",wT=e=>typeof e=="number"&&!isNaN(e),xT=e=>typeof e=="boolean",ET=e=>e instanceof RegExp,aa=e=>e instanceof Map,la=e=>e instanceof Set,$0=e=>bT(e)==="Symbol",ST=e=>e instanceof Date&&!isNaN(e.valueOf()),kT=e=>e instanceof Error,Kg=e=>typeof e=="number"&&isNaN(e),AT=e=>xT(e)||yT(e)||U0(e)||wT(e)||vT(e)||$0(e),TT=e=>typeof e=="bigint",CT=e=>e===1/0||e===-1/0,IT=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),OT=e=>e instanceof URL;ke();var V0=e=>e.replace(/\./g,"\\."),ru=e=>e.map(String).map(V0).join("."),Uo=e=>{const t=[];let n="";for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\"&&e.charAt(i+1)==="."){n+=".",i++;continue}if(s==="."){t.push(n),n="";continue}n+=s}const r=n;return t.push(r),t};ke();function er(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var W0=[er(U0,"undefined",()=>null,()=>{}),er(TT,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),er(ST,"Date",e=>e.toISOString(),e=>new Date(e)),er(kT,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),er(ET,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),er(la,"set",e=>[...e.values()],e=>new Set(e)),er(aa,"map",e=>[...e.entries()],e=>new Map(e)),er(e=>Kg(e)||CT(e),"number",e=>Kg(e)?"NaN":e>0?"Infinity":"-Infinity",Number),er(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),er(OT,"URL",e=>e.toString(),e=>new URL(e))];function Sc(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var H0=Sc((e,t)=>$0(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),PT=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),z0=Sc(IT,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=PT[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function q0(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var K0=Sc(q0,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(i=>{r[i]=e[i]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(r.prototype),e)}),G0=Sc((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),RT=[K0,H0,G0,z0],Gg=(e,t)=>{const n=qg(RT,i=>i.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=qg(W0,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},Y0={};W0.forEach(e=>{Y0[e.annotation]=e});var MT=(e,t,n)=>{if(hi(t))switch(t[0]){case"symbol":return H0.untransform(e,t,n);case"class":return K0.untransform(e,t,n);case"custom":return G0.untransform(e,t,n);case"typed-array":return z0.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=Y0[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}};ke();var Cs=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function Q0(e){if(_l(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(_l(e,"prototype"))throw new Error("prototype is not allowed as a property");if(_l(e,"constructor"))throw new Error("constructor is not allowed as a property")}var DT=(e,t)=>{Q0(t);for(let n=0;n<t.length;n++){const r=t[n];if(la(e))e=Cs(e,+r);else if(aa(e)){const i=+r,s=+t[++n]==0?"key":"value",o=Cs(e,i);switch(s){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[r]}return e},tf=(e,t,n)=>{if(Q0(t),t.length===0)return n(e);let r=e;for(let s=0;s<t.length-1;s++){const o=t[s];if(hi(r)){const a=+o;r=r[a]}else if(oa(r))r=r[o];else if(la(r)){const a=+o;r=Cs(r,a)}else if(aa(r)){if(s===t.length-2)break;const l=+o,c=+t[++s]==0?"key":"value",u=Cs(r,l);switch(c){case"key":r=u;break;case"value":r=r.get(u);break}}}const i=t[t.length-1];if(hi(r)?r[+i]=n(r[+i]):oa(r)&&(r[i]=n(r[i])),la(r)){const s=Cs(r,+i),o=n(s);s!==o&&(r.delete(s),r.add(o))}if(aa(r)){const s=+t[t.length-2],o=Cs(r,s);switch(+i==0?"key":"value"){case"key":{const l=n(o);r.set(l,r.get(o)),l!==o&&r.delete(o);break}case"value":{r.set(o,n(r.get(o)));break}}}return e};function nf(e,t,n=[]){if(!e)return;if(!hi(e)){Vs(e,(s,o)=>nf(s,t,[...n,...Uo(o)]));return}const[r,i]=e;i&&Vs(i,(s,o)=>{nf(s,t,[...n,...Uo(o)])}),t(r,n)}function LT(e,t,n){return nf(t,(r,i)=>{e=tf(e,i,s=>MT(s,r,n))}),e}function NT(e,t){function n(r,i){const s=DT(e,Uo(i));r.map(Uo).forEach(o=>{e=tf(e,o,()=>s)})}if(hi(t)){const[r,i]=t;r.forEach(s=>{e=tf(e,Uo(s),()=>e)}),i&&Vs(i,n)}else Vs(t,n);return e}var BT=(e,t)=>oa(e)||hi(e)||aa(e)||la(e)||q0(e,t);function jT(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function FT(e,t){const n={};let r;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[s,...o]=i;s.length===0?r=o.map(ru):n[ru(s)]=o.map(ru)}),r?ef(n)?[r]:[r,n]:ef(n)?void 0:n}var X0=(e,t,n,r,i=[],s=[],o=new Map)=>{var a;const l=AT(e);if(!l){jT(e,i,t);const p=o.get(e);if(p)return r?{transformedValue:null}:p}if(!BT(e,n)){const p=Gg(e,n),b=p?{transformedValue:p.value,annotations:[p.type]}:{transformedValue:e};return l||o.set(e,b),b}if(_l(s,e))return{transformedValue:null};const c=Gg(e,n),u=(a=c==null?void 0:c.value)!=null?a:e,f=hi(u)?[]:{},d={};Vs(u,(p,b)=>{if(b==="__proto__"||b==="constructor"||b==="prototype")throw new Error(`Detected property ${b}. This is a prototype pollution risk, please remove it from your object.`);const m=X0(p,t,n,r,[...i,b],[...s,e],o);f[b]=m.transformedValue,hi(m.annotations)?d[b]=m.annotations:oa(m.annotations)&&Vs(m.annotations,(v,y)=>{d[V0(b)+"."+y]=v})});const h=ef(d)?{transformedValue:f,annotations:c?[c.type]:void 0}:{transformedValue:f,annotations:c?[c.type,d]:d};return l||o.set(e,h),h};ke();ke();function J0(e){return Object.prototype.toString.call(e).slice(8,-1)}function Yg(e){return J0(e)==="Array"}function UT(e){if(J0(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function $T(e,t,n,r,i){const s={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=n),i&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function rf(e,t={}){if(Yg(e))return e.map(i=>rf(i,t));if(!UT(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((i,s)=>{if(Yg(t.props)&&!t.props.includes(s))return i;const o=e[s],a=rf(o,t);return $T(i,s,a,e,t.nonenumerable),i},{})}var wt=class{constructor({dedupe:e=!1}={}){this.classRegistry=new pT,this.symbolRegistry=new F0(t=>{var n;return(n=t.description)!=null?n:""}),this.customTransformerRegistry=new _T,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,n=X0(e,t,this,this.dedupe),r={json:n.transformedValue};n.annotations&&(r.meta={...r.meta,values:n.annotations});const i=FT(t,this.dedupe);return i&&(r.meta={...r.meta,referentialEqualities:i}),r}deserialize(e){const{json:t,meta:n}=e;let r=rf(t);return n!=null&&n.values&&(r=LT(r,n.values,this)),n!=null&&n.referentialEqualities&&(r=NT(r,n.referentialEqualities)),r}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};wt.defaultInstance=new wt;wt.serialize=wt.defaultInstance.serialize.bind(wt.defaultInstance);wt.deserialize=wt.defaultInstance.deserialize.bind(wt.defaultInstance);wt.stringify=wt.defaultInstance.stringify.bind(wt.defaultInstance);wt.parse=wt.defaultInstance.parse.bind(wt.defaultInstance);wt.registerClass=wt.defaultInstance.registerClass.bind(wt.defaultInstance);wt.registerSymbol=wt.defaultInstance.registerSymbol.bind(wt.defaultInstance);wt.registerCustom=wt.defaultInstance.registerCustom.bind(wt.defaultInstance);wt.allowErrorProps=wt.defaultInstance.allowErrorProps.bind(wt.defaultInstance);ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();ke();var Qg,Xg;(Xg=(Qg=Le).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(Qg.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var Jg,Zg;(Zg=(Jg=Le).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(Jg.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var em,tm;(tm=(em=Le).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(em.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var nm,rm;(rm=(nm=Le).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(nm.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var im,sm;(sm=(im=Le).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(im.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var om,am;(am=(om=Le).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(om.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);ke();ke();ke();ke();ke();ke();ke();/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sf;const ca=e=>sf=e,Z0=Symbol("pinia");function as(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var hr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(hr||(hr={}));const Yi=typeof window<"u",lm=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function VT(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function Th(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){nv(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function ev(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(n)}}const yl=typeof navigator=="object"?navigator:{userAgent:""},tv=/Macintosh/.test(yl.userAgent)&&/AppleWebKit/.test(yl.userAgent)&&!/Safari/.test(yl.userAgent),nv=Yi?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!tv?WT:"msSaveOrOpenBlob"in yl?HT:zT:()=>{};function WT(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?ev(r.href)?Th(e,t,n):(r.target="_blank",bl(r)):bl(r)):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){bl(r)},0))}function HT(e,t="download",n){if(typeof e=="string")if(ev(e))Th(e,t,n);else{const r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){bl(r)})}else navigator.msSaveOrOpenBlob(VT(e,n),t)}function zT(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Th(e,t,n);const i=e.type==="application/octet-stream",s=/constructor/i.test(String(lm.HTMLElement))||"safari"in lm,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s||tv)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},a.readAsDataURL(e)}else{const a=URL.createObjectURL(e);r?r.location.assign(a):location.href=a,r=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function Vt(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function Ch(e){return"_a"in e&&"install"in e}function rv(){if(!("clipboard"in navigator))return Vt("Your browser doesn't support the Clipboard API","error"),!0}function iv(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(Vt('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function qT(e){if(!rv())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Vt("Global state copied to clipboard.")}catch(t){if(iv(t))return;Vt("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function KT(e){if(!rv())try{sv(e,JSON.parse(await navigator.clipboard.readText())),Vt("Global state pasted from clipboard.")}catch(t){if(iv(t))return;Vt("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function GT(e){try{nv(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Vt("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let yr;function YT(){yr||(yr=document.createElement("input"),yr.type="file",yr.accept=".json");function e(){return new Promise((t,n)=>{yr.onchange=async()=>{const r=yr.files;if(!r)return t(null);const i=r.item(0);return t(i?{text:await i.text(),file:i}:null)},yr.oncancel=()=>t(null),yr.onerror=n,yr.click()})}return e}async function QT(e){try{const n=await YT()();if(!n)return;const{text:r,file:i}=n;sv(e,JSON.parse(r)),Vt(`Global state imported from "${i.name}".`)}catch(t){Vt("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function sv(e,t){for(const n in t){const r=e.state.value[n];r?Object.assign(r,t[n]):e.state.value[n]=t[n]}}function Wn(e){return{_custom:{display:e}}}const ov="🍍 Pinia (root)",vl="_root";function XT(e){return Ch(e)?{id:vl,label:ov}:{id:e.$id,label:e.$id}}function JT(e){if(Ch(e)){const n=Array.from(e._s.keys()),r=e._s;return{state:n.map(s=>({editable:!0,key:s,value:e.state.value[s]})),getters:n.filter(s=>r.get(s)._getters).map(s=>{const o=r.get(s);return{editable:!1,key:s,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function ZT(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Wn(e.type),key:Wn(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function eC(e){switch(e){case hr.direct:return"mutation";case hr.patchFunction:return"$patch";case hr.patchObject:return"$patch";default:return"unknown"}}let Is=!0;const wl=[],Ri="pinia:mutations",tn="pinia",{assign:tC}=Object,Jl=e=>"🍍 "+e;function nC(e,t){B0({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:wl,app:e},n=>{typeof n.now!="function"&&Vt("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Ri,label:"Pinia 🍍",color:15064968}),n.addInspector({id:tn,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{qT(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await KT(t),n.sendInspectorTree(tn),n.sendInspectorState(tn)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{GT(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await QT(t),n.sendInspectorTree(tn),n.sendInspectorState(tn)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=t._s.get(r);i?typeof i.$reset!="function"?Vt(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Vt(`Store "${r}" reset.`)):Vt(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(r=>{const i=r.componentInstance&&r.componentInstance.proxy;if(i&&i._pStores){const s=r.componentInstance.proxy._pStores;Object.values(s).forEach(o=>{r.instanceData.state.push({type:Jl(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:He(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((a,l)=>(a[l]=o.$state[l],a),{})}),o._getters&&o._getters.length&&r.instanceData.state.push({type:Jl(o.$id),key:"getters",editable:!1,value:o._getters.reduce((a,l)=>{try{a[l]=o[l]}catch(c){a[l]=c}return a},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===e&&r.inspectorId===tn){let i=[t];i=i.concat(Array.from(t._s.values())),r.rootNodes=(r.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):ov.toLowerCase().includes(r.filter.toLowerCase())):i).map(XT)}}),globalThis.$pinia=t,n.on.getInspectorState(r=>{if(r.app===e&&r.inspectorId===tn){const i=r.nodeId===vl?t:t._s.get(r.nodeId);if(!i)return;i&&(r.nodeId!==vl&&(globalThis.$store=He(i)),r.state=JT(i))}}),n.on.editInspectorState(r=>{if(r.app===e&&r.inspectorId===tn){const i=r.nodeId===vl?t:t._s.get(r.nodeId);if(!i)return Vt(`store "${r.nodeId}" not found`,"error");const{path:s}=r;Ch(i)?s.unshift("state"):(s.length!==1||!i._customProperties.has(s[0])||s[0]in i.$state)&&s.unshift("$state"),Is=!1,r.set(i,s,r.state.value),Is=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const i=r.type.replace(/^🍍\s*/,""),s=t._s.get(i);if(!s)return Vt(`store "${i}" not found`,"error");const{path:o}=r;if(o[0]!=="state")return Vt(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",Is=!1,r.set(s,o,r.state.value),Is=!0}})})}function rC(e,t){wl.includes(Jl(t.$id))||wl.push(Jl(t.$id)),B0({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:wl,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:o,onError:a,name:l,args:c})=>{const u=av++;n.addTimelineEvent({layerId:Ri,event:{time:r(),title:"🛫 "+l,subtitle:"start",data:{store:Wn(t.$id),action:Wn(l),args:c},groupId:u}}),o(f=>{li=void 0,n.addTimelineEvent({layerId:Ri,event:{time:r(),title:"🛬 "+l,subtitle:"end",data:{store:Wn(t.$id),action:Wn(l),args:c,result:f},groupId:u}})}),a(f=>{li=void 0,n.addTimelineEvent({layerId:Ri,event:{time:r(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:Wn(t.$id),action:Wn(l),args:c,error:f},groupId:u}})})},!0),t._customProperties.forEach(o=>{_t(()=>oi(t[o]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(tn),Is&&n.addTimelineEvent({layerId:Ri,event:{time:r(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:li}})},{deep:!0})}),t.$subscribe(({events:o,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(tn),!Is)return;const c={time:r(),title:eC(a),data:tC({store:Wn(t.$id)},ZT(o)),groupId:li};a===hr.patchFunction?c.subtitle="⤵️":a===hr.patchObject?c.subtitle="🧩":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),n.addTimelineEvent({layerId:Ri,event:c})},{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=si(o=>{i(o),n.addTimelineEvent({layerId:Ri,event:{time:r(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:Wn(t.$id),info:Wn("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(tn),n.sendInspectorState(tn)});const{$dispose:s}=t;t.$dispose=()=>{s(),n.notifyComponentUpdate(),n.sendInspectorTree(tn),n.sendInspectorState(tn),n.getSettings().logStoreChanges&&Vt(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(tn),n.sendInspectorState(tn),n.getSettings().logStoreChanges&&Vt(`"${t.$id}" store installed 🆕`)})}let av=0,li;function cm(e,t,n){const r=t.reduce((i,s)=>(i[s]=He(e)[s],i),{});for(const i in r)e[i]=function(){const s=av,o=n?new Proxy(e,{get(...l){return li=s,Reflect.get(...l)},set(...l){return li=s,Reflect.set(...l)}}):e;li=s;const a=r[i].apply(o,arguments);return li=void 0,a}}function iC({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(t._isOptionsAPI=!!n.state,!t._p._testing){cm(t,Object.keys(n.actions),t._isOptionsAPI);const r=t._hotUpdate;He(t)._hotUpdate=function(i){r.apply(this,arguments),cm(t,Object.keys(i._hmrPayload.actions),!!t._isOptionsAPI)}}rC(e,t)}}function sC(){const e=Wb(!0),t=e.run(()=>Me({}));let n=[],r=[];const i=si({install(s){ca(i),i._a=s,s.provide(Z0,i),s.config.globalProperties.$pinia=i,Yi&&nC(s,i),r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Yi&&typeof Proxy<"u"&&i.use(iC),i}function lv(e,t){for(const n in t){const r=t[n];if(!(n in e))continue;const i=e[n];as(i)&&as(r)&&!gt(r)&&!Kn(r)?e[n]=lv(i,r):e[n]=r}return e}const oC=()=>{};function um(e,t,n,r=oC){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Hb()&&Vx(i),i}function ys(e,...t){e.slice().forEach(n=>{n(...t)})}const aC=e=>e(),fm=Symbol(),iu=Symbol();function of(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];as(i)&&as(r)&&e.hasOwnProperty(n)&&!gt(r)&&!Kn(r)?e[n]=of(i,r):e[n]=r}return e}const lC=Symbol("pinia:skipHydration");function cC(e){return!as(e)||!Object.prototype.hasOwnProperty.call(e,lC)}const{assign:Pn}=Object;function dm(e){return!!(gt(e)&&e.effect)}function hm(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function c(){!a&&!r&&(n.state.value[e]=i?i():{});const u=yp(r?Me(i?i():{}).value:n.state.value[e]);return Pn(u,s,Object.keys(o||{}).reduce((f,d)=>(d in u&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${e}".`),f[d]=si(Ye(()=>{ca(n);const h=n._s.get(e);return o[d].call(h,h)})),f),{}))}return l=af(e,c,t,n,r,!0),l}function af(e,t,n={},r,i,s){let o;const a=Pn({actions:{}},n);if(!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=V=>{c?h=V:c==!1&&!A._hotUpdating&&(Array.isArray(h)?h.push(V):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,u,f=[],d=[],h;const p=r.state.value[e];!s&&!p&&!i&&(r.state.value[e]={});const b=Me({});let m;function v(V){let q;c=u=!1,h=[],typeof V=="function"?(V(r.state.value[e]),q={type:hr.patchFunction,storeId:e,events:h}):(of(r.state.value[e],V),q={type:hr.patchObject,payload:V,storeId:e,events:h});const I=m=Symbol();ns().then(()=>{m===I&&(c=!0)}),u=!0,ys(f,q,r.state.value[e])}const y=s?function(){const{state:q}=n,I=q?q():{};this.$patch(J=>{Pn(J,I)})}:()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function x(){o.stop(),f=[],d=[],r._s.delete(e)}const P=(V,q="")=>{if(fm in V)return V[iu]=q,V;const I=function(){ca(r);const J=Array.from(arguments),le=[],G=[];function de(me){le.push(me)}function oe(me){G.push(me)}ys(d,{args:J,name:I[iu],store:A,after:de,onError:oe});let fe;try{fe=V.apply(this&&this.$id===e?this:A,J)}catch(me){throw ys(G,me),me}return fe instanceof Promise?fe.then(me=>(ys(le,me),me)).catch(me=>(ys(G,me),Promise.reject(me))):(ys(le,fe),fe)};return I[fm]=!0,I[iu]=q,I},S=si({actions:{},getters:{},state:[],hotState:b}),E={_p:r,$id:e,$onAction:um.bind(null,d),$patch:v,$reset:y,$subscribe(V,q={}){const I=um(f,V,q.detached,()=>J()),J=o.run(()=>_t(()=>r.state.value[e],le=>{(q.flush==="sync"?u:c)&&V({storeId:e,type:hr.direct,events:h},le)},Pn({},l,q)));return I},$dispose:x},A=fn(Pn({_hmrPayload:S,_customProperties:si(new Set)},E));r._s.set(e,A);const W=(r._a&&r._a.runWithContext||aC)(()=>r._e.run(()=>(o=Wb()).run(()=>t({action:P}))));for(const V in W){const q=W[V];if(gt(q)&&!dm(q)||Kn(q))i?b.value[V]=ll(W,V):s||(p&&cC(q)&&(gt(q)?q.value=p[V]:of(q,p[V])),r.state.value[e][V]=q),S.state.push(V);else if(typeof q=="function"){const I=i?q:P(q,V);W[V]=I,S.actions[V]=q,a.actions[V]=q}else dm(q)&&(S.getters[V]=s?n.getters[V]:q,Yi&&(W._getters||(W._getters=si([]))).push(V))}if(Pn(A,W),Pn(He(A),W),Object.defineProperty(A,"$state",{get:()=>i?b.value:r.state.value[e],set:V=>{if(i)throw new Error("cannot set hotState");v(q=>{Pn(q,V)})}}),A._hotUpdate=si(V=>{A._hotUpdating=!0,V._hmrPayload.state.forEach(q=>{if(q in A.$state){const I=V.$state[q],J=A.$state[q];typeof I=="object"&&as(I)&&as(J)?lv(I,J):V.$state[q]=J}A[q]=ll(V.$state,q)}),Object.keys(A.$state).forEach(q=>{q in V.$state||delete A[q]}),c=!1,u=!1,r.state.value[e]=ll(V._hmrPayload,"hotState"),u=!0,ns().then(()=>{c=!0});for(const q in V._hmrPayload.actions){const I=V[q];A[q]=P(I,q)}for(const q in V._hmrPayload.getters){const I=V._hmrPayload.getters[q],J=s?Ye(()=>(ca(r),I.call(A,A))):I;A[q]=J}Object.keys(A._hmrPayload.getters).forEach(q=>{q in V._hmrPayload.getters||delete A[q]}),Object.keys(A._hmrPayload.actions).forEach(q=>{q in V._hmrPayload.actions||delete A[q]}),A._hmrPayload=V._hmrPayload,A._getters=V._getters,A._hotUpdating=!1}),Yi){const V={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(q=>{Object.defineProperty(A,q,Pn({value:A[q]},V))})}return r._p.forEach(V=>{if(Yi){const q=o.run(()=>V({store:A,app:r._a,pinia:r,options:a}));Object.keys(q||{}).forEach(I=>A._customProperties.add(I)),Pn(A,q)}else Pn(A,o.run(()=>V({store:A,app:r._a,pinia:r,options:a})))}),A.$state&&typeof A.$state=="object"&&typeof A.$state.constructor=="function"&&!A.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${A.$id}".`),p&&s&&n.hydrate&&n.hydrate(A.$state,p),c=!0,u=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Tn(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function s(o,a){const l=oS();if(o=o||(l?Ln(Z0,null):null),o&&ca(o),!sf)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);o=sf,o._s.has(e)||(i?af(e,t,r,o):hm(e,r,o),s._pinia=o);const c=o._s.get(e);if(a){const u="__hot:"+e,f=i?af(u,t,r,o,!0):hm(u,Pn({},r),o,!0);a._hotUpdate(f),delete o.state.value[u],o._s.delete(u)}if(Yi){const u=Xs();if(u&&u.proxy&&!a){const f=u.proxy,d="_pStores"in f?f._pStores:f._pStores={};d[e]=c}}return c}return s.$id=e,s}function Ih(e){const t=He(e),n={};for(const r in t){const i=t[r];i.effect?n[r]=Ye({get:()=>e[r],set(s){e[r]=s}}):(gt(i)||Kn(i))&&(n[r]=ll(e,r))}return n}function uC(){return cv().__VUE_DEVTOOLS_GLOBAL_HOOK__}function cv(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const fC=typeof Proxy=="function",dC="devtools-plugin:setup",hC="plugin:settings:set";let vs,lf;function pC(){var e;return vs!==void 0||(typeof window<"u"&&window.performance?(vs=!0,lf=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(vs=!0,lf=globalThis.perf_hooks.performance):vs=!1),vs}function gC(){return pC()?lf.now():Date.now()}class mC{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return gC()}},n&&n.on(hC,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function _C(e,t){const n=e,r=cv(),i=uC(),s=fC&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(dC,e,t);else{const o=s?new mC(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Or=typeof document<"u";function uv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&uv(e.default)}const at=Object.assign;function su(e,t){const n={};for(const r in t){const i=t[r];n[r]=An(i)?i.map(e):e(i)}return n}const $o=()=>{},An=Array.isArray;function Je(e){const t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}const fv=/#/g,yC=/&/g,vC=/\//g,wC=/=/g,xC=/\?/g,dv=/\+/g,EC=/%5B/g,SC=/%5D/g,hv=/%5E/g,kC=/%60/g,pv=/%7B/g,AC=/%7C/g,gv=/%7D/g,TC=/%20/g;function Oh(e){return encodeURI(""+e).replace(AC,"|").replace(EC,"[").replace(SC,"]")}function CC(e){return Oh(e).replace(pv,"{").replace(gv,"}").replace(hv,"^")}function cf(e){return Oh(e).replace(dv,"%2B").replace(TC,"+").replace(fv,"%23").replace(yC,"%26").replace(kC,"`").replace(pv,"{").replace(gv,"}").replace(hv,"^")}function IC(e){return cf(e).replace(wC,"%3D")}function OC(e){return Oh(e).replace(fv,"%23").replace(xC,"%3F")}function PC(e){return e==null?"":OC(e).replace(vC,"%2F")}function Ws(e){try{return decodeURIComponent(""+e)}catch{Je(`Error decoding "${e}". Using original value`)}return""+e}const RC=/\/$/,MC=e=>e.replace(RC,"");function ou(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=NC(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Ws(o)}}function DC(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gm(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&pi(t.matched[r],n.matched[i])&&mv(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!LC(e[n],t[n]))return!1;return!0}function LC(e,t){return An(e)?mm(e,t):An(t)?mm(t,e):e===t}function mm(e,t){return An(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function NC(e,t){if(e.startsWith("/"))return e;if(!t.startsWith("/"))return Je(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Hr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ua;(function(e){e.pop="pop",e.push="push"})(ua||(ua={}));var Vo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Vo||(Vo={}));function BC(e){if(!e)if(Or){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),MC(e)}const jC=/^[^#]+#/;function FC(e,t){return e.replace(jC,"#")+t}function UC(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const kc=()=>({left:window.scrollX,top:window.scrollY});function $C(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#");if(typeof e.el=="string"&&(!r||!document.getElementById(e.el.slice(1))))try{const s=document.querySelector(e.el);if(r&&s){Je(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{Je(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i){Je(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}t=UC(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function _m(e,t){return(history.state?history.state.position-t:-1)+e}const uf=new Map;function VC(e,t){uf.set(e,t)}function WC(e){const t=uf.get(e);return uf.delete(e),t}let HC=()=>location.protocol+"//"+location.host;function _v(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),pm(l,"")}return pm(n,e)+r+i}function zC(e,t,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const h=_v(e,location),p=n.value,b=t.value;let m=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}m=b?d.position-b.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:m,type:ua.pop,direction:m?m>0?Vo.forward:Vo.back:Vo.unknown})})};function l(){o=n.value}function c(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(at({},d.state,{scroll:kc()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function bm(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?kc():null}}function qC(e){const{history:t,location:n}=window,r={value:_v(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:HC()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){Je("Error with push/replace State",h),n[u?"replace":"assign"](d)}}function o(l,c){const u=at({},t.state,bm(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=at({},i.value,t.state,{forward:l,scroll:kc()});t.state||Je(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state`),s(u.current,u,!0);const f=at({},bm(r.value,l,null),{position:u.position+1},c);s(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function KC(e){e=BC(e);const t=qC(e),n=zC(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=at({location:"",base:e,go:r,createHref:FC.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Zl(e){return typeof e=="string"||e&&typeof e=="object"}function bv(e){return typeof e=="string"||typeof e=="symbol"}const yv=Symbol("navigation failure");var ym;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ym||(ym={}));const GC={1({location:e,currentLocation:t}){return`No match for
 ${JSON.stringify(e)}${t?`
while being at
`+JSON.stringify(t):""}`},2({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${QC(t)}" via a navigation guard.`},4({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},8({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},16({from:e,to:t}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function Hs(e,t){return at(new Error(GC[e](t)),{type:e,[yv]:!0},t)}function vr(e,t){return e instanceof Error&&yv in e&&(t==null||!!(e.type&t))}const YC=["params","query","hash"];function QC(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of YC)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}const vm="[^/]+?",XC={sensitive:!1,strict:!1,start:!0,end:!0},JC=/[.+*?^${}()[\]/\\]/g;function ZC(e,t){const n=at({},XC,t),r=[];let i=n.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(JC,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:b,optional:m,regexp:v}=d;s.push({name:p,repeatable:b,optional:m});const y=v||vm;if(y!==vm){h+=10;try{new RegExp(`(${y})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+P.message)}}let x=b?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=m&&c.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),i+=x,h+=20,m&&(h+=-8),b&&(h+=-20),y===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=s[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:b,optional:m}=h,v=p in c?c[p]:"";if(An(v)&&!b)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=An(v)?v.join("/"):v;if(!y)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function eI(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function vv(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=eI(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(wm(r))return 1;if(wm(i))return-1}return i.length-r.length}function wm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const tI={type:0,value:""},nI=/[a-zA-Z0-9_]/;function rI(e){if(!e)return[[]];if(e==="/")return[[tI]];if(!e.startsWith("/"))throw new Error(`Route paths should start with a "/": "${e}" should be "/${e}".`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:nI.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function iI(e,t,n){const r=ZC(rI(e.path),n);{const s=new Set;for(const o of r.keys)s.has(o.name)&&Je(`Found duplicated params with name "${o.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),s.add(o.name)}const i=at(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function sI(e,t){const n=[],r=new Map;t=km({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function s(f,d,h){const p=!h,b=Em(f);cI(b,d),b.aliasOf=h&&h.record;const m=km(t,f),v=[b];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of P)v.push(Em(at({},b,{components:h?h.record.components:b.components,path:S,aliasOf:h?h.record:b})))}let y,x;for(const P of v){const{path:S}=P;if(d&&S[0]!=="/"){const E=d.record.path,A=E[E.length-1]==="/"?"":"/";P.path=d.record.path+(S&&A+S)}if(P.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.`);if(y=iI(P,d,m),d&&S[0]==="/"&&fI(y,d),h?(h.alias.push(y),lI(h,y)):(x=x||y,x!==y&&x.alias.push(y),p&&f.name&&!Sm(y)&&(uI(f,d),o(f.name))),wv(y)&&l(y),b.children){const E=b.children;for(let A=0;A<E.length;A++)s(E[A],y,h&&h.children[A])}h=h||y}return x?()=>{o(x)}:$o}function o(f){if(bv(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=dI(f,n);n.splice(d,0,f),f.record.name&&!Sm(f)&&r.set(f.record.name,f)}function c(f,d){let h,p={},b,m;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Hs(1,{location:f});{const x=Object.keys(f.params||{}).filter(P=>!h.keys.find(S=>S.name===P));x.length&&Je(`Discarded invalid param(s) "${x.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}m=h.record.name,p=at(xm(d.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&xm(f.params,h.keys.map(x=>x.name))),b=h.stringify(p)}else if(f.path!=null)b=f.path,b.startsWith("/")||Je(`The Matcher cannot resolve relative paths but received "${b}". Unless you directly called \`matcher.resolve("${b}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),h=n.find(x=>x.re.test(b)),h&&(p=h.parse(b),m=h.record.name);else{if(h=d.name?r.get(d.name):n.find(x=>x.re.test(d.path)),!h)throw Hs(1,{location:f,currentLocation:d});m=h.record.name,p=at({},d.params,f.params),b=h.stringify(p)}const v=[];let y=h;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:b,params:p,matched:v,meta:aI(v)}}e.forEach(f=>s(f));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function xm(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Em(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:oI(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function oI(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Sm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function aI(e){return e.reduce((t,n)=>at(t,n.meta),{})}function km(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ff(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function lI(e,t){for(const n of e.keys)if(!n.optional&&!t.keys.find(ff.bind(null,n)))return Je(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`);for(const n of t.keys)if(!n.optional&&!e.keys.find(ff.bind(null,n)))return Je(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`)}function cI(e,t){t&&t.record.name&&!e.name&&!e.path&&Je(`The route named "${String(t.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function uI(e,t){for(let n=t;n;n=n.parent)if(n.record.name===e.name)throw new Error(`A route named "${String(e.name)}" has been added as a ${t===n?"child":"descendant"} of a route with the same name. Route names must be unique and a nested route cannot use the same name as an ancestor.`)}function fI(e,t){for(const n of t.keys)if(!e.keys.find(ff.bind(null,n)))return Je(`Absolute path "${e.record.path}" must have the exact same param named "${n.name}" as its parent "${t.record.path}".`)}function dI(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;vv(e,t[s])<0?r=s:n=s+1}const i=hI(e);return i&&(r=t.lastIndexOf(i,r-1),r<0&&Je(`Finding ancestor route "${i.record.path}" failed for "${e.record.path}"`)),r}function hI(e){let t=e;for(;t=t.parent;)if(wv(t)&&vv(e,t)===0)return t}function wv({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function pI(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(dv," "),o=s.indexOf("="),a=Ws(o<0?s:s.slice(0,o)),l=o<0?null:Ws(s.slice(o+1));if(a in t){let c=t[a];An(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Am(e){let t="";for(let n in e){const r=e[n];if(n=IC(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(An(r)?r.map(s=>s&&cf(s)):[r&&cf(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function gI(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=An(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const mI=Symbol("router view location matched"),Tm=Symbol("router view depth"),Ac=Symbol("router"),Ph=Symbol("route location"),df=Symbol("router view location");function uo(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ni(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Hs(4,{from:n,to:t})):d instanceof Error?l(d):Zl(d)?l(Hs(2,{from:t,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>e.call(r&&r.instances[i],t,n,_I(c,t,n)));let f=Promise.resolve(u);if(e.length<3&&(f=f.then(c)),e.length>2){const d=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)f=f.then(h=>c._called?h:(Je(d),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!c._called){Je(d),l(new Error("Invalid navigation guard"));return}}f.catch(d=>l(d))})}function _I(e,t,n){let r=0;return function(){r++===1&&Je(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,r===1&&e.apply(null,arguments)}}function au(e,t,n,r,i=s=>s()){const s=[];for(const o of e){!o.components&&!o.children.length&&Je(`Record with path "${o.path}" is either missing a "component(s)" or "children" property.`);for(const a in o.components){let l=o.components[a];{if(!l||typeof l!="object"&&typeof l!="function")throw Je(`Component "${a}" in record with path "${o.path}" is not a valid component. Received "${String(l)}".`),new Error("Invalid route component");if("then"in l){Je(`Component "${a}" in record with path "${o.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=l;l=()=>c}else l.__asyncLoader&&!l.__warnedDefineAsync&&(l.__warnedDefineAsync=!0,Je(`Component "${a}" in record with path "${o.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(uv(l)){const u=(l.__vccOpts||l)[t];u&&s.push(ni(u,n,r,o,a,i))}else{let c=l();"catch"in c||(Je(`Component "${a}" in record with path "${o.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=bC(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&ni(h,n,r,o,a,i)()}))}}}return s}function Cm(e){const t=Ln(Ac),n=Ln(Ph);let r=!1,i=null;const s=Ye(()=>{const u=oi(e.to);return(!r||u!==i)&&(Zl(u)||(r?Je(`Invalid value for prop "to" in useLink()
- to:`,u,`
- previous to:`,i,`
- props:`,e):Je(`Invalid value for prop "to" in useLink()
- to:`,u,`
- props:`,e)),i=u,r=!0),t.resolve(u)}),o=Ye(()=>{const{matched:u}=s.value,{length:f}=u,d=u[f-1],h=n.matched;if(!d||!h.length)return-1;const p=h.findIndex(pi.bind(null,d));if(p>-1)return p;const b=Im(u[f-2]);return f>1&&Im(d)===b&&h[h.length-1].path!==b?h.findIndex(pi.bind(null,u[f-2])):p}),a=Ye(()=>o.value>-1&&wI(n.params,s.value.params)),l=Ye(()=>o.value>-1&&o.value===n.matched.length-1&&mv(n.params,s.value.params));function c(u={}){if(vI(u)){const f=t[oi(e.replace)?"replace":"push"](oi(e.to)).catch($o);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}if(Or){const u=Xs();if(u){const f={route:s.value,isActive:a.value,isExactActive:l.value,error:null};u.__vrl_devtools=u.__vrl_devtools||[],u.__vrl_devtools.push(f),fh(()=>{f.route=s.value,f.isActive=a.value,f.isExactActive=l.value,f.error=Zl(oi(e.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:s,href:Ye(()=>s.value.href),isActive:a,isExactActive:l,navigate:c}}function bI(e){return e.length===1?e[0]:e}const yI=We({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cm,setup(e,{slots:t}){const n=fn(Cm(e)),{options:r}=Ln(Ac),i=Ye(()=>({[Om(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Om(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&bI(t.default(n));return e.custom?s:Ft("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),xv=yI;function vI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function wI(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!An(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Im(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Om=(e,t,n)=>e??t??n,xI=We({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){EI();const r=Ln(df),i=Ye(()=>e.route||r.value),s=Ln(Tm,0),o=Ye(()=>{let c=oi(s);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Ye(()=>i.value.matched[o.value]);dl(Tm,Ye(()=>o.value+1)),dl(mI,a),dl(df,i);const l=Me();return _t(()=>[l.value,a.value,e.name],([c,u,f],[d,h,p])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!pi(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Pm(n.default,{Component:d,route:c});const h=f.props[u],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,m=Ft(d,at({},p,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[u]=null)},ref:l}));if(Or&&m.ref){const v={depth:o.value,name:f.name,path:f.path,meta:f.meta};(An(m.ref)?m.ref.map(x=>x.i):[m.ref.i]).forEach(x=>{x.__vrv_devtools=v})}return Pm(n.default,{Component:m,route:c})||m}}});function Pm(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ev=xI;function EI(){const e=Xs(),t=e.parent&&e.parent.type.name,n=e.parent&&e.parent.subTree&&e.parent.subTree.type;if(t&&(t==="KeepAlive"||t.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const r=t==="KeepAlive"?"keep-alive":"transition";Je(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${r}>
    <component :is="Component" />
  </${r}>
</router-view>`)}}function fo(e,t){const n=at({},e,{matched:e.matched.map(r=>DI(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function Ua(e){return{_custom:{display:e}}}let SI=0;function kI(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const r=SI++;_C({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((u,f)=>{u.instanceData&&u.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:fo(t.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:u,componentInstance:f})=>{if(f.__vrv_devtools){const d=f.__vrv_devtools;u.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Sv})}An(f.__vrl_devtools)&&(f.__devtoolsApi=i,f.__vrl_devtools.forEach(d=>{let h=d.route.path,p=Tv,b="",m=0;d.error?(h=d.error,p=OI,m=PI):d.isExactActive?(p=Av,b="This is exactly active"):d.isActive&&(p=kv,b="This link is active"),u.tags.push({label:h,textColor:m,tooltip:b,backgroundColor:p})}))}),_t(t.currentRoute,()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(a),i.sendInspectorState(a)});const s="router:navigations:"+r;i.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),t.onError((u,f)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:i.now(),data:{error:u},groupId:f.meta.__navigationId}})});let o=0;t.beforeEach((u,f)=>{const d={guard:Ua("beforeEach"),from:fo(f,"Current Location during this navigation"),to:fo(u,"Target location")};Object.defineProperty(u.meta,"__navigationId",{value:o++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:u.fullPath,data:d,groupId:u.meta.__navigationId}})}),t.afterEach((u,f,d)=>{const h={guard:Ua("afterEach")};d?(h.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},h.status=Ua("❌")):h.status=Ua("✅"),h.from=fo(f,"Current Location during this navigation"),h.to=fo(u,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:u.fullPath,time:i.now(),data:h,logType:d?"warning":"default",groupId:u.meta.__navigationId}})});const a="router-inspector:"+r;i.addInspector({id:a,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!c)return;const u=c;let f=n.getRoutes().filter(d=>!d.parent||!d.parent.record.components);f.forEach(Ov),u.filter&&(f=f.filter(d=>hf(d,u.filter.toLowerCase()))),f.forEach(d=>Iv(d,t.currentRoute.value)),u.rootNodes=f.map(Cv)}let c;i.on.getInspectorTree(u=>{c=u,u.app===e&&u.inspectorId===a&&l()}),i.on.getInspectorState(u=>{if(u.app===e&&u.inspectorId===a){const d=n.getRoutes().find(h=>h.record.__vd_id===u.nodeId);d&&(u.state={options:TI(d)})}}),i.sendInspectorTree(a),i.sendInspectorState(a)})}function AI(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function TI(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(r=>`${r.name}${AI(r)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(r=>r.record.path)}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const Sv=15485081,kv=2450411,Av=8702998,CI=2282478,Tv=16486972,II=6710886,OI=16704226,PI=12131356;function Cv(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:CI}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Tv}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:Sv}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Av}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:kv}),n.redirect&&t.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:II});let r=n.__vd_id;return r==null&&(r=String(RI++),n.__vd_id=r),{id:r,label:n.path,tags:t,children:e.children.map(Cv)}}let RI=0;const MI=/^\/(.*)\/([a-z]*)$/;function Iv(e,t){const n=t.matched.length&&pi(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(r=>pi(r,e.record))),e.children.forEach(r=>Iv(r,t))}function Ov(e){e.__vd_match=!1,e.children.forEach(Ov)}function hf(e,t){const n=String(e.re).match(MI);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(o=>hf(o,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const i=e.record.path.toLowerCase(),s=Ws(i);return!t.startsWith("/")&&(s.includes(t)||i.includes(t))||s.startsWith(t)||i.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(o=>hf(o,t))}function DI(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function LI(e){const t=sI(e.routes,e),n=e.parseQuery||pI,r=e.stringifyQuery||Am,i=e.history;if(!i)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const s=uo(),o=uo(),a=uo(),l=Ea(Hr);let c=Hr;Or&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=su.bind(null,L=>""+L),f=su.bind(null,PC),d=su.bind(null,Ws);function h(L,N){let ne,K;return bv(L)?(ne=t.getRecordMatcher(L),ne||Je(`Parent route "${String(L)}" not found when adding child route`,N),K=N):K=L,t.addRoute(K,ne)}function p(L){const N=t.getRecordMatcher(L);N?t.removeRoute(N):Je(`Cannot remove non-existent route "${String(L)}"`)}function b(){return t.getRoutes().map(L=>L.record)}function m(L){return!!t.getRecordMatcher(L)}function v(L,N){if(N=at({},N||l.value),typeof L=="string"){const O=ou(n,L,N.path),T=t.resolve({path:O.path},N),D=i.createHref(O.fullPath);return D.startsWith("//")?Je(`Location "${L}" resolved to "${D}". A resolved location cannot start with multiple slashes.`):T.matched.length||Je(`No match found for location with path "${L}"`),at(O,T,{params:d(T.params),hash:Ws(O.hash),redirectedFrom:void 0,href:D})}if(!Zl(L))return Je(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,L),v({});let ne;if(L.path!=null)"params"in L&&!("name"in L)&&Object.keys(L.params).length&&Je(`Path "${L.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),ne=at({},L,{path:ou(n,L.path,N.path).path});else{const O=at({},L.params);for(const T in O)O[T]==null&&delete O[T];ne=at({},L,{params:f(O)}),N.params=f(N.params)}const K=t.resolve(ne,N),Z=L.hash||"";Z&&!Z.startsWith("#")&&Je(`A \`hash\` should always start with the character "#". Replace "${Z}" with "#${Z}".`),K.params=u(d(K.params));const ie=DC(r,at({},L,{hash:CC(Z),path:K.path})),k=i.createHref(ie);return k.startsWith("//")?Je(`Location "${L}" resolved to "${k}". A resolved location cannot start with multiple slashes.`):K.matched.length||Je(`No match found for location with path "${L.path!=null?L.path:L}"`),at({fullPath:ie,hash:Z,query:r===Am?gI(L.query):L.query||{}},K,{redirectedFrom:void 0,href:k})}function y(L){return typeof L=="string"?ou(n,L,l.value.path):at({},L)}function x(L,N){if(c!==L)return Hs(8,{from:N,to:L})}function P(L){return A(L)}function S(L){return P(at(y(L),{replace:!0}))}function E(L){const N=L.matched[L.matched.length-1];if(N&&N.redirect){const{redirect:ne}=N;let K=typeof ne=="function"?ne(L):ne;if(typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=y(K):{path:K},K.params={}),K.path==null&&!("name"in K))throw Je(`Invalid redirect found:
${JSON.stringify(K,null,2)}
 when navigating to "${L.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return at({query:L.query,hash:L.hash,params:K.path!=null?{}:L.params},K)}}function A(L,N){const ne=c=v(L),K=l.value,Z=L.state,ie=L.force,k=L.replace===!0,O=E(ne);if(O)return A(at(y(O),{state:typeof O=="object"?at({},Z,O.state):Z,force:ie,replace:k}),N||ne);const T=ne;T.redirectedFrom=N;let D;return!ie&&gm(r,K,ne)&&(D=Hs(16,{to:T,from:K}),ge(K,K,!0,!1)),(D?Promise.resolve(D):V(T,K)).catch(U=>vr(U)?vr(U,2)?U:ae(U):fe(U,T,K)).then(U=>{if(U){if(vr(U,2))return gm(r,v(U.to),T)&&N&&(N._count=N._count?N._count+1:1)>30?(Je(`Detected a possibly infinite redirection in a navigation guard when going from "${K.fullPath}" to "${T.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):A(at({replace:k},y(U.to),{state:typeof U.to=="object"?at({},Z,U.to.state):Z,force:ie}),N||T)}else U=I(T,K,!0,k,Z);return q(T,K,U),U})}function M(L,N){const ne=x(L,N);return ne?Promise.reject(ne):Promise.resolve()}function W(L){const N=be.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(L):L()}function V(L,N){let ne;const[K,Z,ie]=NI(L,N);ne=au(K.reverse(),"beforeRouteLeave",L,N);for(const O of K)O.leaveGuards.forEach(T=>{ne.push(ni(T,L,N))});const k=M.bind(null,L,N);return ne.push(k),Pe(ne).then(()=>{ne=[];for(const O of s.list())ne.push(ni(O,L,N));return ne.push(k),Pe(ne)}).then(()=>{ne=au(Z,"beforeRouteUpdate",L,N);for(const O of Z)O.updateGuards.forEach(T=>{ne.push(ni(T,L,N))});return ne.push(k),Pe(ne)}).then(()=>{ne=[];for(const O of ie)if(O.beforeEnter)if(An(O.beforeEnter))for(const T of O.beforeEnter)ne.push(ni(T,L,N));else ne.push(ni(O.beforeEnter,L,N));return ne.push(k),Pe(ne)}).then(()=>(L.matched.forEach(O=>O.enterCallbacks={}),ne=au(ie,"beforeRouteEnter",L,N,W),ne.push(k),Pe(ne))).then(()=>{ne=[];for(const O of o.list())ne.push(ni(O,L,N));return ne.push(k),Pe(ne)}).catch(O=>vr(O,8)?O:Promise.reject(O))}function q(L,N,ne){a.list().forEach(K=>W(()=>K(L,N,ne)))}function I(L,N,ne,K,Z){const ie=x(L,N);if(ie)return ie;const k=N===Hr,O=Or?history.state:{};ne&&(K||k?i.replace(L.fullPath,at({scroll:k&&O&&O.scroll},Z)):i.push(L.fullPath,Z)),l.value=L,ge(L,N,ne,k),ae()}let J;function le(){J||(J=i.listen((L,N,ne)=>{if(!X.listening)return;const K=v(L),Z=E(K);if(Z){A(at(Z,{replace:!0,force:!0}),K).catch($o);return}c=K;const ie=l.value;Or&&VC(_m(ie.fullPath,ne.delta),kc()),V(K,ie).catch(k=>vr(k,12)?k:vr(k,2)?(A(at(y(k.to),{force:!0}),K).then(O=>{vr(O,20)&&!ne.delta&&ne.type===ua.pop&&i.go(-1,!1)}).catch($o),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),fe(k,K,ie))).then(k=>{k=k||I(K,ie,!1),k&&(ne.delta&&!vr(k,8)?i.go(-ne.delta,!1):ne.type===ua.pop&&vr(k,20)&&i.go(-1,!1)),q(K,ie,k)}).catch($o)}))}let G=uo(),de=uo(),oe;function fe(L,N,ne){ae(L);const K=de.list();return K.length?K.forEach(Z=>Z(L,N,ne)):(Je("uncaught error during route navigation:"),console.error(L)),Promise.reject(L)}function me(){return oe&&l.value!==Hr?Promise.resolve():new Promise((L,N)=>{G.add([L,N])})}function ae(L){return oe||(oe=!L,le(),G.list().forEach(([N,ne])=>L?ne(L):N()),G.reset()),L}function ge(L,N,ne,K){const{scrollBehavior:Z}=e;if(!Or||!Z)return Promise.resolve();const ie=!ne&&WC(_m(L.fullPath,0))||(K||!ne)&&history.state&&history.state.scroll||null;return ns().then(()=>Z(L,N,ie)).then(k=>k&&$C(k)).catch(k=>fe(k,L,N))}const F=L=>i.go(L);let he;const be=new Set,X={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:b,resolve:v,options:e,push:P,replace:S,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:me,install(L){const N=this;L.component("RouterLink",xv),L.component("RouterView",Ev),L.config.globalProperties.$router=N,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>oi(l)}),Or&&!he&&l.value===Hr&&(he=!0,P(i.location).catch(Z=>{Je("Unexpected error when starting the router:",Z)}));const ne={};for(const Z in Hr)Object.defineProperty(ne,Z,{get:()=>l.value[Z],enumerable:!0});L.provide(Ac,N),L.provide(Ph,ay(ne)),L.provide(df,l);const K=L.unmount;be.add(L),L.unmount=function(){be.delete(L),be.size<1&&(c=Hr,J&&J(),J=null,l.value=Hr,he=!1,oe=!1),K()},Or&&kI(L,N,t)}};function Pe(L){return L.reduce((N,ne)=>N.then(()=>W(ne)),Promise.resolve())}return X}function NI(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(c=>pi(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>pi(c,l))||i.push(l))}return[n,r,i]}function cs(){return Ln(Ac)}function BI(e){return Ln(Ph)}const jI={BASE_URL:"https://apiv2.smartpx.org/api"},Rm={host:"mqttv2.smartpx.org",port:443,topics:{tripRequests:"trips/requests",tripUpdates:"trips/updates",driverLocation:"drivers/location",chatMessages:"chat/messages",notifications:"notifications"}},Bi={NAME:"Chasqui Taxi",VERSION:"1.0.0",STORAGE_PREFIX:"chasqui_",API_BASE_URL:jI.BASE_URL},FI="modulepreload",UI=function(e){return"/"+e},Mm={},Pv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=UI(c),c in Mm)return;Mm[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":FI,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},$I=e=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e),o6=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),a6=e=>/^9\d{8}$/.test(e.replace(/\D/g,"")),eo=(...e)=>e.filter(Boolean).join(" "),VI=We({__name:"Loading",props:{size:{type:String,required:!1,default:"md"},text:{type:String,required:!1,default:"Cargando..."},fullScreen:{type:Boolean,required:!1,default:!1}},setup(e,{expose:t}){t();const n=e,r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},i=Ye(()=>eo("border-4 border-gray-200 border-t-sky-500 rounded-full animate-spin",r[n.size])),s={props:n,sizeClasses:r,spinnerClass:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),Ke=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},WI={key:0,class:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50"},HI={class:"flex flex-col items-center justify-center space-y-3"},zI={key:0,class:"text-gray-600 text-sm font-medium"},qI={key:1,class:"flex flex-col items-center justify-center space-y-3"},KI={key:0,class:"text-gray-600 text-sm font-medium"};function GI(e,t,n,r,i,s){return r.props.fullScreen?(ue(),_e("div",WI,[R("div",HI,[R("div",{class:Xe(r.spinnerClass)},null,2),r.props.text?(ue(),_e("p",zI,ve(r.props.text),1)):$e("",!0)])])):(ue(),_e("div",qI,[R("div",{class:Xe(r.spinnerClass)},null,2),r.props.text?(ue(),_e("p",KI,ve(r.props.text),1)):$e("",!0)]))}const ln=Ke(VI,[["render",GI],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/Loading.vue"]]),YI=We({__name:"PublicRoute",setup(e,{expose:t}){t();const n=Un(),r=cs();fh(()=>{!n.loading&&n.isAuthenticated&&r.replace({path:"/dashboard"})});const i={auth:n,router:r,Loading:ln};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function QI(e,t,n,r,i,s){const o=Ly("router-view");return r.auth.loading?(ue(),Ze(r.Loading,{key:0,fullScreen:"",text:"Loading..."})):(ue(),Ze(o,{key:1}))}const XI=Ke(YI,[["render",QI],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/router/components/PublicRoute.vue"]]),JI=We({__name:"ProtectedRoute",setup(e,{expose:t}){t();const n=Un(),r=cs();fh(()=>{!n.loading&&!n.isAuthenticated&&r.replace("/login")});const i={auth:n,router:r,Loading:ln};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function ZI(e,t,n,r,i,s){const o=Ly("router-view");return r.auth.loading?(ue(),Ze(r.Loading,{key:0,fullScreen:"",text:"Verificando sesión..."})):(ue(),Ze(o,{key:1}))}const lu=Ke(JI,[["render",ZI],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/router/components/ProtectedRoute.vue"]]),eO=We({__name:"NotFound",setup(e,{expose:t}){t();const n={get RouterLink(){return xv}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),tO={class:"min-h-screen flex items-center justify-center bg-gray-50"},nO={class:"text-center"};function rO(e,t,n,r,i,s){return ue(),_e("div",tO,[R("div",nO,[t[1]||(t[1]=R("h1",{class:"text-6xl font-bold text-gray-900 mb-4"},"404",-1)),t[2]||(t[2]=R("p",{class:"text-xl text-gray-600 mb-8"},"Page not found",-1)),ye(r.RouterLink,{to:"/",class:"inline-block px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition"},{default:tt(()=>t[0]||(t[0]=[Qe(" Go Home ")])),_:1,__:[0]})])])}const iO=Ke(eO,[["render",rO],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/router/components/NotFound.vue"]]),to=()=>{const e=cs(),t=BI(),n=Un(),r=()=>{var u,f;n.isAuthenticated&&(((u=n.user)==null?void 0:u.user_type)==="driver"||((f=n.user)==null?void 0:f.user_type)==="both"?e.replace("/driver/dashboard"):e.replace("/passenger/dashboard"))},i=()=>e.push("/login"),s=()=>e.push("/register"),o=()=>e.back();function a(u){e.push(u)}return{navigate:a,router:e,route:t,goToDashboard:r,goToLogin:i,goToRegister:s,goBack:o,isCurrentPath:u=>t.path===u,isCurrentPathStartsWith:u=>t.path.startsWith(u)}},Rv=/^[a-z0-9]+(-[a-z0-9]+)*$/,Tc=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!xl(c)?null:c}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return t&&!xl(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return t&&!xl(a,n)?null:a}return null},xl=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Mv=Object.freeze({left:0,top:0,width:16,height:16}),ec=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Cc=Object.freeze({...Mv,...ec}),pf=Object.freeze({...Cc,body:"",hidden:!1});function sO(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function Dm(e,t){const n=sO(e,t);for(const r in pf)r in ec?r in e&&!(r in n)&&(n[r]=ec[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function oO(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return Object.keys(n).concat(Object.keys(r)).forEach(s),i}function aO(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=Dm(r[a]||i[a],s)}return o(t),n.forEach(o),Dm(e,s)}function Dv(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=oO(e);for(const i in r){const s=r[i];s&&(t(i,aO(e,i,s)),n.push(i))}return n}const lO={provider:"",aliases:{},not_found:{},...Mv};function cu(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Lv(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!cu(e,lO))return null;const n=t.icons;for(const i in n){const s=n[i];if(!i||typeof s.body!="string"||!cu(s,pf))return null}const r=t.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i||typeof o!="string"||!n[o]&&!r[o]||!cu(s,pf))return null}return t}const Lm=Object.create(null);function cO(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function zs(e,t){const n=Lm[e]||(Lm[e]=Object.create(null));return n[t]||(n[t]=cO(e,t))}function Nv(e,t){return Lv(t)?Dv(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function uO(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let fa=!1;function Bv(e){return typeof e=="boolean"&&(fa=e),fa}function fO(e){const t=typeof e=="string"?Tc(e,!0,fa):e;if(t){const n=zs(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function dO(e,t){const n=Tc(e,!0,fa);if(!n)return!1;const r=zs(n.provider,n.prefix);return t?uO(r,n.name,t):(r.missing.add(n.name),!0)}function hO(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),fa&&!t&&!e.prefix){let i=!1;return Lv(e)&&(e.prefix="",Dv(e,(s,o)=>{dO(s,o)&&(i=!0)})),i}const n=e.prefix;if(!xl({prefix:n,name:"a"}))return!1;const r=zs(t,n);return!!Nv(r,e)}const jv=Object.freeze({width:null,height:null}),Fv=Object.freeze({...jv,...ec}),pO=/(-?[0-9.]*[0-9]+[0-9.]*)/g,gO=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Nm(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(pO);if(r===null||!r.length)return e;const i=[];let s=r.shift(),o=gO.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function mO(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;n+=e.slice(i+1,s).trim(),e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}function _O(e,t){return e?"<defs>"+e+"</defs>"+t:t}function bO(e,t,n){const r=mO(e);return _O(r.defs,t+r.content+n)}const yO=e=>e==="unset"||e==="undefined"||e==="none";function vO(e,t){const n={...Cc,...e},r={...Fv,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(b=>{const m=[],v=b.hFlip,y=b.vFlip;let x=b.rotate;v?y?x+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):y&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let P;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:P=i.height/2+i.top,m.unshift("rotate(90 "+P.toString()+" "+P.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:P=i.width/2+i.left,m.unshift("rotate(-90 "+P.toString()+" "+P.toString()+")");break}x%2===1&&(i.left!==i.top&&(P=i.left,i.left=i.top,i.top=P),i.width!==i.height&&(P=i.width,i.width=i.height,i.height=P)),m.length&&(s=bO(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,c=i.height;let u,f;o===null?(f=a===null?"1em":a==="auto"?c:a,u=Nm(f,l/c)):(u=o==="auto"?l:o,f=a===null?Nm(u,c/l):a==="auto"?c:a);const d={},h=(b,m)=>{yO(m)||(d[b]=m.toString())};h("width",u),h("height",f);const p=[i.left,i.top,l,c];return d.viewBox=p.join(" "),{attributes:d,viewBox:p,body:s}}const wO=/\sid="(\S+)"/g,xO="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let EO=0;function SO(e,t=xO){const n=[];let r;for(;r=wO.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof t=="function"?t(s):t+(EO++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const gf=Object.create(null);function kO(e,t){gf[e]=t}function mf(e){return gf[e]||gf[""]}function Rh(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Mh=Object.create(null),ho=["https://api.simplesvg.com","https://api.unisvg.com"],El=[];for(;ho.length>0;)ho.length===1||Math.random()>.5?El.push(ho.shift()):El.push(ho.pop());Mh[""]=Rh({resources:["https://api.iconify.design"].concat(El)});function AO(e,t){const n=Rh(t);return n===null?!1:(Mh[e]=n,!0)}function Dh(e){return Mh[e]}const TO=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Bm=TO();function CO(e,t){const n=Dh(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=t+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function IO(e){return e===404}const OO=(e,t,n)=>{const r=[],i=CO(e,t),s="icons";let o={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(o),o={type:s,provider:e,prefix:t,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function PO(e){if(typeof e=="string"){const t=Dh(e);if(t)return t.path}return"/"}const RO=(e,t,n)=>{if(!Bm){n("abort",424);return}let r=PO(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;Bm(e+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(IO(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},MO={prepare:OO,send:RO};function DO(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),c=l[o]||(l[o]=zs(s,o));let u;a in c.icons?u=t.loaded:o===""||c.missing.has(a)?u=t.missing:u=t.pending;const f={provider:s,prefix:o,name:a};u.push(f)}),t}function Uv(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function LO(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(e.icons[c])o.loaded.push({provider:r,prefix:i,name:c});else if(e.missing.has(c))o.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||Uv([e],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let NO=0;function BO(e,t,n){const r=NO++,i=Uv.bind(null,n,r);if(!t.pending.length)return i;const s={id:r,icons:t,callback:e,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function jO(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const s=typeof i=="string"?Tc(i,t,n):i;s&&r.push(s)}),r}var FO={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function UO(e,t,n,r){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let o;if(e.random){let E=e.resources.slice(0);for(o=[];E.length>1;){const A=Math.floor(Math.random()*E.length);o.push(E[A]),E=E.slice(0,A).concat(E.slice(A+1))}o=o.concat(E)}else o=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",c=0,u,f=null,d=[],h=[];typeof r=="function"&&h.push(r);function p(){f&&(clearTimeout(f),f=null)}function b(){l==="pending"&&(l="aborted"),p(),d.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),d=[]}function m(E,A){A&&(h=[]),typeof E=="function"&&h.push(E)}function v(){return{startTime:a,payload:t,status:l,queriesSent:c,queriesPending:d.length,subscribe:m,abort:b}}function y(){l="failed",h.forEach(E=>{E(void 0,u)})}function x(){d.forEach(E=>{E.status==="pending"&&(E.status="aborted")}),d=[]}function P(E,A,M){const W=A!=="success";switch(d=d.filter(V=>V!==E),l){case"pending":break;case"failed":if(W||!e.dataAfterTimeout)return;break;default:return}if(A==="abort"){u=M,y();return}if(W){u=M,d.length||(o.length?S():y());return}if(p(),x(),!e.random){const V=e.resources.indexOf(E.resource);V!==-1&&V!==e.index&&(e.index=V)}l="completed",h.forEach(V=>{V(M)})}function S(){if(l!=="pending")return;p();const E=o.shift();if(E===void 0){if(d.length){f=setTimeout(()=>{p(),l==="pending"&&(x(),y())},e.timeout);return}y();return}const A={status:"pending",resource:E,callback:(M,W)=>{P(A,M,W)}};d.push(A),c++,f=setTimeout(S,e.rotate),n(E,t,A.callback)}return setTimeout(S),v}function $v(e){const t={...FO,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=UO(t,a,l,(f,d)=>{r(),c&&c(f,d)});return n.push(u),u}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function jm(){}const uu=Object.create(null);function $O(e){if(!uu[e]){const t=Dh(e);if(!t)return;const n=$v(t),r={config:t,redundancy:n};uu[e]=r}return uu[e]}function VO(e,t,n){let r,i;if(typeof e=="string"){const s=mf(e);if(!s)return n(void 0,424),jm;i=s.send;const o=$O(e);o&&(r=o.redundancy)}else{const s=Rh(e);if(s){r=$v(s);const o=e.resources?e.resources[0]:"",a=mf(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),jm):r.query(t,i,n)().abort}function Fm(){}function WO(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,LO(e)}))}function HO(e){const t=[],n=[];return e.forEach(r=>{(r.match(Rv)?t:n).push(r)}),{valid:t,invalid:n}}function po(e,t,n){function r(){const i=e.pendingIcons;t.forEach(s=>{i&&i.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!Nv(e,n).length){r();return}}catch(i){console.error(i)}r(),WO(e)}function Um(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function zO(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;if(delete e.iconsToLoad,!i||!i.length)return;const s=e.loadIcon;if(e.loadIcons&&(i.length>1||!s)){Um(e.loadIcons(i,r,n),u=>{po(e,i,u)});return}if(s){i.forEach(u=>{const f=s(u,r,n);Um(f,d=>{const h=d?{prefix:r,icons:{[u]:d}}:null;po(e,[u],h)})});return}const{valid:o,invalid:a}=HO(i);if(a.length&&po(e,a,null),!o.length)return;const l=r.match(Rv)?mf(n):null;if(!l){po(e,o,null);return}l.prepare(n,r,o).forEach(u=>{VO(n,u,f=>{po(e,u.icons,f)})})}))}const qO=(e,t)=>{const n=jO(e,!0,Bv()),r=DO(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,Fm)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===o)return;o=c,a=u,s.push(zs(c,u));const f=i[c]||(i[c]=Object.create(null));f[u]||(f[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:f}=l,d=zs(c,u),h=d.pendingIcons||(d.pendingIcons=new Set);h.has(f)||(h.add(f),i[c][u].push(f))}),s.forEach(l=>{const c=i[l.provider][l.prefix];c.length&&zO(l,c)}),t?BO(t,r,s):Fm};function KO(e,t){const n={...e};for(const r in t){const i=t[r],s=typeof i;r in jv?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const GO=/[\s,]+/;function YO(e,t){t.split(GO).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function QO(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return t}function XO(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function JO(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function ZO(e){return"data:image/svg+xml,"+JO(e)}function eP(e){return'url("'+ZO(e)+'")'}const $m={...Fv,inline:!1},tP={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},nP={display:"inline-block"},_f={backgroundColor:"currentColor"},Vv={backgroundColor:"transparent"},Vm={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Wm={webkitMask:_f,mask:_f,background:Vv};for(const e in Wm){const t=Wm[e];for(const n in Vm)t[e+n]=Vm[n]}const Sl={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";Sl[e+"-flip"]=t,Sl[e.slice(0,1)+"-flip"]=t,Sl[e+"Flip"]=t});function Hm(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const zm=(e,t)=>{const n=KO($m,t),r={...tP},i=t.mode||"svg",s={},o=t.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let b in t){const m=t[b];if(m!==void 0)switch(b){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[b]=m===!0||m==="true"||m===1;break;case"flip":typeof m=="string"&&YO(n,m);break;case"color":s.color=m;break;case"rotate":typeof m=="string"?n[b]=QO(m):typeof m=="number"&&(n[b]=m);break;case"ariaHidden":case"aria-hidden":m!==!0&&m!=="true"&&delete r["aria-hidden"];break;default:{const v=Sl[b];v?(m===!0||m==="true"||m===1)&&(n[v]=!0):$m[b]===void 0&&(r[b]=m)}}}const l=vO(e,n),c=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),i==="svg"){r.style={...s,...a},Object.assign(r,c);let b=0,m=t.id;return typeof m=="string"&&(m=m.replace(/-/g,"_")),r.innerHTML=SO(l.body,m?()=>m+"ID"+b++:"iconifyVue"),Ft("svg",r)}const{body:u,width:f,height:d}=e,h=i==="mask"||(i==="bg"?!1:u.indexOf("currentColor")!==-1),p=XO(u,{...c,width:f+"",height:d+""});return r.style={...s,"--svg":eP(p),width:Hm(c.width),height:Hm(c.height),...nP,...h?_f:Vv,...a},Ft("span",r)};Bv(!0);kO("",MO);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!hO(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;AO(n,i)||console.error(r)}catch{console.error(r)}}}}const rP={...Cc,body:""},sn=We((e,{emit:t})=>{const n=Me(null);function r(){var c,u;n.value&&((u=(c=n.value).abort)==null||u.call(c),n.value=null)}const i=Me(!!e.ssr),s=Me(""),o=Ea(null);function a(){const c=e.icon;if(typeof c=="object"&&c!==null&&typeof c.body=="string")return s.value="",{data:c};let u;if(typeof c!="string"||(u=Tc(c,!1,!0))===null)return null;let f=fO(u);if(!f){const p=n.value;return(!p||p.name!==c)&&(f===null?n.value={name:c}:n.value={name:c,abort:qO([u],l)}),null}r(),s.value!==c&&(s.value=c,ns(()=>{t("load",c)}));const d=e.customise;if(d){f=Object.assign({},f);const p=d(f.body,u.name,u.prefix,u.provider);typeof p=="string"&&(f.body=p)}const h=["iconify"];return u.prefix!==""&&h.push("iconify--"+u.prefix),u.provider!==""&&h.push("iconify--"+u.provider),{data:f,classes:h}}function l(){var u;const c=a();c?c.data!==((u=o.value)==null?void 0:u.data)&&(o.value=c):o.value=null}return i.value?l():Rt(()=>{i.value=!0,l()}),_t(()=>e.icon,l),mi(r),()=>{const c=o.value;if(!c)return zm(rP,e);let u=e;return c.classes&&(u={...e,class:c.classes.join(" ")}),zm({...Cc,...c.data},u)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]});var Lh=Object.defineProperty,iP=Object.getOwnPropertyDescriptor,sP=Object.getOwnPropertyNames,oP=Object.prototype.hasOwnProperty,pn=(e,t)=>()=>(e&&(t=e(e=0)),t),Ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),no=(e,t)=>{for(var n in t)Lh(e,n,{get:t[n],enumerable:!0})},aP=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sP(t))!oP.call(e,i)&&i!==n&&Lh(e,i,{get:()=>t[i],enumerable:!(r=iP(t,i))||r.enumerable});return e},mt=e=>aP(Lh({},"__esModule",{value:!0}),e),we=pn(()=>{}),ot={};no(ot,{_debugEnd:()=>Qf,_debugProcess:()=>Yf,_events:()=>fd,_eventsCount:()=>dd,_exiting:()=>Lf,_fatalExceptions:()=>qf,_getActiveHandles:()=>Yv,_getActiveRequests:()=>Gv,_kill:()=>jf,_linkedBinding:()=>qv,_maxListeners:()=>ud,_preload_modules:()=>ld,_rawDebug:()=>Rf,_startProfilerIdleNotifier:()=>Xf,_stopProfilerIdleNotifier:()=>Jf,_tickCallback:()=>Gf,abort:()=>nd,addListener:()=>hd,allowedNodeEnvironmentFlags:()=>Hf,arch:()=>yf,argv:()=>xf,argv0:()=>ad,assert:()=>Qv,binding:()=>Tf,chdir:()=>Of,config:()=>Nf,cpuUsage:()=>Ao,cwd:()=>If,debugPort:()=>od,default:()=>Bh,dlopen:()=>Kv,domain:()=>Df,emit:()=>bd,emitWarning:()=>Af,env:()=>wf,execArgv:()=>Ef,execPath:()=>sd,exit:()=>Vf,features:()=>zf,hasUncaughtExceptionCaptureCallback:()=>Xv,hrtime:()=>kl,kill:()=>$f,listeners:()=>Zv,memoryUsage:()=>Uf,moduleLoadList:()=>Mf,nextTick:()=>Hv,off:()=>gd,on:()=>Er,once:()=>pd,openStdin:()=>Wf,pid:()=>rd,platform:()=>vf,ppid:()=>id,prependListener:()=>yd,prependOnceListener:()=>vd,reallyExit:()=>Bf,release:()=>Pf,removeAllListeners:()=>_d,removeListener:()=>md,resourceUsage:()=>Ff,setSourceMapsEnabled:()=>cd,setUncaughtExceptionCaptureCallback:()=>Kf,stderr:()=>ed,stdin:()=>td,stdout:()=>Zf,title:()=>bf,umask:()=>Cf,uptime:()=>Jv,version:()=>Sf,versions:()=>kf});function Nh(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function lP(){!Qi||!Ui||(Qi=!1,Ui.length?fr=Ui.concat(fr):Wo=-1,fr.length&&Wv())}function Wv(){if(!Qi){var e=setTimeout(lP,0);Qi=!0;for(var t=fr.length;t;){for(Ui=fr,fr=[];++Wo<t;)Ui&&Ui[Wo].run();Wo=-1,t=fr.length}Ui=null,Qi=!1,clearTimeout(e)}}function Hv(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];fr.push(new zv(e,t)),fr.length===1&&!Qi&&setTimeout(Wv,0)}function zv(e,t){this.fun=e,this.array=t}function Jt(){}function qv(e){Nh("_linkedBinding")}function Kv(e){Nh("dlopen")}function Gv(){return[]}function Yv(){return[]}function Qv(e,t){if(!e)throw new Error(t||"assertion error")}function Xv(){return!1}function Jv(){return Pr.now()/1e3}function kl(e){var t=Math.floor((Date.now()-Pr.now())*.001),n=Pr.now()*.001,r=Math.floor(n)+t,i=Math.floor(n%1*1e9);return e&&(r=r-e[0],i=i-e[1],i<0&&(r--,i+=Al)),[r,i]}function Er(){return Bh}function Zv(e){return[]}var fr,Qi,Ui,Wo,bf,yf,vf,wf,xf,Ef,Sf,kf,Af,Tf,Cf,If,Of,Pf,Rf,Mf,Df,Lf,Nf,Bf,jf,Ao,Ff,Uf,$f,Vf,Wf,Hf,zf,qf,Kf,Gf,Yf,Qf,Xf,Jf,Zf,ed,td,nd,rd,id,sd,od,ad,ld,cd,Pr,fu,Al,ud,fd,dd,hd,pd,gd,md,_d,bd,yd,vd,Bh,cP=pn(()=>{we(),Ee(),xe(),fr=[],Qi=!1,Wo=-1,zv.prototype.run=function(){this.fun.apply(null,this.array)},bf="browser",yf="x64",vf="browser",wf={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},xf=["/usr/bin/node"],Ef=[],Sf="v16.8.0",kf={},Af=function(e,t){console.warn((t?t+": ":"")+e)},Tf=function(e){Nh("binding")},Cf=function(e){return 0},If=function(){return"/"},Of=function(e){},Pf={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Rf=Jt,Mf=[],Df={},Lf=!1,Nf={},Bf=Jt,jf=Jt,Ao=function(){return{}},Ff=Ao,Uf=Ao,$f=Jt,Vf=Jt,Wf=Jt,Hf={},zf={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},qf=Jt,Kf=Jt,Gf=Jt,Yf=Jt,Qf=Jt,Xf=Jt,Jf=Jt,Zf=void 0,ed=void 0,td=void 0,nd=Jt,rd=2,id=1,sd="/bin/usr/node",od=9229,ad="node",ld=[],cd=Jt,Pr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Pr.now===void 0&&(fu=Date.now(),Pr.timing&&Pr.timing.navigationStart&&(fu=Pr.timing.navigationStart),Pr.now=()=>Date.now()-fu),Al=1e9,kl.bigint=function(e){var t=kl(e);return typeof BigInt>"u"?t[0]*Al+t[1]:BigInt(t[0]*Al)+BigInt(t[1])},ud=10,fd={},dd=0,hd=Er,pd=Er,gd=Er,md=Er,_d=Er,bd=Jt,yd=Er,vd=Er,Bh={version:Sf,versions:kf,arch:yf,platform:vf,release:Pf,_rawDebug:Rf,moduleLoadList:Mf,binding:Tf,_linkedBinding:qv,_events:fd,_eventsCount:dd,_maxListeners:ud,on:Er,addListener:hd,once:pd,off:gd,removeListener:md,removeAllListeners:_d,emit:bd,prependListener:yd,prependOnceListener:vd,listeners:Zv,domain:Df,_exiting:Lf,config:Nf,dlopen:Kv,uptime:Jv,_getActiveRequests:Gv,_getActiveHandles:Yv,reallyExit:Bf,_kill:jf,cpuUsage:Ao,resourceUsage:Ff,memoryUsage:Uf,kill:$f,exit:Vf,openStdin:Wf,allowedNodeEnvironmentFlags:Hf,assert:Qv,features:zf,_fatalExceptions:qf,setUncaughtExceptionCaptureCallback:Kf,hasUncaughtExceptionCaptureCallback:Xv,emitWarning:Af,nextTick:Hv,_tickCallback:Gf,_debugProcess:Yf,_debugEnd:Qf,_startProfilerIdleNotifier:Xf,_stopProfilerIdleNotifier:Jf,stdout:Zf,stdin:td,stderr:ed,abort:nd,umask:Cf,chdir:Of,cwd:If,env:wf,title:bf,argv:xf,execArgv:Ef,pid:rd,ppid:id,execPath:sd,debugPort:od,hrtime:kl,argv0:ad,_preload_modules:ld,setSourceMapsEnabled:cd}}),xe=pn(()=>{cP()}),Kt={};no(Kt,{Buffer:()=>tc,INSPECT_MAX_BYTES:()=>ew,default:()=>Sr,kMaxLength:()=>tw});function uP(){if(wd)return Ts;wd=!0,Ts.byteLength=a,Ts.toByteArray=c,Ts.fromByteArray=d;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");b===-1&&(b=p);var m=b===p?0:4-b%4;return[b,m]}function a(h){var p=o(h),b=p[0],m=p[1];return(b+m)*3/4-m}function l(h,p,b){return(p+b)*3/4-b}function c(h){var p,b=o(h),m=b[0],v=b[1],y=new n(l(h,m,v)),x=0,P=v>0?m-4:m,S;for(S=0;S<P;S+=4)p=t[h.charCodeAt(S)]<<18|t[h.charCodeAt(S+1)]<<12|t[h.charCodeAt(S+2)]<<6|t[h.charCodeAt(S+3)],y[x++]=p>>16&255,y[x++]=p>>8&255,y[x++]=p&255;return v===2&&(p=t[h.charCodeAt(S)]<<2|t[h.charCodeAt(S+1)]>>4,y[x++]=p&255),v===1&&(p=t[h.charCodeAt(S)]<<10|t[h.charCodeAt(S+1)]<<4|t[h.charCodeAt(S+2)]>>2,y[x++]=p>>8&255,y[x++]=p&255),y}function u(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}function f(h,p,b){for(var m,v=[],y=p;y<b;y+=3)m=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(h[y+2]&255),v.push(u(m));return v.join("")}function d(h){for(var p,b=h.length,m=b%3,v=[],y=16383,x=0,P=b-m;x<P;x+=y)v.push(f(h,x,x+y>P?P:x+y));return m===1?(p=h[b-1],v.push(e[p>>2]+e[p<<4&63]+"==")):m===2&&(p=(h[b-2]<<8)+h[b-1],v.push(e[p>>10]+e[p>>4&63]+e[p<<2&63]+"=")),v.join("")}return Ts}function fP(){return xd?To:(xd=!0,To.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,s=h&(1<<-u)-1,h>>=-u,u+=a;u>0;s=s*256+e[t+f],f+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+f],f+=d,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(h?-1:1)*o*Math.pow(2,s-r)},To.write=function(e,t,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,p=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?t+=d/l:t+=d*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(t*l-1)*Math.pow(2,i),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=a&255,h+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+h]=o&255,h+=p,o/=256,c-=8);e[n+h-p]|=b*128},To)}function dP(){if(Ed)return Kr;Ed=!0;let e=uP(),t=fP(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Kr.Buffer=o,Kr.SlowBuffer=v,Kr.INSPECT_MAX_BYTES=50;let r=2147483647;Kr.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let g=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(g,_),g.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(g){if(g>r)throw new RangeError('The value "'+g+'" is invalid for option "size"');let _=new Uint8Array(g);return Object.setPrototypeOf(_,o.prototype),_}function o(g,_,w){if(typeof g=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(g)}return a(g,_,w)}o.poolSize=8192;function a(g,_,w){if(typeof g=="string")return f(g,_);if(ArrayBuffer.isView(g))return h(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(B(g,ArrayBuffer)||g&&B(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(B(g,SharedArrayBuffer)||g&&B(g.buffer,SharedArrayBuffer)))return p(g,_,w);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=g.valueOf&&g.valueOf();if(C!=null&&C!==g)return o.from(C,_,w);let $=b(g);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return o.from(g[Symbol.toPrimitive]("string"),_,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}o.from=function(g,_,w){return a(g,_,w)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function c(g,_,w){return l(g),g<=0?s(g):_!==void 0?typeof w=="string"?s(g).fill(_,w):s(g).fill(_):s(g)}o.alloc=function(g,_,w){return c(g,_,w)};function u(g){return l(g),s(g<0?0:m(g)|0)}o.allocUnsafe=function(g){return u(g)},o.allocUnsafeSlow=function(g){return u(g)};function f(g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!o.isEncoding(_))throw new TypeError("Unknown encoding: "+_);let w=y(g,_)|0,C=s(w),$=C.write(g,_);return $!==w&&(C=C.slice(0,$)),C}function d(g){let _=g.length<0?0:m(g.length)|0,w=s(_);for(let C=0;C<_;C+=1)w[C]=g[C]&255;return w}function h(g){if(B(g,Uint8Array)){let _=new Uint8Array(g);return p(_.buffer,_.byteOffset,_.byteLength)}return d(g)}function p(g,_,w){if(_<0||g.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<_+(w||0))throw new RangeError('"length" is outside of buffer bounds');let C;return _===void 0&&w===void 0?C=new Uint8Array(g):w===void 0?C=new Uint8Array(g,_):C=new Uint8Array(g,_,w),Object.setPrototypeOf(C,o.prototype),C}function b(g){if(o.isBuffer(g)){let _=m(g.length)|0,w=s(_);return w.length===0||g.copy(w,0,0,_),w}if(g.length!==void 0)return typeof g.length!="number"||ee(g.length)?s(0):d(g);if(g.type==="Buffer"&&Array.isArray(g.data))return d(g.data)}function m(g){if(g>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return g|0}function v(g){return+g!=g&&(g=0),o.alloc(+g)}o.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==o.prototype},o.compare=function(g,_){if(B(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),B(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),!o.isBuffer(g)||!o.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===_)return 0;let w=g.length,C=_.length;for(let $=0,Y=Math.min(w,C);$<Y;++$)if(g[$]!==_[$]){w=g[$],C=_[$];break}return w<C?-1:C<w?1:0},o.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(g,_){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return o.alloc(0);let w;if(_===void 0)for(_=0,w=0;w<g.length;++w)_+=g[w].length;let C=o.allocUnsafe(_),$=0;for(w=0;w<g.length;++w){let Y=g[w];if(B(Y,Uint8Array))$+Y.length>C.length?(o.isBuffer(Y)||(Y=o.from(Y)),Y.copy(C,$)):Uint8Array.prototype.set.call(C,Y,$);else if(o.isBuffer(Y))Y.copy(C,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=Y.length}return C};function y(g,_){if(o.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||B(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);let w=g.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&w===0)return 0;let $=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return D(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return re(g).length;default:if($)return C?-1:D(g).length;_=(""+_).toLowerCase(),$=!0}}o.byteLength=y;function x(g,_,w){let C=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,_>>>=0,w<=_))return"";for(g||(g="utf8");;)switch(g){case"hex":return fe(this,_,w);case"utf8":case"utf-8":return J(this,_,w);case"ascii":return de(this,_,w);case"latin1":case"binary":return oe(this,_,w);case"base64":return I(this,_,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,_,w);default:if(C)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),C=!0}}o.prototype._isBuffer=!0;function P(g,_,w){let C=g[_];g[_]=g[w],g[w]=C}o.prototype.swap16=function(){let g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<g;_+=2)P(this,_,_+1);return this},o.prototype.swap32=function(){let g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<g;_+=4)P(this,_,_+3),P(this,_+1,_+2);return this},o.prototype.swap64=function(){let g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<g;_+=8)P(this,_,_+7),P(this,_+1,_+6),P(this,_+2,_+5),P(this,_+3,_+4);return this},o.prototype.toString=function(){let g=this.length;return g===0?"":arguments.length===0?J(this,0,g):x.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(g){if(!o.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:o.compare(this,g)===0},o.prototype.inspect=function(){let g="",_=Kr.INSPECT_MAX_BYTES;return g=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(g+=" ... "),"<Buffer "+g+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(g,_,w,C,$){if(B(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),!o.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(_===void 0&&(_=0),w===void 0&&(w=g?g.length:0),C===void 0&&(C=0),$===void 0&&($=this.length),_<0||w>g.length||C<0||$>this.length)throw new RangeError("out of range index");if(C>=$&&_>=w)return 0;if(C>=$)return-1;if(_>=w)return 1;if(_>>>=0,w>>>=0,C>>>=0,$>>>=0,this===g)return 0;let Y=$-C,ce=w-_,Te=Math.min(Y,ce),Oe=this.slice(C,$),Ve=g.slice(_,w);for(let Ue=0;Ue<Te;++Ue)if(Oe[Ue]!==Ve[Ue]){Y=Oe[Ue],ce=Ve[Ue];break}return Y<ce?-1:ce<Y?1:0};function S(g,_,w,C,$){if(g.length===0)return-1;if(typeof w=="string"?(C=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,ee(w)&&(w=$?0:g.length-1),w<0&&(w=g.length+w),w>=g.length){if($)return-1;w=g.length-1}else if(w<0)if($)w=0;else return-1;if(typeof _=="string"&&(_=o.from(_,C)),o.isBuffer(_))return _.length===0?-1:E(g,_,w,C,$);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(g,_,w):Uint8Array.prototype.lastIndexOf.call(g,_,w):E(g,[_],w,C,$);throw new TypeError("val must be string, number or Buffer")}function E(g,_,w,C,$){let Y=1,ce=g.length,Te=_.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(g.length<2||_.length<2)return-1;Y=2,ce/=2,Te/=2,w/=2}function Oe(Ue,Fe){return Y===1?Ue[Fe]:Ue.readUInt16BE(Fe*Y)}let Ve;if($){let Ue=-1;for(Ve=w;Ve<ce;Ve++)if(Oe(g,Ve)===Oe(_,Ue===-1?0:Ve-Ue)){if(Ue===-1&&(Ue=Ve),Ve-Ue+1===Te)return Ue*Y}else Ue!==-1&&(Ve-=Ve-Ue),Ue=-1}else for(w+Te>ce&&(w=ce-Te),Ve=w;Ve>=0;Ve--){let Ue=!0;for(let Fe=0;Fe<Te;Fe++)if(Oe(g,Ve+Fe)!==Oe(_,Fe)){Ue=!1;break}if(Ue)return Ve}return-1}o.prototype.includes=function(g,_,w){return this.indexOf(g,_,w)!==-1},o.prototype.indexOf=function(g,_,w){return S(this,g,_,w,!0)},o.prototype.lastIndexOf=function(g,_,w){return S(this,g,_,w,!1)};function A(g,_,w,C){w=Number(w)||0;let $=g.length-w;C?(C=Number(C),C>$&&(C=$)):C=$;let Y=_.length;C>Y/2&&(C=Y/2);let ce;for(ce=0;ce<C;++ce){let Te=parseInt(_.substr(ce*2,2),16);if(ee(Te))return ce;g[w+ce]=Te}return ce}function M(g,_,w,C){return se(D(_,g.length-w),g,w,C)}function W(g,_,w,C){return se(U(_),g,w,C)}function V(g,_,w,C){return se(re(_),g,w,C)}function q(g,_,w,C){return se(Q(_,g.length-w),g,w,C)}o.prototype.write=function(g,_,w,C){if(_===void 0)C="utf8",w=this.length,_=0;else if(w===void 0&&typeof _=="string")C=_,w=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(w)?(w=w>>>0,C===void 0&&(C="utf8")):(C=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let $=this.length-_;if((w===void 0||w>$)&&(w=$),g.length>0&&(w<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let Y=!1;for(;;)switch(C){case"hex":return A(this,g,_,w);case"utf8":case"utf-8":return M(this,g,_,w);case"ascii":case"latin1":case"binary":return W(this,g,_,w);case"base64":return V(this,g,_,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,g,_,w);default:if(Y)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),Y=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(g,_,w){return _===0&&w===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(_,w))}function J(g,_,w){w=Math.min(g.length,w);let C=[],$=_;for(;$<w;){let Y=g[$],ce=null,Te=Y>239?4:Y>223?3:Y>191?2:1;if($+Te<=w){let Oe,Ve,Ue,Fe;switch(Te){case 1:Y<128&&(ce=Y);break;case 2:Oe=g[$+1],(Oe&192)===128&&(Fe=(Y&31)<<6|Oe&63,Fe>127&&(ce=Fe));break;case 3:Oe=g[$+1],Ve=g[$+2],(Oe&192)===128&&(Ve&192)===128&&(Fe=(Y&15)<<12|(Oe&63)<<6|Ve&63,Fe>2047&&(Fe<55296||Fe>57343)&&(ce=Fe));break;case 4:Oe=g[$+1],Ve=g[$+2],Ue=g[$+3],(Oe&192)===128&&(Ve&192)===128&&(Ue&192)===128&&(Fe=(Y&15)<<18|(Oe&63)<<12|(Ve&63)<<6|Ue&63,Fe>65535&&Fe<1114112&&(ce=Fe))}}ce===null?(ce=65533,Te=1):ce>65535&&(ce-=65536,C.push(ce>>>10&1023|55296),ce=56320|ce&1023),C.push(ce),$+=Te}return G(C)}let le=4096;function G(g){let _=g.length;if(_<=le)return String.fromCharCode.apply(String,g);let w="",C=0;for(;C<_;)w+=String.fromCharCode.apply(String,g.slice(C,C+=le));return w}function de(g,_,w){let C="";w=Math.min(g.length,w);for(let $=_;$<w;++$)C+=String.fromCharCode(g[$]&127);return C}function oe(g,_,w){let C="";w=Math.min(g.length,w);for(let $=_;$<w;++$)C+=String.fromCharCode(g[$]);return C}function fe(g,_,w){let C=g.length;(!_||_<0)&&(_=0),(!w||w<0||w>C)&&(w=C);let $="";for(let Y=_;Y<w;++Y)$+=pe[g[Y]];return $}function me(g,_,w){let C=g.slice(_,w),$="";for(let Y=0;Y<C.length-1;Y+=2)$+=String.fromCharCode(C[Y]+C[Y+1]*256);return $}o.prototype.slice=function(g,_){let w=this.length;g=~~g,_=_===void 0?w:~~_,g<0?(g+=w,g<0&&(g=0)):g>w&&(g=w),_<0?(_+=w,_<0&&(_=0)):_>w&&(_=w),_<g&&(_=g);let C=this.subarray(g,_);return Object.setPrototypeOf(C,o.prototype),C};function ae(g,_,w){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+_>w)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(g,_,w){g=g>>>0,_=_>>>0,w||ae(g,_,this.length);let C=this[g],$=1,Y=0;for(;++Y<_&&($*=256);)C+=this[g+Y]*$;return C},o.prototype.readUintBE=o.prototype.readUIntBE=function(g,_,w){g=g>>>0,_=_>>>0,w||ae(g,_,this.length);let C=this[g+--_],$=1;for(;_>0&&($*=256);)C+=this[g+--_]*$;return C},o.prototype.readUint8=o.prototype.readUInt8=function(g,_){return g=g>>>0,_||ae(g,1,this.length),this[g]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(g,_){return g=g>>>0,_||ae(g,2,this.length),this[g]|this[g+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(g,_){return g=g>>>0,_||ae(g,2,this.length),this[g]<<8|this[g+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},o.prototype.readBigUInt64LE=te(function(g){g=g>>>0,ie(g,"offset");let _=this[g],w=this[g+7];(_===void 0||w===void 0)&&k(g,this.length-8);let C=_+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,$=this[++g]+this[++g]*2**8+this[++g]*2**16+w*2**24;return BigInt(C)+(BigInt($)<<BigInt(32))}),o.prototype.readBigUInt64BE=te(function(g){g=g>>>0,ie(g,"offset");let _=this[g],w=this[g+7];(_===void 0||w===void 0)&&k(g,this.length-8);let C=_*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],$=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+w;return(BigInt(C)<<BigInt(32))+BigInt($)}),o.prototype.readIntLE=function(g,_,w){g=g>>>0,_=_>>>0,w||ae(g,_,this.length);let C=this[g],$=1,Y=0;for(;++Y<_&&($*=256);)C+=this[g+Y]*$;return $*=128,C>=$&&(C-=Math.pow(2,8*_)),C},o.prototype.readIntBE=function(g,_,w){g=g>>>0,_=_>>>0,w||ae(g,_,this.length);let C=_,$=1,Y=this[g+--C];for(;C>0&&($*=256);)Y+=this[g+--C]*$;return $*=128,Y>=$&&(Y-=Math.pow(2,8*_)),Y},o.prototype.readInt8=function(g,_){return g=g>>>0,_||ae(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},o.prototype.readInt16LE=function(g,_){g=g>>>0,_||ae(g,2,this.length);let w=this[g]|this[g+1]<<8;return w&32768?w|4294901760:w},o.prototype.readInt16BE=function(g,_){g=g>>>0,_||ae(g,2,this.length);let w=this[g+1]|this[g]<<8;return w&32768?w|4294901760:w},o.prototype.readInt32LE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},o.prototype.readInt32BE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},o.prototype.readBigInt64LE=te(function(g){g=g>>>0,ie(g,"offset");let _=this[g],w=this[g+7];(_===void 0||w===void 0)&&k(g,this.length-8);let C=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(w<<24);return(BigInt(C)<<BigInt(32))+BigInt(_+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),o.prototype.readBigInt64BE=te(function(g){g=g>>>0,ie(g,"offset");let _=this[g],w=this[g+7];(_===void 0||w===void 0)&&k(g,this.length-8);let C=(_<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(C)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+w)}),o.prototype.readFloatLE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),t.read(this,g,!0,23,4)},o.prototype.readFloatBE=function(g,_){return g=g>>>0,_||ae(g,4,this.length),t.read(this,g,!1,23,4)},o.prototype.readDoubleLE=function(g,_){return g=g>>>0,_||ae(g,8,this.length),t.read(this,g,!0,52,8)},o.prototype.readDoubleBE=function(g,_){return g=g>>>0,_||ae(g,8,this.length),t.read(this,g,!1,52,8)};function ge(g,_,w,C,$,Y){if(!o.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>$||_<Y)throw new RangeError('"value" argument is out of bounds');if(w+C>g.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(g,_,w,C){if(g=+g,_=_>>>0,w=w>>>0,!C){let ce=Math.pow(2,8*w)-1;ge(this,g,_,w,ce,0)}let $=1,Y=0;for(this[_]=g&255;++Y<w&&($*=256);)this[_+Y]=g/$&255;return _+w},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(g,_,w,C){if(g=+g,_=_>>>0,w=w>>>0,!C){let ce=Math.pow(2,8*w)-1;ge(this,g,_,w,ce,0)}let $=w-1,Y=1;for(this[_+$]=g&255;--$>=0&&(Y*=256);)this[_+$]=g/Y&255;return _+w},o.prototype.writeUint8=o.prototype.writeUInt8=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,1,255,0),this[_]=g&255,_+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,2,65535,0),this[_]=g&255,this[_+1]=g>>>8,_+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,2,65535,0),this[_]=g>>>8,this[_+1]=g&255,_+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,4,4294967295,0),this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255,_+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,4,4294967295,0),this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4};function F(g,_,w,C,$){Z(_,C,$,g,w,7);let Y=Number(_&BigInt(4294967295));g[w++]=Y,Y=Y>>8,g[w++]=Y,Y=Y>>8,g[w++]=Y,Y=Y>>8,g[w++]=Y;let ce=Number(_>>BigInt(32)&BigInt(4294967295));return g[w++]=ce,ce=ce>>8,g[w++]=ce,ce=ce>>8,g[w++]=ce,ce=ce>>8,g[w++]=ce,w}function he(g,_,w,C,$){Z(_,C,$,g,w,7);let Y=Number(_&BigInt(4294967295));g[w+7]=Y,Y=Y>>8,g[w+6]=Y,Y=Y>>8,g[w+5]=Y,Y=Y>>8,g[w+4]=Y;let ce=Number(_>>BigInt(32)&BigInt(4294967295));return g[w+3]=ce,ce=ce>>8,g[w+2]=ce,ce=ce>>8,g[w+1]=ce,ce=ce>>8,g[w]=ce,w+8}o.prototype.writeBigUInt64LE=te(function(g,_=0){return F(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=te(function(g,_=0){return he(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(g,_,w,C){if(g=+g,_=_>>>0,!C){let Te=Math.pow(2,8*w-1);ge(this,g,_,w,Te-1,-Te)}let $=0,Y=1,ce=0;for(this[_]=g&255;++$<w&&(Y*=256);)g<0&&ce===0&&this[_+$-1]!==0&&(ce=1),this[_+$]=(g/Y>>0)-ce&255;return _+w},o.prototype.writeIntBE=function(g,_,w,C){if(g=+g,_=_>>>0,!C){let Te=Math.pow(2,8*w-1);ge(this,g,_,w,Te-1,-Te)}let $=w-1,Y=1,ce=0;for(this[_+$]=g&255;--$>=0&&(Y*=256);)g<0&&ce===0&&this[_+$+1]!==0&&(ce=1),this[_+$]=(g/Y>>0)-ce&255;return _+w},o.prototype.writeInt8=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,1,127,-128),g<0&&(g=255+g+1),this[_]=g&255,_+1},o.prototype.writeInt16LE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,2,32767,-32768),this[_]=g&255,this[_+1]=g>>>8,_+2},o.prototype.writeInt16BE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,2,32767,-32768),this[_]=g>>>8,this[_+1]=g&255,_+2},o.prototype.writeInt32LE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,4,2147483647,-2147483648),this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24,_+4},o.prototype.writeInt32BE=function(g,_,w){return g=+g,_=_>>>0,w||ge(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4},o.prototype.writeBigInt64LE=te(function(g,_=0){return F(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=te(function(g,_=0){return he(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(g,_,w,C,$,Y){if(w+C>g.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function X(g,_,w,C,$){return _=+_,w=w>>>0,$||be(g,_,w,4),t.write(g,_,w,C,23,4),w+4}o.prototype.writeFloatLE=function(g,_,w){return X(this,g,_,!0,w)},o.prototype.writeFloatBE=function(g,_,w){return X(this,g,_,!1,w)};function Pe(g,_,w,C,$){return _=+_,w=w>>>0,$||be(g,_,w,8),t.write(g,_,w,C,52,8),w+8}o.prototype.writeDoubleLE=function(g,_,w){return Pe(this,g,_,!0,w)},o.prototype.writeDoubleBE=function(g,_,w){return Pe(this,g,_,!1,w)},o.prototype.copy=function(g,_,w,C){if(!o.isBuffer(g))throw new TypeError("argument should be a Buffer");if(w||(w=0),!C&&C!==0&&(C=this.length),_>=g.length&&(_=g.length),_||(_=0),C>0&&C<w&&(C=w),C===w||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),g.length-_<C-w&&(C=g.length-_+w);let $=C-w;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,w,C):Uint8Array.prototype.set.call(g,this.subarray(w,C),_),$},o.prototype.fill=function(g,_,w,C){if(typeof g=="string"){if(typeof _=="string"?(C=_,_=0,w=this.length):typeof w=="string"&&(C=w,w=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!o.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(g.length===1){let Y=g.charCodeAt(0);(C==="utf8"&&Y<128||C==="latin1")&&(g=Y)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(_<0||this.length<_||this.length<w)throw new RangeError("Out of range index");if(w<=_)return this;_=_>>>0,w=w===void 0?this.length:w>>>0,g||(g=0);let $;if(typeof g=="number")for($=_;$<w;++$)this[$]=g;else{let Y=o.isBuffer(g)?g:o.from(g,C),ce=Y.length;if(ce===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for($=0;$<w-_;++$)this[$+_]=Y[$%ce]}return this};let L={};function N(g,_,w){L[g]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(g,_){return`The "${g}" argument must be of type number. Received type ${typeof _}`},TypeError),N("ERR_OUT_OF_RANGE",function(g,_,w){let C=`The value of "${g}" is out of range.`,$=w;return Number.isInteger(w)&&Math.abs(w)>2**32?$=ne(String(w)):typeof w=="bigint"&&($=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&($=ne($)),$+="n"),C+=` It must be ${_}. Received ${$}`,C},RangeError);function ne(g){let _="",w=g.length,C=g[0]==="-"?1:0;for(;w>=C+4;w-=3)_=`_${g.slice(w-3,w)}${_}`;return`${g.slice(0,w)}${_}`}function K(g,_,w){ie(_,"offset"),(g[_]===void 0||g[_+w]===void 0)&&k(_,g.length-(w+1))}function Z(g,_,w,C,$,Y){if(g>w||g<_){let ce=typeof _=="bigint"?"n":"",Te;throw _===0||_===BigInt(0)?Te=`>= 0${ce} and < 2${ce} ** ${(Y+1)*8}${ce}`:Te=`>= -(2${ce} ** ${(Y+1)*8-1}${ce}) and < 2 ** ${(Y+1)*8-1}${ce}`,new L.ERR_OUT_OF_RANGE("value",Te,g)}K(C,$,Y)}function ie(g,_){if(typeof g!="number")throw new L.ERR_INVALID_ARG_TYPE(_,"number",g)}function k(g,_,w){throw Math.floor(g)!==g?(ie(g,w),new L.ERR_OUT_OF_RANGE("offset","an integer",g)):_<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,g)}let O=/[^+/0-9A-Za-z-_]/g;function T(g){if(g=g.split("=")[0],g=g.trim().replace(O,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function D(g,_){_=_||1/0;let w,C=g.length,$=null,Y=[];for(let ce=0;ce<C;++ce){if(w=g.charCodeAt(ce),w>55295&&w<57344){if(!$){if(w>56319){(_-=3)>-1&&Y.push(239,191,189);continue}else if(ce+1===C){(_-=3)>-1&&Y.push(239,191,189);continue}$=w;continue}if(w<56320){(_-=3)>-1&&Y.push(239,191,189),$=w;continue}w=($-55296<<10|w-56320)+65536}else $&&(_-=3)>-1&&Y.push(239,191,189);if($=null,w<128){if((_-=1)<0)break;Y.push(w)}else if(w<2048){if((_-=2)<0)break;Y.push(w>>6|192,w&63|128)}else if(w<65536){if((_-=3)<0)break;Y.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((_-=4)<0)break;Y.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return Y}function U(g){let _=[];for(let w=0;w<g.length;++w)_.push(g.charCodeAt(w)&255);return _}function Q(g,_){let w,C,$,Y=[];for(let ce=0;ce<g.length&&!((_-=2)<0);++ce)w=g.charCodeAt(ce),C=w>>8,$=w%256,Y.push($),Y.push(C);return Y}function re(g){return e.toByteArray(T(g))}function se(g,_,w,C){let $;for($=0;$<C&&!($+w>=_.length||$>=g.length);++$)_[$+w]=g[$];return $}function B(g,_){return g instanceof _||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===_.name}function ee(g){return g!==g}let pe=function(){let g="0123456789abcdef",_=new Array(256);for(let w=0;w<16;++w){let C=w*16;for(let $=0;$<16;++$)_[C+$]=g[w]+g[$]}return _}();function te(g){return typeof BigInt>"u"?Se:g}function Se(){throw new Error("BigInt not supported")}return Kr}var Ts,wd,To,xd,Kr,Ed,Sr,tc,ew,tw,Gt=pn(()=>{we(),Ee(),xe(),Ts={},wd=!1,To={},xd=!1,Kr={},Ed=!1,Sr=dP(),Sr.Buffer,Sr.SlowBuffer,Sr.INSPECT_MAX_BYTES,Sr.kMaxLength,tc=Sr.Buffer,ew=Sr.INSPECT_MAX_BYTES,tw=Sr.kMaxLength}),Ee=pn(()=>{Gt()}),hP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};e.default=t}),Ot=Ae((e,t)=>{we(),Ee(),xe();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let s=0;s<r.length;s++)i+=`    ${r[s].stack}
`;super(i),this.name="AggregateError",this.errors=r}};t.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,i){return r.includes(i)},ArrayPrototypeIndexOf(r,i){return r.indexOf(i)},ArrayPrototypeJoin(r,i){return r.join(i)},ArrayPrototypeMap(r,i){return r.map(i)},ArrayPrototypePop(r,i){return r.pop(i)},ArrayPrototypePush(r,i){return r.push(i)},ArrayPrototypeSlice(r,i,s){return r.slice(i,s)},Error,FunctionPrototypeCall(r,i,...s){return r.call(i,...s)},FunctionPrototypeSymbolHasInstance(r,i){return Function.prototype[Symbol.hasInstance].call(r,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,i){return Object.defineProperties(r,i)},ObjectDefineProperty(r,i,s){return Object.defineProperty(r,i,s)},ObjectGetOwnPropertyDescriptor(r,i){return Object.getOwnPropertyDescriptor(r,i)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,i){return Object.setPrototypeOf(r,i)},Promise,PromisePrototypeCatch(r,i){return r.catch(i)},PromisePrototypeThen(r,i,s){return r.then(i,s)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,i){return r.test(i)},SafeSet:Set,String,StringPrototypeSlice(r,i,s){return r.slice(i,s)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,i,s){return r.set(i,s)},Boolean,Uint8Array}}),nw=Ae((e,t)=>{we(),Ee(),xe(),t.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[i,s]){let o=r.shift();return s==="f"?o.toFixed(6):s==="j"?JSON.stringify(o):s==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),gn=Ae((e,t)=>{we(),Ee(),xe();var{format:n,inspect:r}=nw(),{AggregateError:i}=Ot(),s=globalThis.AggregateError||i,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",u={};function f(y,x){if(!y)throw new u.ERR_INTERNAL_ASSERTION(x)}function d(y){let x="",P=y.length,S=y[0]==="-"?1:0;for(;P>=S+4;P-=3)x=`_${y.slice(P-3,P)}${x}`;return`${y.slice(0,P)}${x}`}function h(y,x,P){if(typeof x=="function")return f(x.length<=P.length,`Code: ${y}; The provided arguments length (${P.length}) does not match the required ones (${x.length}).`),x(...P);let S=(x.match(/%[dfijoOs]/g)||[]).length;return f(S===P.length,`Code: ${y}; The provided arguments length (${P.length}) does not match the required ones (${S}).`),P.length===0?x:n(x,...P)}function p(y,x,P){P||(P=Error);class S extends P{constructor(...A){super(h(y,x,A))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(S.prototype,{name:{value:P.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),S.prototype.code=y,S.prototype[o]=!0,u[y]=S}function b(y){let x=c+y.name;return Object.defineProperty(y,"name",{value:x}),y}function m(y,x){if(y&&x&&y!==x){if(Array.isArray(x.errors))return x.errors.push(y),x;let P=new s([x,y],x.message);return P.code=x.code,P}return y||x}var v=class extends Error{constructor(y="The operation was aborted",x=void 0){if(x!==void 0&&typeof x!="object")throw new u.ERR_INVALID_ARG_TYPE("options","Object",x);super(y,x),this.code="ABORT_ERR",this.name="AbortError"}};p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(y,x,P)=>{f(typeof y=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let S="The ";y.endsWith(" argument")?S+=`${y} `:S+=`"${y}" ${y.includes(".")?"property":"argument"} `,S+="must be ";let E=[],A=[],M=[];for(let V of x)f(typeof V=="string","All expected entries have to be of type string"),a.includes(V)?E.push(V.toLowerCase()):l.test(V)?A.push(V):(f(V!=="object",'The value "object" should be written as "Object"'),M.push(V));if(A.length>0){let V=E.indexOf("object");V!==-1&&(E.splice(E,V,1),A.push("Object"))}if(E.length>0){switch(E.length){case 1:S+=`of type ${E[0]}`;break;case 2:S+=`one of type ${E[0]} or ${E[1]}`;break;default:{let V=E.pop();S+=`one of type ${E.join(", ")}, or ${V}`}}(A.length>0||M.length>0)&&(S+=" or ")}if(A.length>0){switch(A.length){case 1:S+=`an instance of ${A[0]}`;break;case 2:S+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let V=A.pop();S+=`an instance of ${A.join(", ")}, or ${V}`}}M.length>0&&(S+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(S+="an "),S+=`${M[0]}`;break;case 2:S+=`one of ${M[0]} or ${M[1]}`;break;default:{let V=M.pop();S+=`one of ${M.join(", ")}, or ${V}`}}if(P==null)S+=`. Received ${P}`;else if(typeof P=="function"&&P.name)S+=`. Received function ${P.name}`;else if(typeof P=="object"){var W;if((W=P.constructor)!==null&&W!==void 0&&W.name)S+=`. Received an instance of ${P.constructor.name}`;else{let V=r(P,{depth:-1});S+=`. Received ${V}`}}else{let V=r(P,{colors:!1});V.length>25&&(V=`${V.slice(0,25)}...`),S+=`. Received type ${typeof P} (${V})`}return S},TypeError),p("ERR_INVALID_ARG_VALUE",(y,x,P="is invalid")=>{let S=r(x);return S.length>128&&(S=S.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${P}. Received ${S}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(y,x,P)=>{var S;let E=P!=null&&(S=P.constructor)!==null&&S!==void 0&&S.name?`instance of ${P.constructor.name}`:`type ${typeof P}`;return`Expected ${y} to be returned from the "${x}" function but got ${E}.`},TypeError),p("ERR_MISSING_ARGS",(...y)=>{f(y.length>0,"At least one arg needs to be specified");let x,P=y.length;switch(y=(Array.isArray(y)?y:[y]).map(S=>`"${S}"`).join(" or "),P){case 1:x+=`The ${y[0]} argument`;break;case 2:x+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let S=y.pop();x+=`The ${y.join(", ")}, and ${S} arguments`}break}return`${x} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(y,x,P)=>{f(x,'Missing "range" argument');let S;if(Number.isInteger(P)&&Math.abs(P)>2**32)S=d(String(P));else if(typeof P=="bigint"){S=String(P);let E=BigInt(2)**BigInt(32);(P>E||P<-E)&&(S=d(S)),S+="n"}else S=r(P);return`The value of "${y}" is out of range. It must be ${x}. Received ${S}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:v,aggregateTwoErrors:b(m),hideStackFrames:b,codes:u}}),da=Ae((e,t)=>{we(),Ee(),xe();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=n,t.exports.AbortSignal=r,t.exports.default=n});function pt(){pt.init.call(this)}function Tl(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function rw(e){return e._maxListeners===void 0?pt.defaultMaxListeners:e._maxListeners}function qm(e,t,n,r){var i,s,o,a;if(Tl(n),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=rw(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return e}function pP(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Km(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=pP.bind(r);return i.listener=n,r.wrapFn=i,i}function Gm(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(i):iw(i,i.length)}function Ym(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function iw(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}var Qm,Xm,Si,du,hu,pu,Sn,Jm=pn(()=>{we(),Ee(),xe(),Si=typeof Reflect=="object"?Reflect:null,du=Si&&typeof Si.apply=="function"?Si.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Xm=Si&&typeof Si.ownKeys=="function"?Si.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},hu=Number.isNaN||function(e){return e!=e},Qm=pt,pt.EventEmitter=pt,pt.prototype._events=void 0,pt.prototype._eventsCount=0,pt.prototype._maxListeners=void 0,pu=10,Object.defineProperty(pt,"defaultMaxListeners",{enumerable:!0,get:function(){return pu},set:function(e){if(typeof e!="number"||e<0||hu(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pu=e}}),pt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},pt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||hu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},pt.prototype.getMaxListeners=function(){return rw(this)},pt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")du(a,this,t);else{var l=a.length,c=iw(a,l);for(n=0;n<l;++n)du(c[n],this,t)}return!0},pt.prototype.addListener=function(e,t){return qm(this,e,t,!1)},pt.prototype.on=pt.prototype.addListener,pt.prototype.prependListener=function(e,t){return qm(this,e,t,!0)},pt.prototype.once=function(e,t){return Tl(t),this.on(e,Km(this,e,t)),this},pt.prototype.prependOnceListener=function(e,t){return Tl(t),this.prependListener(e,Km(this,e,t)),this},pt.prototype.removeListener=function(e,t){var n,r,i,s,o;if(Tl(t),(r=this._events)===void 0)return this;if((n=r[e])===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(n,i),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},pt.prototype.off=pt.prototype.removeListener,pt.prototype.removeAllListeners=function(e){var t,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i,s=Object.keys(n);for(r=0;r<s.length;++r)(i=s[r])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=n[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},pt.prototype.listeners=function(e){return Gm(this,e,!0)},pt.prototype.rawListeners=function(e){return Gm(this,e,!1)},pt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Ym.call(e,t)},pt.prototype.listenerCount=Ym,pt.prototype.eventNames=function(){return this._eventsCount>0?Xm(this._events):[]},Sn=Qm,Sn.EventEmitter,Sn.defaultMaxListeners,Sn.init,Sn.listenerCount,Sn.EventEmitter,Sn.defaultMaxListeners,Sn.init,Sn.listenerCount}),_i={};no(_i,{EventEmitter:()=>sw,default:()=>Sn,defaultMaxListeners:()=>ow,init:()=>aw,listenerCount:()=>lw,on:()=>cw,once:()=>uw});var sw,ow,aw,lw,cw,uw,us=pn(()=>{we(),Ee(),xe(),Jm(),Jm(),Sn.once=function(e,t){return new Promise((n,r)=>{function i(...o){s!==void 0&&e.removeListener("error",s),n(o)}let s;t!=="error"&&(s=o=>{e.removeListener(name,i),r(o)},e.once("error",s)),e.once(t,i)})},Sn.on=function(e,t){let n=[],r=[],i=null,s=!1,o={async next(){let c=n.shift();if(c)return createIterResult(c,!1);if(i){let u=Promise.reject(i);return i=null,u}return s?createIterResult(void 0,!0):new Promise((u,f)=>r.push({resolve:u,reject:f}))},async return(){e.removeListener(t,a),e.removeListener("error",l),s=!0;for(let c of r)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){i=c,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),o;function a(...c){let u=r.shift();u?u.resolve(createIterResult(c,!1)):n.push(c)}function l(c){s=!0;let u=r.shift();u?u.reject(c):i=c,o.return()}},{EventEmitter:sw,defaultMaxListeners:ow,init:aw,listenerCount:lw,on:cw,once:uw}=Sn}),yn=Ae((e,t)=>{we(),Ee(),xe();var n=(Gt(),mt(Kt)),{format:r,inspect:i}=nw(),{codes:{ERR_INVALID_ARG_TYPE:s}}=gn(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:l}=Ot(),c=globalThis.AbortSignal||da().AbortSignal,u=globalThis.AbortController||da().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||n.Blob,h=typeof d<"u"?function(m){return m instanceof d}:function(m){return!1},p=(m,v)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new s(v,"AbortSignal",m)},b=(m,v)=>{if(typeof m!="function")throw new s(v,"Function",m)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(m){let v=!1;return function(...y){v||(v=!0,m.apply(this,y))}},createDeferredPromise:function(){let m,v;return{promise:new Promise((y,x)=>{m=y,v=x}),resolve:m,reject:v}},promisify(m){return new Promise((v,y)=>{m((x,...P)=>x?y(x):v(...P))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(m){return m instanceof f},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:h,deprecate(m,v){return m},addAbortListener:(us(),mt(_i)).addAbortListener||function(m,v){if(m===void 0)throw new s("signal","AbortSignal",m);p(m,"signal"),b(v,"listener");let y;return m.aborted?queueMicrotask(()=>v()):(m.addEventListener("abort",v,{__proto__:null,once:!0,[o]:!0}),y=()=>{m.removeEventListener("abort",v)}),{__proto__:null,[l](){var x;(x=y)===null||x===void 0||x()}}},AbortSignalAny:c.any||function(m){if(m.length===1)return m[0];let v=new u,y=()=>v.abort();return m.forEach(x=>{p(x,"signals"),x.addEventListener("abort",y,{once:!0})}),v.signal.addEventListener("abort",()=>{m.forEach(x=>x.removeEventListener("abort",y))},{once:!0}),v.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Ia=Ae((e,t)=>{we(),Ee(),xe();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:u,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:h,StringPrototypeToUpperCase:p,StringPrototypeTrim:b}=Ot(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:P,ERR_UNKNOWN_SIGNAL:S}}=gn(),{normalizeEncoding:E}=yn(),{isAsyncFunction:A,isArrayBufferView:M}=yn().types,W={};function V(B){return B===(B|0)}function q(B){return B===B>>>0}var I=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function le(B,ee,pe){if(typeof B>"u"&&(B=pe),typeof B=="string"){if(d(I,B)===null)throw new x(ee,B,J);B=u(B,8)}return oe(B,ee),B}var G=m((B,ee,pe=c,te=l)=>{if(typeof B!="number")throw new y(ee,"number",B);if(!o(B))throw new P(ee,"an integer",B);if(B<pe||B>te)throw new P(ee,`>= ${pe} && <= ${te}`,B)}),de=m((B,ee,pe=-2147483648,te=2147483647)=>{if(typeof B!="number")throw new y(ee,"number",B);if(!o(B))throw new P(ee,"an integer",B);if(B<pe||B>te)throw new P(ee,`>= ${pe} && <= ${te}`,B)}),oe=m((B,ee,pe=!1)=>{if(typeof B!="number")throw new y(ee,"number",B);if(!o(B))throw new P(ee,"an integer",B);let te=pe?1:0,Se=4294967295;if(B<te||B>Se)throw new P(ee,`>= ${te} && <= ${Se}`,B)});function fe(B,ee){if(typeof B!="string")throw new y(ee,"string",B)}function me(B,ee,pe=void 0,te){if(typeof B!="number")throw new y(ee,"number",B);if(pe!=null&&B<pe||te!=null&&B>te||(pe!=null||te!=null)&&a(B))throw new P(ee,`${pe!=null?`>= ${pe}`:""}${pe!=null&&te!=null?" && ":""}${te!=null?`<= ${te}`:""}`,B)}var ae=m((B,ee,pe)=>{if(!r(pe,B)){let te="must be one of: "+i(s(pe,Se=>typeof Se=="string"?`'${Se}'`:h(Se)),", ");throw new x(ee,B,te)}});function ge(B,ee){if(typeof B!="boolean")throw new y(ee,"boolean",B)}function F(B,ee,pe){return B==null||!f(B,ee)?pe:B[ee]}var he=m((B,ee,pe=null)=>{let te=F(pe,"allowArray",!1),Se=F(pe,"allowFunction",!1);if(!F(pe,"nullable",!1)&&B===null||!te&&n(B)||typeof B!="object"&&(!Se||typeof B!="function"))throw new y(ee,"Object",B)}),be=m((B,ee)=>{if(B!=null&&typeof B!="object"&&typeof B!="function")throw new y(ee,"a dictionary",B)}),X=m((B,ee,pe=0)=>{if(!n(B))throw new y(ee,"Array",B);if(B.length<pe){let te=`must be longer than ${pe}`;throw new x(ee,B,te)}});function Pe(B,ee){X(B,ee);for(let pe=0;pe<B.length;pe++)fe(B[pe],`${ee}[${pe}]`)}function L(B,ee){X(B,ee);for(let pe=0;pe<B.length;pe++)ge(B[pe],`${ee}[${pe}]`)}function N(B,ee){X(B,ee);for(let pe=0;pe<B.length;pe++){let te=B[pe],Se=`${ee}[${pe}]`;if(te==null)throw new y(Se,"AbortSignal",te);k(te,Se)}}function ne(B,ee="signal"){if(fe(B,ee),W[B]===void 0)throw W[p(B)]!==void 0?new S(B+" (signals must use all capital letters)"):new S(B)}var K=m((B,ee="buffer")=>{if(!M(B))throw new y(ee,["Buffer","TypedArray","DataView"],B)});function Z(B,ee){let pe=E(ee),te=B.length;if(pe==="hex"&&te%2!==0)throw new x("encoding",ee,`is invalid for data of length ${te}`)}function ie(B,ee="Port",pe=!0){if(typeof B!="number"&&typeof B!="string"||typeof B=="string"&&b(B).length===0||+B!==+B>>>0||B>65535||B===0&&!pe)throw new v(ee,B,pe);return B|0}var k=m((B,ee)=>{if(B!==void 0&&(B===null||typeof B!="object"||!("aborted"in B)))throw new y(ee,"AbortSignal",B)}),O=m((B,ee)=>{if(typeof B!="function")throw new y(ee,"Function",B)}),T=m((B,ee)=>{if(typeof B!="function"||A(B))throw new y(ee,"Function",B)}),D=m((B,ee)=>{if(B!==void 0)throw new y(ee,"undefined",B)});function U(B,ee,pe){if(!r(pe,B))throw new y(ee,`('${i(pe,"|")}')`,B)}var Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function re(B,ee){if(typeof B>"u"||!d(Q,B))throw new x(ee,B,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function se(B){if(typeof B=="string")return re(B,"hints"),B;if(n(B)){let ee=B.length,pe="";if(ee===0)return pe;for(let te=0;te<ee;te++){let Se=B[te];re(Se,"hints"),pe+=Se,te!==ee-1&&(pe+=", ")}return pe}throw new x("hints",B,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:V,isUint32:q,parseFileMode:le,validateArray:X,validateStringArray:Pe,validateBooleanArray:L,validateAbortSignalArray:N,validateBoolean:ge,validateBuffer:K,validateDictionary:be,validateEncoding:Z,validateFunction:O,validateInt32:de,validateInteger:G,validateNumber:me,validateObject:he,validateOneOf:ae,validatePlainFunction:T,validatePort:ie,validateSignalName:ne,validateString:fe,validateUint32:oe,validateUndefined:D,validateUnion:U,validateAbortSignal:k,validateLinkHeaderValue:se}}),fs=Ae((e,t)=>{we(),Ee(),xe();var n=t.exports={},r,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=s}catch{r=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(v){if(r===setTimeout)return setTimeout(v,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(v,0);try{return r(v,0)}catch{try{return r.call(null,v,0)}catch{return r.call(this,v,0)}}}function l(v){if(i===clearTimeout)return clearTimeout(v);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(v);try{return i(v)}catch{try{return i.call(null,v)}catch{return i.call(this,v)}}}var c=[],u=!1,f,d=-1;function h(){!u||!f||(u=!1,f.length?c=f.concat(c):d=-1,c.length&&p())}function p(){if(!u){var v=a(h);u=!0;for(var y=c.length;y;){for(f=c,c=[];++d<y;)f&&f[d].run();d=-1,y=c.length}f=null,u=!1,l(v)}}n.nextTick=function(v){var y=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)y[x-1]=arguments[x];c.push(new b(v,y)),c.length===1&&!u&&a(p)};function b(v,y){this.fun=v,this.array=y}b.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function m(){}n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(v){return[]},n.binding=function(v){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(v){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),Fr=Ae((e,t)=>{we(),Ee(),xe();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:i}=Ot(),s=i("nodejs.stream.destroyed"),o=i("nodejs.stream.errored"),a=i("nodejs.stream.readable"),l=i("nodejs.stream.writable"),c=i("nodejs.stream.disturbed"),u=i("nodejs.webstream.isClosedPromise"),f=i("nodejs.webstream.controllerErrorFunction");function d(F,he=!1){var be;return!!(F&&typeof F.pipe=="function"&&typeof F.on=="function"&&(!he||typeof F.pause=="function"&&typeof F.resume=="function")&&(!F._writableState||((be=F._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!F._writableState||F._readableState))}function h(F){var he;return!!(F&&typeof F.write=="function"&&typeof F.on=="function"&&(!F._readableState||((he=F._writableState)===null||he===void 0?void 0:he.writable)!==!1))}function p(F){return!!(F&&typeof F.pipe=="function"&&F._readableState&&typeof F.on=="function"&&typeof F.write=="function")}function b(F){return F&&(F._readableState||F._writableState||typeof F.write=="function"&&typeof F.on=="function"||typeof F.pipe=="function"&&typeof F.on=="function")}function m(F){return!!(F&&!b(F)&&typeof F.pipeThrough=="function"&&typeof F.getReader=="function"&&typeof F.cancel=="function")}function v(F){return!!(F&&!b(F)&&typeof F.getWriter=="function"&&typeof F.abort=="function")}function y(F){return!!(F&&!b(F)&&typeof F.readable=="object"&&typeof F.writable=="object")}function x(F){return m(F)||v(F)||y(F)}function P(F,he){return F==null?!1:he===!0?typeof F[n]=="function":he===!1?typeof F[r]=="function":typeof F[n]=="function"||typeof F[r]=="function"}function S(F){if(!b(F))return null;let he=F._writableState,be=F._readableState,X=he||be;return!!(F.destroyed||F[s]||X!=null&&X.destroyed)}function E(F){if(!h(F))return null;if(F.writableEnded===!0)return!0;let he=F._writableState;return he!=null&&he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function A(F,he){if(!h(F))return null;if(F.writableFinished===!0)return!0;let be=F._writableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.finished)!="boolean"?null:!!(be.finished||he===!1&&be.ended===!0&&be.length===0)}function M(F){if(!d(F))return null;if(F.readableEnded===!0)return!0;let he=F._readableState;return!he||he.errored?!1:typeof(he==null?void 0:he.ended)!="boolean"?null:he.ended}function W(F,he){if(!d(F))return null;let be=F._readableState;return be!=null&&be.errored?!1:typeof(be==null?void 0:be.endEmitted)!="boolean"?null:!!(be.endEmitted||he===!1&&be.ended===!0&&be.length===0)}function V(F){return F&&F[a]!=null?F[a]:typeof(F==null?void 0:F.readable)!="boolean"?null:S(F)?!1:d(F)&&F.readable&&!W(F)}function q(F){return F&&F[l]!=null?F[l]:typeof(F==null?void 0:F.writable)!="boolean"?null:S(F)?!1:h(F)&&F.writable&&!E(F)}function I(F,he){return b(F)?S(F)?!0:!((he==null?void 0:he.readable)!==!1&&V(F)||(he==null?void 0:he.writable)!==!1&&q(F)):null}function J(F){var he,be;return b(F)?F.writableErrored?F.writableErrored:(he=(be=F._writableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function le(F){var he,be;return b(F)?F.readableErrored?F.readableErrored:(he=(be=F._readableState)===null||be===void 0?void 0:be.errored)!==null&&he!==void 0?he:null:null}function G(F){if(!b(F))return null;if(typeof F.closed=="boolean")return F.closed;let he=F._writableState,be=F._readableState;return typeof(he==null?void 0:he.closed)=="boolean"||typeof(be==null?void 0:be.closed)=="boolean"?(he==null?void 0:he.closed)||(be==null?void 0:be.closed):typeof F._closed=="boolean"&&de(F)?F._closed:null}function de(F){return typeof F._closed=="boolean"&&typeof F._defaultKeepAlive=="boolean"&&typeof F._removedConnection=="boolean"&&typeof F._removedContLen=="boolean"}function oe(F){return typeof F._sent100=="boolean"&&de(F)}function fe(F){var he;return typeof F._consuming=="boolean"&&typeof F._dumped=="boolean"&&((he=F.req)===null||he===void 0?void 0:he.upgradeOrConnect)===void 0}function me(F){if(!b(F))return null;let he=F._writableState,be=F._readableState,X=he||be;return!X&&oe(F)||!!(X&&X.autoDestroy&&X.emitClose&&X.closed===!1)}function ae(F){var he;return!!(F&&((he=F[c])!==null&&he!==void 0?he:F.readableDidRead||F.readableAborted))}function ge(F){var he,be,X,Pe,L,N,ne,K,Z,ie;return!!(F&&((he=(be=(X=(Pe=(L=(N=F[o])!==null&&N!==void 0?N:F.readableErrored)!==null&&L!==void 0?L:F.writableErrored)!==null&&Pe!==void 0?Pe:(ne=F._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&X!==void 0?X:(K=F._writableState)===null||K===void 0?void 0:K.errorEmitted)!==null&&be!==void 0?be:(Z=F._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&he!==void 0?he:!((ie=F._writableState)===null||ie===void 0)&&ie.errored))}t.exports={isDestroyed:S,kIsDestroyed:s,isDisturbed:ae,kIsDisturbed:c,isErrored:ge,kIsErrored:o,isReadable:V,kIsReadable:a,kIsClosedPromise:u,kControllerErrorFunction:f,kIsWritable:l,isClosed:G,isDuplexNodeStream:p,isFinished:I,isIterable:P,isReadableNodeStream:d,isReadableStream:m,isReadableEnded:M,isReadableFinished:W,isReadableErrored:le,isNodeStream:b,isWebStream:x,isWritable:q,isWritableNodeStream:h,isWritableStream:v,isWritableEnded:E,isWritableFinished:A,isWritableErrored:J,isServerRequest:fe,isServerResponse:oe,willEmitClose:me,isTransformStream:y}}),bi=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{AbortError:r,codes:i}=gn(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=i,{kEmptyObject:a,once:l}=yn(),{validateAbortSignal:c,validateFunction:u,validateObject:f,validateBoolean:d}=Ia(),{Promise:h,PromisePrototypeThen:p,SymbolDispose:b}=Ot(),{isClosed:m,isReadable:v,isReadableNodeStream:y,isReadableStream:x,isReadableFinished:P,isReadableErrored:S,isWritable:E,isWritableNodeStream:A,isWritableStream:M,isWritableFinished:W,isWritableErrored:V,isNodeStream:q,willEmitClose:I,kIsClosedPromise:J}=Fr(),le;function G(ae){return ae.setHeader&&typeof ae.abort=="function"}var de=()=>{};function oe(ae,ge,F){var he,be;if(arguments.length===2?(F=ge,ge=a):ge==null?ge=a:f(ge,"options"),u(F,"callback"),c(ge.signal,"options.signal"),F=l(F),x(ae)||M(ae))return fe(ae,ge,F);if(!q(ae))throw new s("stream",["ReadableStream","WritableStream","Stream"],ae);let X=(he=ge.readable)!==null&&he!==void 0?he:y(ae),Pe=(be=ge.writable)!==null&&be!==void 0?be:A(ae),L=ae._writableState,N=ae._readableState,ne=()=>{ae.writable||ie()},K=I(ae)&&y(ae)===X&&A(ae)===Pe,Z=W(ae,!1),ie=()=>{Z=!0,ae.destroyed&&(K=!1),!(K&&(!ae.readable||X))&&(!X||k)&&F.call(ae)},k=P(ae,!1),O=()=>{k=!0,ae.destroyed&&(K=!1),!(K&&(!ae.writable||Pe))&&(!Pe||Z)&&F.call(ae)},T=B=>{F.call(ae,B)},D=m(ae),U=()=>{D=!0;let B=V(ae)||S(ae);if(B&&typeof B!="boolean")return F.call(ae,B);if(X&&!k&&y(ae,!0)&&!P(ae,!1))return F.call(ae,new o);if(Pe&&!Z&&!W(ae,!1))return F.call(ae,new o);F.call(ae)},Q=()=>{D=!0;let B=V(ae)||S(ae);if(B&&typeof B!="boolean")return F.call(ae,B);F.call(ae)},re=()=>{ae.req.on("finish",ie)};G(ae)?(ae.on("complete",ie),K||ae.on("abort",U),ae.req?re():ae.on("request",re)):Pe&&!L&&(ae.on("end",ne),ae.on("close",ne)),!K&&typeof ae.aborted=="boolean"&&ae.on("aborted",U),ae.on("end",O),ae.on("finish",ie),ge.error!==!1&&ae.on("error",T),ae.on("close",U),D?n.nextTick(U):L!=null&&L.errorEmitted||N!=null&&N.errorEmitted?K||n.nextTick(Q):(!X&&(!K||v(ae))&&(Z||E(ae)===!1)||!Pe&&(!K||E(ae))&&(k||v(ae)===!1)||N&&ae.req&&ae.aborted)&&n.nextTick(Q);let se=()=>{F=de,ae.removeListener("aborted",U),ae.removeListener("complete",ie),ae.removeListener("abort",U),ae.removeListener("request",re),ae.req&&ae.req.removeListener("finish",ie),ae.removeListener("end",ne),ae.removeListener("close",ne),ae.removeListener("finish",ie),ae.removeListener("end",O),ae.removeListener("error",T),ae.removeListener("close",U)};if(ge.signal&&!D){let B=()=>{let ee=F;se(),ee.call(ae,new r(void 0,{cause:ge.signal.reason}))};if(ge.signal.aborted)n.nextTick(B);else{le=le||yn().addAbortListener;let ee=le(ge.signal,B),pe=F;F=l((...te)=>{ee[b](),pe.apply(ae,te)})}}return se}function fe(ae,ge,F){let he=!1,be=de;if(ge.signal)if(be=()=>{he=!0,F.call(ae,new r(void 0,{cause:ge.signal.reason}))},ge.signal.aborted)n.nextTick(be);else{le=le||yn().addAbortListener;let Pe=le(ge.signal,be),L=F;F=l((...N)=>{Pe[b](),L.apply(ae,N)})}let X=(...Pe)=>{he||n.nextTick(()=>F.apply(ae,Pe))};return p(ae[J].promise,X,X),de}function me(ae,ge){var F;let he=!1;return ge===null&&(ge=a),(F=ge)!==null&&F!==void 0&&F.cleanup&&(d(ge.cleanup,"cleanup"),he=ge.cleanup),new h((be,X)=>{let Pe=oe(ae,ge,L=>{he&&Pe(),L?X(L):be()})})}t.exports=oe,t.exports.finished=me}),ro=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=gn(),{Symbol:o}=Ot(),{kIsDestroyed:a,isDestroyed:l,isFinished:c,isServerRequest:u}=Fr(),f=o("kDestroy"),d=o("kConstruct");function h(I,J,le){I&&(I.stack,J&&!J.errored&&(J.errored=I),le&&!le.errored&&(le.errored=I))}function p(I,J){let le=this._readableState,G=this._writableState,de=G||le;return G!=null&&G.destroyed||le!=null&&le.destroyed?(typeof J=="function"&&J(),this):(h(I,G,le),G&&(G.destroyed=!0),le&&(le.destroyed=!0),de.constructed?b(this,I,J):this.once(f,function(oe){b(this,r(oe,I),J)}),this)}function b(I,J,le){let G=!1;function de(oe){if(G)return;G=!0;let fe=I._readableState,me=I._writableState;h(oe,me,fe),me&&(me.closed=!0),fe&&(fe.closed=!0),typeof le=="function"&&le(oe),oe?n.nextTick(m,I,oe):n.nextTick(v,I)}try{I._destroy(J||null,de)}catch(oe){de(oe)}}function m(I,J){y(I,J),v(I)}function v(I){let J=I._readableState,le=I._writableState;le&&(le.closeEmitted=!0),J&&(J.closeEmitted=!0),(le!=null&&le.emitClose||J!=null&&J.emitClose)&&I.emit("close")}function y(I,J){let le=I._readableState,G=I._writableState;G!=null&&G.errorEmitted||le!=null&&le.errorEmitted||(G&&(G.errorEmitted=!0),le&&(le.errorEmitted=!0),I.emit("error",J))}function x(){let I=this._readableState,J=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),J&&(J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1)}function P(I,J,le){let G=I._readableState,de=I._writableState;if(de!=null&&de.destroyed||G!=null&&G.destroyed)return this;G!=null&&G.autoDestroy||de!=null&&de.autoDestroy?I.destroy(J):J&&(J.stack,de&&!de.errored&&(de.errored=J),G&&!G.errored&&(G.errored=J),le?n.nextTick(y,I,J):y(I,J))}function S(I,J){if(typeof I._construct!="function")return;let le=I._readableState,G=I._writableState;le&&(le.constructed=!1),G&&(G.constructed=!1),I.once(d,J),!(I.listenerCount(d)>1)&&n.nextTick(E,I)}function E(I){let J=!1;function le(G){if(J){P(I,G??new i);return}J=!0;let de=I._readableState,oe=I._writableState,fe=oe||de;de&&(de.constructed=!0),oe&&(oe.constructed=!0),fe.destroyed?I.emit(f,G):G?P(I,G,!0):n.nextTick(A,I)}try{I._construct(G=>{n.nextTick(le,G)})}catch(G){n.nextTick(le,G)}}function A(I){I.emit(d)}function M(I){return(I==null?void 0:I.setHeader)&&typeof I.abort=="function"}function W(I){I.emit("close")}function V(I,J){I.emit("error",J),n.nextTick(W,I)}function q(I,J){!I||l(I)||(!J&&!c(I)&&(J=new s),u(I)?(I.socket=null,I.destroy(J)):M(I)?I.abort():M(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy(J):typeof I.close=="function"?I.close():J?n.nextTick(V,I,J):n.nextTick(W,I),I.destroyed||(I[a]=!0))}t.exports={construct:S,destroyer:q,destroy:p,undestroy:x,errorOrDestroy:P}}),jh=Ae((e,t)=>{we(),Ee(),xe();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=Ot(),{EventEmitter:i}=(us(),mt(_i));function s(a){i.call(this,a)}r(s.prototype,i.prototype),r(s,i),s.prototype.pipe=function(a,l){let c=this;function u(v){a.writable&&a.write(v)===!1&&c.pause&&c.pause()}c.on("data",u);function f(){c.readable&&c.resume&&c.resume()}a.on("drain",f),!a._isStdio&&(!l||l.end!==!1)&&(c.on("end",h),c.on("close",p));let d=!1;function h(){d||(d=!0,a.end())}function p(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function b(v){m(),i.listenerCount(this,"error")===0&&this.emit("error",v)}o(c,"error",b),o(a,"error",b);function m(){c.removeListener("data",u),a.removeListener("drain",f),c.removeListener("end",h),c.removeListener("close",p),c.removeListener("error",b),a.removeListener("error",b),c.removeListener("end",m),c.removeListener("close",m),a.removeListener("close",m)}return c.on("end",m),c.on("close",m),a.on("close",m),a.emit("pipe",c),a};function o(a,l,c){if(typeof a.prependListener=="function")return a.prependListener(l,c);!a._events||!a._events[l]?a.on(l,c):n(a._events[l])?a._events[l].unshift(c):a._events[l]=[c,a._events[l]]}t.exports={Stream:s,prependListener:o}}),Ic=Ae((e,t)=>{we(),Ee(),xe();var{SymbolDispose:n}=Ot(),{AbortError:r,codes:i}=gn(),{isNodeStream:s,isWebStream:o,kControllerErrorFunction:a}=Fr(),l=bi(),{ERR_INVALID_ARG_TYPE:c}=i,u,f=(d,h)=>{if(typeof d!="object"||!("aborted"in d))throw new c(h,"AbortSignal",d)};t.exports.addAbortSignal=function(d,h){if(f(d,"signal"),!s(h)&&!o(h))throw new c("stream",["ReadableStream","WritableStream","Stream"],h);return t.exports.addAbortSignalNoValidate(d,h)},t.exports.addAbortSignalNoValidate=function(d,h){if(typeof d!="object"||!("aborted"in d))return h;let p=s(h)?()=>{h.destroy(new r(void 0,{cause:d.reason}))}:()=>{h[a](new r(void 0,{cause:d.reason}))};if(d.aborted)p();else{u=u||yn().addAbortListener;let b=u(d,p);l(h,b[n])}return h}}),gP=Ae((e,t)=>{we(),Ee(),xe();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:i,Uint8Array:s}=Ot(),{Buffer:o}=(Gt(),mt(Kt)),{inspect:a}=yn();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=l+c.data;return u}concat(l){if(this.length===0)return o.alloc(0);let c=o.allocUnsafe(l>>>0),u=this.head,f=0;for(;u;)i(c,u.data,f),f+=u.data.length,u=u.next;return c}consume(l,c){let u=this.head.data;if(l<u.length){let f=u.slice(0,l);return this.head.data=u.slice(l),f}return l===u.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[r](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",u=this.head,f=0;do{let d=u.data;if(l>d.length)c+=d,l-=d.length;else{l===d.length?(c+=d,++f,u.next?this.head=u.next:this.head=this.tail=null):(c+=n(d,0,l),this.head=u,u.data=n(d,l));break}++f}while((u=u.next)!==null);return this.length-=f,c}_getBuffer(l){let c=o.allocUnsafe(l),u=l,f=this.head,d=0;do{let h=f.data;if(l>h.length)i(c,h,u-l),l-=h.length;else{l===h.length?(i(c,h,u-l),++d,f.next?this.head=f.next:this.head=this.tail=null):(i(c,new s(h.buffer,h.byteOffset,l),u-l),this.head=f,f.data=h.slice(l));break}++d}while((f=f.next)!==null);return this.length-=d,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return a(this,{...c,depth:0,customInspect:!1})}}}),Oc=Ae((e,t)=>{we(),Ee(),xe();var{MathFloor:n,NumberIsInteger:r}=Ot(),{validateInteger:i}=Ia(),{ERR_INVALID_ARG_VALUE:s}=gn().codes,o=16*1024,a=16;function l(d,h,p){return d.highWaterMark!=null?d.highWaterMark:h?d[p]:null}function c(d){return d?a:o}function u(d,h){i(h,"value",0),d?a=h:o=h}function f(d,h,p,b){let m=l(h,b,p);if(m!=null){if(!r(m)||m<0){let v=b?`options.${p}`:"options.highWaterMark";throw new s(v,m)}return n(m)}return c(d.objectMode)}t.exports={getHighWaterMark:f,getDefaultHighWaterMark:c,setDefaultHighWaterMark:u}}),mP=Ae((e,t)=>{we(),Ee(),xe();var n=(Gt(),mt(Kt)),r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}),_P=Ae(e=>{we(),Ee(),xe();var t=mP().Buffer,n=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var x;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(x)return;y=(""+y).toLowerCase(),x=!0}}function i(y){var x=r(y);if(typeof x!="string"&&(t.isEncoding===n||!n(y)))throw new Error("Unknown encoding: "+y);return x||y}e.StringDecoder=s;function s(y){this.encoding=i(y);var x;switch(this.encoding){case"utf16le":this.text=d,this.end=h,x=4;break;case"utf8":this.fillLast=c,x=4;break;case"base64":this.text=p,this.end=b,x=3;break;default:this.write=m,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(x)}s.prototype.write=function(y){if(y.length===0)return"";var x,P;if(this.lastNeed){if(x=this.fillLast(y),x===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<y.length?x?x+this.text(y,P):this.text(y,P):x||""},s.prototype.end=f,s.prototype.text=u,s.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function o(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,x,P){var S=x.length-1;if(S<P)return 0;var E=o(x[S]);return E>=0?(E>0&&(y.lastNeed=E-1),E):--S<P||E===-2?0:(E=o(x[S]),E>=0?(E>0&&(y.lastNeed=E-2),E):--S<P||E===-2?0:(E=o(x[S]),E>=0?(E>0&&(E===2?E=0:y.lastNeed=E-3),E):0))}function l(y,x,P){if((x[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return y.lastNeed=2,"�"}}function c(y){var x=this.lastTotal-this.lastNeed,P=l(this,y);if(P!==void 0)return P;if(this.lastNeed<=y.length)return y.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,x,0,y.length),this.lastNeed-=y.length}function u(y,x){var P=a(this,y,x);if(!this.lastNeed)return y.toString("utf8",x);this.lastTotal=P;var S=y.length-(P-this.lastNeed);return y.copy(this.lastChar,0,S),y.toString("utf8",x,S)}function f(y){var x=y&&y.length?this.write(y):"";return this.lastNeed?x+"�":x}function d(y,x){if((y.length-x)%2===0){var P=y.toString("utf16le",x);if(P){var S=P.charCodeAt(P.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",x,y.length-1)}function h(y){var x=y&&y.length?this.write(y):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,P)}return x}function p(y,x){var P=(y.length-x)%3;return P===0?y.toString("base64",x):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",x,y.length-P))}function b(y){var x=y&&y.length?this.write(y):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function m(y){return y.toString(this.encoding)}function v(y){return y&&y.length?this.write(y):""}}),fw=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{PromisePrototypeThen:r,SymbolAsyncIterator:i,SymbolIterator:s}=Ot(),{Buffer:o}=(Gt(),mt(Kt)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=gn().codes;function c(u,f,d){let h;if(typeof f=="string"||f instanceof o)return new u({objectMode:!0,...d,read(){this.push(f),this.push(null)}});let p;if(f&&f[i])p=!0,h=f[i]();else if(f&&f[s])p=!1,h=f[s]();else throw new a("iterable",["Iterable"],f);let b=new u({objectMode:!0,highWaterMark:1,...d}),m=!1;b._read=function(){m||(m=!0,y())},b._destroy=function(x,P){r(v(x),()=>n.nextTick(P,x),S=>n.nextTick(P,S||x))};async function v(x){let P=x!=null,S=typeof h.throw=="function";if(P&&S){let{value:E,done:A}=await h.throw(x);if(await E,A)return}if(typeof h.return=="function"){let{value:E}=await h.return();await E}}async function y(){for(;;){try{let{value:x,done:P}=p?await h.next():h.next();if(P)b.push(null);else{let S=x&&typeof x.then=="function"?await x:x;if(S===null)throw m=!1,new l;if(b.push(S))continue;m=!1}}catch(x){b.destroy(x)}break}}return b}t.exports=c}),Pc=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{ArrayPrototypeIndexOf:r,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:u,SafeSet:f,SymbolAsyncDispose:d,SymbolAsyncIterator:h,Symbol:p}=Ot();t.exports=te,te.ReadableState=pe;var{EventEmitter:b}=(us(),mt(_i)),{Stream:m,prependListener:v}=jh(),{Buffer:y}=(Gt(),mt(Kt)),{addAbortSignal:x}=Ic(),P=bi(),S=yn().debuglog("stream",j=>{S=j}),E=gP(),A=ro(),{getHighWaterMark:M,getDefaultHighWaterMark:W}=Oc(),{aggregateTwoErrors:V,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:le,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:G},AbortError:de}=gn(),{validateObject:oe}=Ia(),fe=p("kPaused"),{StringDecoder:me}=_P(),ae=fw();c(te.prototype,m.prototype),c(te,m);var ge=()=>{},{errorOrDestroy:F}=A,he=1,be=2,X=4,Pe=8,L=16,N=32,ne=64,K=128,Z=256,ie=512,k=1024,O=2048,T=4096,D=8192,U=16384,Q=32768,re=65536,se=1<<17,B=1<<18;function ee(j){return{enumerable:!1,get(){return(this.state&j)!==0},set(z){z?this.state|=j:this.state&=~j}}}a(pe.prototype,{objectMode:ee(he),ended:ee(be),endEmitted:ee(X),reading:ee(Pe),constructed:ee(L),sync:ee(N),needReadable:ee(ne),emittedReadable:ee(K),readableListening:ee(Z),resumeScheduled:ee(ie),errorEmitted:ee(k),emitClose:ee(O),autoDestroy:ee(T),destroyed:ee(D),closed:ee(U),closeEmitted:ee(Q),multiAwaitDrain:ee(re),readingMore:ee(se),dataEmitted:ee(B)});function pe(j,z,Ce){typeof Ce!="boolean"&&(Ce=z instanceof Lr()),this.state=O|T|L|N,j&&j.objectMode&&(this.state|=he),Ce&&j&&j.readableObjectMode&&(this.state|=he),this.highWaterMark=j?M(this,j,"readableHighWaterMark",Ce):W(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[fe]=null,j&&j.emitClose===!1&&(this.state&=~O),j&&j.autoDestroy===!1&&(this.state&=~T),this.errored=null,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,j&&j.encoding&&(this.decoder=new me(j.encoding),this.encoding=j.encoding)}function te(j){if(!(this instanceof te))return new te(j);let z=this instanceof Lr();this._readableState=new pe(j,this,z),j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&!z&&x(j.signal,this)),m.call(this,j),A.construct(this,()=>{this._readableState.needReadable&&Te(this,this._readableState)})}te.prototype.destroy=A.destroy,te.prototype._undestroy=A.undestroy,te.prototype._destroy=function(j,z){z(j)},te.prototype[b.captureRejectionSymbol]=function(j){this.destroy(j)},te.prototype[d]=function(){let j;return this.destroyed||(j=this.readableEnded?null:new de,this.destroy(j)),new u((z,Ce)=>P(this,De=>De&&De!==j?Ce(De):z(null)))},te.prototype.push=function(j,z){return Se(this,j,z,!1)},te.prototype.unshift=function(j,z){return Se(this,j,z,!0)};function Se(j,z,Ce,De){S("readableAddChunk",z);let Be=j._readableState,Xt;if((Be.state&he)===0&&(typeof z=="string"?(Ce=Ce||Be.defaultEncoding,Be.encoding!==Ce&&(De&&Be.encoding?z=y.from(z,Ce).toString(Be.encoding):(z=y.from(z,Ce),Ce=""))):z instanceof y?Ce="":m._isUint8Array(z)?(z=m._uint8ArrayToBuffer(z),Ce=""):z!=null&&(Xt=new q("chunk",["string","Buffer","Uint8Array"],z))),Xt)F(j,Xt);else if(z===null)Be.state&=~Pe,$(j,Be);else if((Be.state&he)!==0||z&&z.length>0)if(De)if((Be.state&X)!==0)F(j,new G);else{if(Be.destroyed||Be.errored)return!1;g(j,Be,z,!0)}else if(Be.ended)F(j,new le);else{if(Be.destroyed||Be.errored)return!1;Be.state&=~Pe,Be.decoder&&!Ce?(z=Be.decoder.write(z),Be.objectMode||z.length!==0?g(j,Be,z,!1):Te(j,Be)):g(j,Be,z,!1)}else De||(Be.state&=~Pe,Te(j,Be));return!Be.ended&&(Be.length<Be.highWaterMark||Be.length===0)}function g(j,z,Ce,De){z.flowing&&z.length===0&&!z.sync&&j.listenerCount("data")>0?((z.state&re)!==0?z.awaitDrainWriters.clear():z.awaitDrainWriters=null,z.dataEmitted=!0,j.emit("data",Ce)):(z.length+=z.objectMode?1:Ce.length,De?z.buffer.unshift(Ce):z.buffer.push(Ce),(z.state&ne)!==0&&Y(j)),Te(j,z)}te.prototype.isPaused=function(){let j=this._readableState;return j[fe]===!0||j.flowing===!1},te.prototype.setEncoding=function(j){let z=new me(j);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;let Ce=this._readableState.buffer,De="";for(let Be of Ce)De+=z.write(Be);return Ce.clear(),De!==""&&Ce.push(De),this._readableState.length=De.length,this};var _=1073741824;function w(j){if(j>_)throw new J("size","<= 1GiB",j);return j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++,j}function C(j,z){return j<=0||z.length===0&&z.ended?0:(z.state&he)!==0?1:s(j)?z.flowing&&z.length?z.buffer.first().length:z.length:j<=z.length?j:z.ended?z.length:0}te.prototype.read=function(j){S("read",j),j===void 0?j=NaN:i(j)||(j=o(j,10));let z=this._readableState,Ce=j;if(j>z.highWaterMark&&(z.highWaterMark=w(j)),j!==0&&(z.state&=~K),j===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return S("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?bt(this):Y(this),null;if(j=C(j,z),j===0&&z.ended)return z.length===0&&bt(this),null;let De=(z.state&ne)!==0;if(S("need readable",De),(z.length===0||z.length-j<z.highWaterMark)&&(De=!0,S("length less than watermark",De)),z.ended||z.reading||z.destroyed||z.errored||!z.constructed)De=!1,S("reading, ended or constructing",De);else if(De){S("do read"),z.state|=Pe|N,z.length===0&&(z.state|=ne);try{this._read(z.highWaterMark)}catch(Xt){F(this,Xt)}z.state&=~N,z.reading||(j=C(Ce,z))}let Be;return j>0?Be=Ge(j,z):Be=null,Be===null?(z.needReadable=z.length<=z.highWaterMark,j=0):(z.length-=j,z.multiAwaitDrain?z.awaitDrainWriters.clear():z.awaitDrainWriters=null),z.length===0&&(z.ended||(z.needReadable=!0),Ce!==j&&z.ended&&bt(this)),Be!==null&&!z.errorEmitted&&!z.closeEmitted&&(z.dataEmitted=!0,this.emit("data",Be)),Be};function $(j,z){if(S("onEofChunk"),!z.ended){if(z.decoder){let Ce=z.decoder.end();Ce&&Ce.length&&(z.buffer.push(Ce),z.length+=z.objectMode?1:Ce.length)}z.ended=!0,z.sync?Y(j):(z.needReadable=!1,z.emittedReadable=!0,ce(j))}}function Y(j){let z=j._readableState;S("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(S("emitReadable",z.flowing),z.emittedReadable=!0,n.nextTick(ce,j))}function ce(j){let z=j._readableState;S("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&!z.errored&&(z.length||z.ended)&&(j.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,wn(j)}function Te(j,z){!z.readingMore&&z.constructed&&(z.readingMore=!0,n.nextTick(Oe,j,z))}function Oe(j,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){let Ce=z.length;if(S("maybeReadMore read 0"),j.read(0),Ce===z.length)break}z.readingMore=!1}te.prototype._read=function(j){throw new I("_read()")},te.prototype.pipe=function(j,z){let Ce=this,De=this._readableState;De.pipes.length===1&&(De.multiAwaitDrain||(De.multiAwaitDrain=!0,De.awaitDrainWriters=new f(De.awaitDrainWriters?[De.awaitDrainWriters]:[]))),De.pipes.push(j),S("pipe count=%d opts=%j",De.pipes.length,z);let Be=(!z||z.end!==!1)&&j!==n.stdout&&j!==n.stderr?Cn:oo;De.endEmitted?n.nextTick(Be):Ce.once("end",Be),j.on("unpipe",Xt);function Xt(vi,_r){S("onunpipe"),vi===Ce&&_r&&_r.hasUnpiped===!1&&(_r.hasUnpiped=!0,bx())}function Cn(){S("onend"),j.end()}let yi,up=!1;function bx(){S("cleanup"),j.removeListener("close",Fc),j.removeListener("finish",Uc),yi&&j.removeListener("drain",yi),j.removeListener("error",jc),j.removeListener("unpipe",Xt),Ce.removeListener("end",Cn),Ce.removeListener("end",oo),Ce.removeListener("data",dp),up=!0,yi&&De.awaitDrainWriters&&(!j._writableState||j._writableState.needDrain)&&yi()}function fp(){up||(De.pipes.length===1&&De.pipes[0]===j?(S("false write response, pause",0),De.awaitDrainWriters=j,De.multiAwaitDrain=!1):De.pipes.length>1&&De.pipes.includes(j)&&(S("false write response, pause",De.awaitDrainWriters.size),De.awaitDrainWriters.add(j)),Ce.pause()),yi||(yi=Ve(Ce,j),j.on("drain",yi))}Ce.on("data",dp);function dp(vi){S("ondata");let _r=j.write(vi);S("dest.write",_r),_r===!1&&fp()}function jc(vi){if(S("onerror",vi),oo(),j.removeListener("error",jc),j.listenerCount("error")===0){let _r=j._writableState||j._readableState;_r&&!_r.errorEmitted?F(j,vi):j.emit("error",vi)}}v(j,"error",jc);function Fc(){j.removeListener("finish",Uc),oo()}j.once("close",Fc);function Uc(){S("onfinish"),j.removeListener("close",Fc),oo()}j.once("finish",Uc);function oo(){S("unpipe"),Ce.unpipe(j)}return j.emit("pipe",Ce),j.writableNeedDrain===!0?fp():De.flowing||(S("pipe resume"),Ce.resume()),j};function Ve(j,z){return function(){let Ce=j._readableState;Ce.awaitDrainWriters===z?(S("pipeOnDrain",1),Ce.awaitDrainWriters=null):Ce.multiAwaitDrain&&(S("pipeOnDrain",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.delete(z)),(!Ce.awaitDrainWriters||Ce.awaitDrainWriters.size===0)&&j.listenerCount("data")&&j.resume()}}te.prototype.unpipe=function(j){let z=this._readableState,Ce={hasUnpiped:!1};if(z.pipes.length===0)return this;if(!j){let Be=z.pipes;z.pipes=[],this.pause();for(let Xt=0;Xt<Be.length;Xt++)Be[Xt].emit("unpipe",this,{hasUnpiped:!1});return this}let De=r(z.pipes,j);return De===-1?this:(z.pipes.splice(De,1),z.pipes.length===0&&this.pause(),j.emit("unpipe",this,Ce),this)},te.prototype.on=function(j,z){let Ce=m.prototype.on.call(this,j,z),De=this._readableState;return j==="data"?(De.readableListening=this.listenerCount("readable")>0,De.flowing!==!1&&this.resume()):j==="readable"&&!De.endEmitted&&!De.readableListening&&(De.readableListening=De.needReadable=!0,De.flowing=!1,De.emittedReadable=!1,S("on readable",De.length,De.reading),De.length?Y(this):De.reading||n.nextTick(Fe,this)),Ce},te.prototype.addListener=te.prototype.on,te.prototype.removeListener=function(j,z){let Ce=m.prototype.removeListener.call(this,j,z);return j==="readable"&&n.nextTick(Ue,this),Ce},te.prototype.off=te.prototype.removeListener,te.prototype.removeAllListeners=function(j){let z=m.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&n.nextTick(Ue,this),z};function Ue(j){let z=j._readableState;z.readableListening=j.listenerCount("readable")>0,z.resumeScheduled&&z[fe]===!1?z.flowing=!0:j.listenerCount("data")>0?j.resume():z.readableListening||(z.flowing=null)}function Fe(j){S("readable nexttick read 0"),j.read(0)}te.prototype.resume=function(){let j=this._readableState;return j.flowing||(S("resume"),j.flowing=!j.readableListening,vn(this,j)),j[fe]=!1,this};function vn(j,z){z.resumeScheduled||(z.resumeScheduled=!0,n.nextTick(mn,j,z))}function mn(j,z){S("resume",z.reading),z.reading||j.read(0),z.resumeScheduled=!1,j.emit("resume"),wn(j),z.flowing&&!z.reading&&j.read(0)}te.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[fe]=!0,this};function wn(j){let z=j._readableState;for(S("flow",z.flowing);z.flowing&&j.read()!==null;);}te.prototype.wrap=function(j){let z=!1;j.on("data",De=>{!this.push(De)&&j.pause&&(z=!0,j.pause())}),j.on("end",()=>{this.push(null)}),j.on("error",De=>{F(this,De)}),j.on("close",()=>{this.destroy()}),j.on("destroy",()=>{this.destroy()}),this._read=()=>{z&&j.resume&&(z=!1,j.resume())};let Ce=l(j);for(let De=1;De<Ce.length;De++){let Be=Ce[De];this[Be]===void 0&&typeof j[Be]=="function"&&(this[Be]=j[Be].bind(j))}return this},te.prototype[h]=function(){return kt(this)},te.prototype.iterator=function(j){return j!==void 0&&oe(j,"options"),kt(this,j)};function kt(j,z){typeof j.read!="function"&&(j=te.wrap(j,{objectMode:!0}));let Ce=$t(j,z);return Ce.stream=j,Ce}async function*$t(j,z){let Ce=ge;function De(Cn){this===j?(Ce(),Ce=ge):Ce=Cn}j.on("readable",De);let Be,Xt=P(j,{writable:!1},Cn=>{Be=Cn?V(Be,Cn):null,Ce(),Ce=ge});try{for(;;){let Cn=j.destroyed?null:j.read();if(Cn!==null)yield Cn;else{if(Be)throw Be;if(Be===null)return;await new u(De)}}}catch(Cn){throw Be=V(Be,Cn),Be}finally{(Be||(z==null?void 0:z.destroyOnReturn)!==!1)&&(Be===void 0||j._readableState.autoDestroy)?A.destroyer(j,null):(j.off("readable",De),Xt())}}a(te.prototype,{readable:{__proto__:null,get(){let j=this._readableState;return!!j&&j.readable!==!1&&!j.destroyed&&!j.errorEmitted&&!j.endEmitted},set(j){this._readableState&&(this._readableState.readable=!!j)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(j){this._readableState&&(this._readableState.destroyed=j)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[fe]!==!1},set(j){this[fe]=!!j}}}),te._fromList=Ge;function Ge(j,z){if(z.length===0)return null;let Ce;return z.objectMode?Ce=z.buffer.shift():!j||j>=z.length?(z.decoder?Ce=z.buffer.join(""):z.buffer.length===1?Ce=z.buffer.first():Ce=z.buffer.concat(z.length),z.buffer.clear()):Ce=z.buffer.consume(j,z.decoder),Ce}function bt(j){let z=j._readableState;S("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,n.nextTick(Qt,z,j))}function Qt(j,z){if(S("endReadableNT",j.endEmitted,j.length),!j.errored&&!j.closeEmitted&&!j.endEmitted&&j.length===0){if(j.endEmitted=!0,z.emit("end"),z.writable&&z.allowHalfOpen===!1)n.nextTick(jt,z);else if(j.autoDestroy){let Ce=z._writableState;(!Ce||Ce.autoDestroy&&(Ce.finished||Ce.writable===!1))&&z.destroy()}}}function jt(j){j.writable&&!j.writableEnded&&!j.destroyed&&j.end()}te.from=function(j,z){return ae(te,j,z)};var on;function Vr(){return on===void 0&&(on={}),on}te.fromWeb=function(j,z){return Vr().newStreamReadableFromReadableStream(j,z)},te.toWeb=function(j,z){return Vr().newReadableStreamFromStreamReadable(j,z)},te.wrap=function(j,z){var Ce,De;return new te({objectMode:(Ce=(De=j.readableObjectMode)!==null&&De!==void 0?De:j.objectMode)!==null&&Ce!==void 0?Ce:!0,...z,destroy(Be,Xt){A.destroyer(j,Be),Xt(Be)}}).wrap(j)}}),Fh=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{ArrayPrototypeSlice:r,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:f}=Ot();t.exports=oe,oe.WritableState=G;var{EventEmitter:d}=(us(),mt(_i)),h=jh().Stream,{Buffer:p}=(Gt(),mt(Kt)),b=ro(),{addAbortSignal:m}=Ic(),{getHighWaterMark:v,getDefaultHighWaterMark:y}=Oc(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:V,ERR_UNKNOWN_ENCODING:q}=gn().codes,{errorOrDestroy:I}=b;l(oe.prototype,h.prototype),l(oe,h);function J(){}var le=u("kOnFinished");function G(T,D,U){typeof U!="boolean"&&(U=D instanceof Lr()),this.objectMode=!!(T&&T.objectMode),U&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?v(this,T,"writableHighWaterMark",U):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Q=!!(T&&T.decodeStrings===!1);this.decodeStrings=!Q,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=F.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,de(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[le]=[]}function de(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}G.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},o(G.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function oe(T){let D=this instanceof Lr();if(!D&&!s(oe,this))return new oe(T);this._writableState=new G(T,this,D),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&m(T.signal,this)),h.call(this,T),b.construct(this,()=>{let U=this._writableState;U.writing||Pe(this,U),K(this,U)})}o(oe,f,{__proto__:null,value:function(T){return s(this,T)?!0:this!==oe?!1:T&&T._writableState instanceof G}}),oe.prototype.pipe=function(){I(this,new E)};function fe(T,D,U,Q){let re=T._writableState;if(typeof U=="function")Q=U,U=re.defaultEncoding;else{if(!U)U=re.defaultEncoding;else if(U!=="buffer"&&!p.isEncoding(U))throw new q(U);typeof Q!="function"&&(Q=J)}if(D===null)throw new W;if(!re.objectMode)if(typeof D=="string")re.decodeStrings!==!1&&(D=p.from(D,U),U="buffer");else if(D instanceof p)U="buffer";else if(h._isUint8Array(D))D=h._uint8ArrayToBuffer(D),U="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],D);let se;return re.ending?se=new V:re.destroyed&&(se=new A("write")),se?(n.nextTick(Q,se),I(T,se,!0),se):(re.pendingcb++,me(T,re,D,U,Q))}oe.prototype.write=function(T,D,U){return fe(this,T,D,U)===!0},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){let T=this._writableState;T.corked&&(T.corked--,T.writing||Pe(this,T))},oe.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=c(T)),!p.isEncoding(T))throw new q(T);return this._writableState.defaultEncoding=T,this};function me(T,D,U,Q,re){let se=D.objectMode?1:U.length;D.length+=se;let B=D.length<D.highWaterMark;return B||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:U,encoding:Q,callback:re}),D.allBuffers&&Q!=="buffer"&&(D.allBuffers=!1),D.allNoop&&re!==J&&(D.allNoop=!1)):(D.writelen=se,D.writecb=re,D.writing=!0,D.sync=!0,T._write(U,Q,D.onwrite),D.sync=!1),B&&!D.errored&&!D.destroyed}function ae(T,D,U,Q,re,se,B){D.writelen=Q,D.writecb=B,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new A("write")):U?T._writev(re,D.onwrite):T._write(re,se,D.onwrite),D.sync=!1}function ge(T,D,U,Q){--D.pendingcb,Q(U),X(D),I(T,U)}function F(T,D){let U=T._writableState,Q=U.sync,re=U.writecb;if(typeof re!="function"){I(T,new S);return}U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0,D?(D.stack,U.errored||(U.errored=D),T._readableState&&!T._readableState.errored&&(T._readableState.errored=D),Q?n.nextTick(ge,T,U,D,re):ge(T,U,D,re)):(U.buffered.length>U.bufferedIndex&&Pe(T,U),Q?U.afterWriteTickInfo!==null&&U.afterWriteTickInfo.cb===re?U.afterWriteTickInfo.count++:(U.afterWriteTickInfo={count:1,cb:re,stream:T,state:U},n.nextTick(he,U.afterWriteTickInfo)):be(T,U,1,re))}function he({stream:T,state:D,count:U,cb:Q}){return D.afterWriteTickInfo=null,be(T,D,U,Q)}function be(T,D,U,Q){for(!D.ending&&!T.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,T.emit("drain"));U-- >0;)D.pendingcb--,Q();D.destroyed&&X(D),K(T,D)}function X(T){if(T.writing)return;for(let re=T.bufferedIndex;re<T.buffered.length;++re){var D;let{chunk:se,callback:B}=T.buffered[re],ee=T.objectMode?1:se.length;T.length-=ee,B((D=T.errored)!==null&&D!==void 0?D:new A("write"))}let U=T[le].splice(0);for(let re=0;re<U.length;re++){var Q;U[re]((Q=T.errored)!==null&&Q!==void 0?Q:new A("end"))}de(T)}function Pe(T,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:U,bufferedIndex:Q,objectMode:re}=D,se=U.length-Q;if(!se)return;let B=Q;if(D.bufferProcessing=!0,se>1&&T._writev){D.pendingcb-=se-1;let ee=D.allNoop?J:te=>{for(let Se=B;Se<U.length;++Se)U[Se].callback(te)},pe=D.allNoop&&B===0?U:r(U,B);pe.allBuffers=D.allBuffers,ae(T,D,!0,D.length,pe,"",ee),de(D)}else{do{let{chunk:ee,encoding:pe,callback:te}=U[B];U[B++]=null;let Se=re?1:ee.length;ae(T,D,!1,Se,ee,pe,te)}while(B<U.length&&!D.writing);B===U.length?de(D):B>256?(U.splice(0,B),D.bufferedIndex=0):D.bufferedIndex=B}D.bufferProcessing=!1}oe.prototype._write=function(T,D,U){if(this._writev)this._writev([{chunk:T,encoding:D}],U);else throw new P("_write()")},oe.prototype._writev=null,oe.prototype.end=function(T,D,U){let Q=this._writableState;typeof T=="function"?(U=T,T=null,D=null):typeof D=="function"&&(U=D,D=null);let re;if(T!=null){let se=fe(this,T,D);se instanceof i&&(re=se)}return Q.corked&&(Q.corked=1,this.uncork()),re||(!Q.errored&&!Q.ending?(Q.ending=!0,K(this,Q,!0),Q.ended=!0):Q.finished?re=new M("end"):Q.destroyed&&(re=new A("end"))),typeof U=="function"&&(re||Q.finished?n.nextTick(U,re):Q[le].push(U)),this};function L(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function N(T,D){let U=!1;function Q(re){if(U){I(T,re??S());return}if(U=!0,D.pendingcb--,re){let se=D[le].splice(0);for(let B=0;B<se.length;B++)se[B](re);I(T,re,D.sync)}else L(D)&&(D.prefinished=!0,T.emit("prefinish"),D.pendingcb++,n.nextTick(Z,T,D))}D.sync=!0,D.pendingcb++;try{T._final(Q)}catch(re){Q(re)}D.sync=!1}function ne(T,D){!D.prefinished&&!D.finalCalled&&(typeof T._final=="function"&&!D.destroyed?(D.finalCalled=!0,N(T,D)):(D.prefinished=!0,T.emit("prefinish")))}function K(T,D,U){L(D)&&(ne(T,D),D.pendingcb===0&&(U?(D.pendingcb++,n.nextTick((Q,re)=>{L(re)?Z(Q,re):re.pendingcb--},T,D)):L(D)&&(D.pendingcb++,Z(T,D))))}function Z(T,D){D.pendingcb--,D.finished=!0;let U=D[le].splice(0);for(let Q=0;Q<U.length;Q++)U[Q]();if(T.emit("finish"),D.autoDestroy){let Q=T._readableState;(!Q||Q.autoDestroy&&(Q.endEmitted||Q.readable===!1))&&T.destroy()}}a(oe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){let T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ie=b.destroy;oe.prototype.destroy=function(T,D){let U=this._writableState;return!U.destroyed&&(U.bufferedIndex<U.buffered.length||U[le].length)&&n.nextTick(X,U),ie.call(this,T,D),this},oe.prototype._undestroy=b.undestroy,oe.prototype._destroy=function(T,D){D(T)},oe.prototype[d.captureRejectionSymbol]=function(T){this.destroy(T)};var k;function O(){return k===void 0&&(k={}),k}oe.fromWeb=function(T,D){return O().newStreamWritableFromWritableStream(T,D)},oe.toWeb=function(T){return O().newWritableStreamFromStreamWritable(T)}}),bP=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),r=(Gt(),mt(Kt)),{isReadable:i,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:u,isReadableStream:f,isWritableStream:d}=Fr(),h=bi(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=gn(),{destroyer:v}=ro(),y=Lr(),x=Pc(),P=Fh(),{createDeferredPromise:S}=yn(),E=fw(),A=globalThis.Blob||r.Blob,M=typeof A<"u"?function(le){return le instanceof A}:function(le){return!1},W=globalThis.AbortController||da().AbortController,{FunctionPrototypeCall:V}=Ot(),q=class extends y{constructor(le){super(le),(le==null?void 0:le.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(le==null?void 0:le.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function le(G,de){if(u(G))return G;if(l(G))return J({readable:G});if(c(G))return J({writable:G});if(a(G))return J({writable:!1,readable:!1});if(f(G))return J({readable:x.fromWeb(G)});if(d(G))return J({writable:P.fromWeb(G)});if(typeof G=="function"){let{value:fe,write:me,final:ae,destroy:ge}=I(G);if(o(fe))return E(q,fe,{objectMode:!0,write:me,final:ae,destroy:ge});let F=fe==null?void 0:fe.then;if(typeof F=="function"){let he,be=V(F,fe,X=>{if(X!=null)throw new m("nully","body",X)},X=>{v(he,X)});return he=new q({objectMode:!0,readable:!1,write:me,final(X){ae(async()=>{try{await be,n.nextTick(X,null)}catch(Pe){n.nextTick(X,Pe)}})},destroy:ge})}throw new m("Iterable, AsyncIterable or AsyncFunction",de,fe)}if(M(G))return le(G.arrayBuffer());if(o(G))return E(q,G,{objectMode:!0,writable:!1});if(f(G==null?void 0:G.readable)&&d(G==null?void 0:G.writable))return q.fromWeb(G);if(typeof(G==null?void 0:G.writable)=="object"||typeof(G==null?void 0:G.readable)=="object"){let fe=G!=null&&G.readable?l(G==null?void 0:G.readable)?G==null?void 0:G.readable:le(G.readable):void 0,me=G!=null&&G.writable?c(G==null?void 0:G.writable)?G==null?void 0:G.writable:le(G.writable):void 0;return J({readable:fe,writable:me})}let oe=G==null?void 0:G.then;if(typeof oe=="function"){let fe;return V(oe,G,me=>{me!=null&&fe.push(me),fe.push(null)},me=>{v(fe,me)}),fe=new q({objectMode:!0,writable:!1,read(){}})}throw new b(de,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],G)};function I(le){let{promise:G,resolve:de}=S(),oe=new W,fe=oe.signal;return{value:le(async function*(){for(;;){let me=G;G=null;let{chunk:ae,done:ge,cb:F}=await me;if(n.nextTick(F),ge)return;if(fe.aborted)throw new p(void 0,{cause:fe.reason});({promise:G,resolve:de}=S()),yield ae}}(),{signal:fe}),write(me,ae,ge){let F=de;de=null,F({chunk:me,done:!1,cb:ge})},final(me){let ae=de;de=null,ae({done:!0,cb:me})},destroy(me,ae){oe.abort(),ae(me)}}}function J(le){let G=le.readable&&typeof le.readable.read!="function"?x.wrap(le.readable):le.readable,de=le.writable,oe=!!i(G),fe=!!s(de),me,ae,ge,F,he;function be(X){let Pe=F;F=null,Pe?Pe(X):X&&he.destroy(X)}return he=new q({readableObjectMode:!!(G!=null&&G.readableObjectMode),writableObjectMode:!!(de!=null&&de.writableObjectMode),readable:oe,writable:fe}),fe&&(h(de,X=>{fe=!1,X&&v(G,X),be(X)}),he._write=function(X,Pe,L){de.write(X,Pe)?L():me=L},he._final=function(X){de.end(),ae=X},de.on("drain",function(){if(me){let X=me;me=null,X()}}),de.on("finish",function(){if(ae){let X=ae;ae=null,X()}})),oe&&(h(G,X=>{oe=!1,X&&v(G,X),be(X)}),G.on("readable",function(){if(ge){let X=ge;ge=null,X()}}),G.on("end",function(){he.push(null)}),he._read=function(){for(;;){let X=G.read();if(X===null){ge=he._read;return}if(!he.push(X))return}}),he._destroy=function(X,Pe){!X&&F!==null&&(X=new p),ge=null,me=null,ae=null,F===null?Pe(X):(F=Pe,v(de,X),v(G,X))},he}}),Lr=Ae((e,t)=>{we(),Ee(),xe();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:i,ObjectSetPrototypeOf:s}=Ot();t.exports=l;var o=Pc(),a=Fh();s(l.prototype,o.prototype),s(l,o);{let d=i(a.prototype);for(let h=0;h<d.length;h++){let p=d[h];l.prototype[p]||(l.prototype[p]=a.prototype[p])}}function l(d){if(!(this instanceof l))return new l(d);o.call(this,d),a.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(l.prototype,{writable:{__proto__:null,...r(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(a.prototype,"writableLength")},writableFinished:{__proto__:null,...r(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});var c;function u(){return c===void 0&&(c={}),c}l.fromWeb=function(d,h){return u().newStreamDuplexFromReadableWritablePair(d,h)},l.toWeb=function(d){return u().newReadableWritablePairFromDuplex(d)};var f;l.from=function(d){return f||(f=bP()),f(d,"body")}}),dw=Ae((e,t)=>{we(),Ee(),xe();var{ObjectSetPrototypeOf:n,Symbol:r}=Ot();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=gn().codes,s=Lr(),{getHighWaterMark:o}=Oc();n(l.prototype,s.prototype),n(l,s);var a=r("kCallback");function l(f){if(!(this instanceof l))return new l(f);let d=f?o(this,f,"readableHighWaterMark",!0):null;d===0&&(f={...f,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:f.writableHighWaterMark||0}),s.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function c(f){typeof this._flush=="function"&&!this.destroyed?this._flush((d,h)=>{if(d){f?f(d):this.destroy(d);return}h!=null&&this.push(h),this.push(null),f&&f()}):(this.push(null),f&&f())}function u(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(f,d,h){throw new i("_transform()")},l.prototype._write=function(f,d,h){let p=this._readableState,b=this._writableState,m=p.length;this._transform(f,d,(v,y)=>{if(v){h(v);return}y!=null&&this.push(y),b.ended||m===p.length||p.length<p.highWaterMark?h():this[a]=h})},l.prototype._read=function(){if(this[a]){let f=this[a];this[a]=null,f()}}}),hw=Ae((e,t)=>{we(),Ee(),xe();var{ObjectSetPrototypeOf:n}=Ot();t.exports=i;var r=dw();n(i.prototype,r.prototype),n(i,r);function i(s){if(!(this instanceof i))return new i(s);r.call(this,s)}i.prototype._transform=function(s,o,a){a(null,s)}}),Uh=Ae((e,t)=>{we(),Ee(),xe();var n=fs(),{ArrayIsArray:r,Promise:i,SymbolAsyncIterator:s,SymbolDispose:o}=Ot(),a=bi(),{once:l}=yn(),c=ro(),u=Lr(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:v}=gn(),{validateFunction:y,validateAbortSignal:x}=Ia(),{isIterable:P,isReadable:S,isReadableNodeStream:E,isNodeStream:A,isTransformStream:M,isWebStream:W,isReadableStream:V,isReadableFinished:q}=Fr(),I=globalThis.AbortController||da().AbortController,J,le,G;function de(X,Pe,L){let N=!1;X.on("close",()=>{N=!0});let ne=a(X,{readable:Pe,writable:L},K=>{N=!K});return{destroy:K=>{N||(N=!0,c.destroyer(X,K||new b("pipe")))},cleanup:ne}}function oe(X){return y(X[X.length-1],"streams[stream.length - 1]"),X.pop()}function fe(X){if(P(X))return X;if(E(X))return me(X);throw new d("val",["Readable","Iterable","AsyncIterable"],X)}async function*me(X){le||(le=Pc()),yield*le.prototype[s].call(X)}async function ae(X,Pe,L,{end:N}){let ne,K=null,Z=O=>{if(O&&(ne=O),K){let T=K;K=null,T()}},ie=()=>new i((O,T)=>{ne?T(ne):K=()=>{ne?T(ne):O()}});Pe.on("drain",Z);let k=a(Pe,{readable:!1},Z);try{Pe.writableNeedDrain&&await ie();for await(let O of X)Pe.write(O)||await ie();N&&(Pe.end(),await ie()),L()}catch(O){L(ne!==O?f(ne,O):O)}finally{k(),Pe.off("drain",Z)}}async function ge(X,Pe,L,{end:N}){M(Pe)&&(Pe=Pe.writable);let ne=Pe.getWriter();try{for await(let K of X)await ne.ready,ne.write(K).catch(()=>{});await ne.ready,N&&await ne.close(),L()}catch(K){try{await ne.abort(K),L(K)}catch(Z){L(Z)}}}function F(...X){return he(X,l(oe(X)))}function he(X,Pe,L){if(X.length===1&&r(X[0])&&(X=X[0]),X.length<2)throw new p("streams");let N=new I,ne=N.signal,K=L==null?void 0:L.signal,Z=[];x(K,"options.signal");function ie(){re(new v)}G=G||yn().addAbortListener;let k;K&&(k=G(K,ie));let O,T,D=[],U=0;function Q(pe){re(pe,--U===0)}function re(pe,te){var Se;if(pe&&(!O||O.code==="ERR_STREAM_PREMATURE_CLOSE")&&(O=pe),!(!O&&!te)){for(;D.length;)D.shift()(O);(Se=k)===null||Se===void 0||Se[o](),N.abort(),te&&(O||Z.forEach(g=>g()),n.nextTick(Pe,O,T))}}let se;for(let pe=0;pe<X.length;pe++){let te=X[pe],Se=pe<X.length-1,g=pe>0,_=Se||(L==null?void 0:L.end)!==!1,w=pe===X.length-1;if(A(te)){let C=function($){$&&$.name!=="AbortError"&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Q($)};if(_){let{destroy:$,cleanup:Y}=de(te,Se,g);D.push($),S(te)&&w&&Z.push(Y)}te.on("error",C),S(te)&&w&&Z.push(()=>{te.removeListener("error",C)})}if(pe===0)if(typeof te=="function"){if(se=te({signal:ne}),!P(se))throw new h("Iterable, AsyncIterable or Stream","source",se)}else P(te)||E(te)||M(te)?se=te:se=u.from(te);else if(typeof te=="function"){if(M(se)){var B;se=fe((B=se)===null||B===void 0?void 0:B.readable)}else se=fe(se);if(se=te(se,{signal:ne}),Se){if(!P(se,!0))throw new h("AsyncIterable",`transform[${pe-1}]`,se)}else{var ee;J||(J=hw());let C=new J({objectMode:!0}),$=(ee=se)===null||ee===void 0?void 0:ee.then;if(typeof $=="function")U++,$.call(se,Te=>{T=Te,Te!=null&&C.write(Te),_&&C.end(),n.nextTick(Q)},Te=>{C.destroy(Te),n.nextTick(Q,Te)});else if(P(se,!0))U++,ae(se,C,Q,{end:_});else if(V(se)||M(se)){let Te=se.readable||se;U++,ae(Te,C,Q,{end:_})}else throw new h("AsyncIterable or Promise","destination",se);se=C;let{destroy:Y,cleanup:ce}=de(se,!1,!0);D.push(Y),w&&Z.push(ce)}}else if(A(te)){if(E(se)){U+=2;let C=be(se,te,Q,{end:_});S(te)&&w&&Z.push(C)}else if(M(se)||V(se)){let C=se.readable||se;U++,ae(C,te,Q,{end:_})}else if(P(se))U++,ae(se,te,Q,{end:_});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);se=te}else if(W(te)){if(E(se))U++,ge(fe(se),te,Q,{end:_});else if(V(se)||P(se))U++,ge(se,te,Q,{end:_});else if(M(se))U++,ge(se.readable,te,Q,{end:_});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],se);se=te}else se=u.from(te)}return(ne!=null&&ne.aborted||K!=null&&K.aborted)&&n.nextTick(ie),se}function be(X,Pe,L,{end:N}){let ne=!1;if(Pe.on("close",()=>{ne||L(new m)}),X.pipe(Pe,{end:!1}),N){let K=function(){ne=!0,Pe.end()};q(X)?n.nextTick(K):X.once("end",K)}else L();return a(X,{readable:!0,writable:!1},K=>{let Z=X._readableState;K&&K.code==="ERR_STREAM_PREMATURE_CLOSE"&&Z&&Z.ended&&!Z.errored&&!Z.errorEmitted?X.once("end",L).once("error",L):L(K)}),a(Pe,{readable:!1,writable:!0},L)}t.exports={pipelineImpl:he,pipeline:F}}),pw=Ae((e,t)=>{we(),Ee(),xe();var{pipeline:n}=Uh(),r=Lr(),{destroyer:i}=ro(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:c,isWritableStream:u,isReadableStream:f}=Fr(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:p}}=gn(),b=bi();t.exports=function(...m){if(m.length===0)throw new p("streams");if(m.length===1)return r.from(m[0]);let v=[...m];if(typeof m[0]=="function"&&(m[0]=r.from(m[0])),typeof m[m.length-1]=="function"){let I=m.length-1;m[I]=r.from(m[I])}for(let I=0;I<m.length;++I)if(!(!s(m[I])&&!l(m[I]))){if(I<m.length-1&&!(o(m[I])||f(m[I])||c(m[I])))throw new h(`streams[${I}]`,v[I],"must be readable");if(I>0&&!(a(m[I])||u(m[I])||c(m[I])))throw new h(`streams[${I}]`,v[I],"must be writable")}let y,x,P,S,E;function A(I){let J=S;S=null,J?J(I):I?E.destroy(I):!q&&!V&&E.destroy()}let M=m[0],W=n(m,A),V=!!(a(M)||u(M)||c(M)),q=!!(o(W)||f(W)||c(W));if(E=new r({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!(W!=null&&W.readableObjectMode),writable:V,readable:q}),V){if(s(M))E._write=function(J,le,G){M.write(J,le)?G():y=G},E._final=function(J){M.end(),x=J},M.on("drain",function(){if(y){let J=y;y=null,J()}});else if(l(M)){let J=(c(M)?M.writable:M).getWriter();E._write=async function(le,G,de){try{await J.ready,J.write(le).catch(()=>{}),de()}catch(oe){de(oe)}},E._final=async function(le){try{await J.ready,J.close().catch(()=>{}),x=le}catch(G){le(G)}}}let I=c(W)?W.readable:W;b(I,()=>{if(x){let J=x;x=null,J()}})}if(q){if(s(W))W.on("readable",function(){if(P){let I=P;P=null,I()}}),W.on("end",function(){E.push(null)}),E._read=function(){for(;;){let I=W.read();if(I===null){P=E._read;return}if(!E.push(I))return}};else if(l(W)){let I=(c(W)?W.readable:W).getReader();E._read=async function(){for(;;)try{let{value:J,done:le}=await I.read();if(!E.push(J))return;if(le){E.push(null);return}}catch{return}}}}return E._destroy=function(I,J){!I&&S!==null&&(I=new d),P=null,y=null,x=null,S===null?J(I):(S=J,s(W)&&i(W,I))},E}}),yP=Ae((e,t)=>{we(),Ee(),xe();var n=globalThis.AbortController||da().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=gn(),{validateAbortSignal:l,validateInteger:c,validateObject:u}=Ia(),f=Ot().Symbol("kWeak"),d=Ot().Symbol("kResistStopPropagation"),{finished:h}=bi(),p=pw(),{addAbortSignalNoValidate:b}=Ic(),{isWritable:m,isNodeStream:v}=Fr(),{deprecate:y}=yn(),{ArrayPrototypePush:x,Boolean:P,MathFloor:S,Number:E,NumberIsNaN:A,Promise:M,PromiseReject:W,PromiseResolve:V,PromisePrototypeThen:q,Symbol:I}=Ot(),J=I("kEmpty"),le=I("kEof");function G(K,Z){if(Z!=null&&u(Z,"options"),(Z==null?void 0:Z.signal)!=null&&l(Z.signal,"options.signal"),v(K)&&!m(K))throw new r("stream",K,"must be writable");let ie=p(this,K);return Z!=null&&Z.signal&&b(Z.signal,ie),ie}function de(K,Z){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);Z!=null&&u(Z,"options"),(Z==null?void 0:Z.signal)!=null&&l(Z.signal,"options.signal");let ie=1;(Z==null?void 0:Z.concurrency)!=null&&(ie=S(Z.concurrency));let k=ie-1;return(Z==null?void 0:Z.highWaterMark)!=null&&(k=S(Z.highWaterMark)),c(ie,"options.concurrency",1),c(k,"options.highWaterMark",0),k+=ie,(async function*(){let O=yn().AbortSignalAny([Z==null?void 0:Z.signal].filter(P)),T=this,D=[],U={signal:O},Q,re,se=!1,B=0;function ee(){se=!0,pe()}function pe(){B-=1,te()}function te(){re&&!se&&B<ie&&D.length<k&&(re(),re=null)}async function Se(){try{for await(let g of T){if(se)return;if(O.aborted)throw new a;try{if(g=K(g,U),g===J)continue;g=V(g)}catch(_){g=W(_)}B+=1,q(g,pe,ee),D.push(g),Q&&(Q(),Q=null),!se&&(D.length>=k||B>=ie)&&await new M(_=>{re=_})}D.push(le)}catch(g){let _=W(g);q(_,pe,ee),D.push(_)}finally{se=!0,Q&&(Q(),Q=null)}}Se();try{for(;;){for(;D.length>0;){let g=await D[0];if(g===le)return;if(O.aborted)throw new a;g!==J&&(yield g),D.shift(),te()}await new M(g=>{Q=g})}}finally{se=!0,re&&(re(),re=null)}}).call(this)}function oe(K=void 0){return K!=null&&u(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal"),(async function*(){let Z=0;for await(let k of this){var ie;if(K!=null&&(ie=K.signal)!==null&&ie!==void 0&&ie.aborted)throw new a({cause:K.signal.reason});yield[Z++,k]}}).call(this)}async function fe(K,Z=void 0){for await(let ie of F.call(this,K,Z))return!0;return!1}async function me(K,Z=void 0){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);return!await fe.call(this,async(...ie)=>!await K(...ie),Z)}async function ae(K,Z){for await(let ie of F.call(this,K,Z))return ie}async function ge(K,Z){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);async function ie(k,O){return await K(k,O),J}for await(let k of de.call(this,ie,Z));}function F(K,Z){if(typeof K!="function")throw new i("fn",["Function","AsyncFunction"],K);async function ie(k,O){return await K(k,O)?k:J}return de.call(this,ie,Z)}var he=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(K,Z,ie){var k;if(typeof K!="function")throw new i("reducer",["Function","AsyncFunction"],K);ie!=null&&u(ie,"options"),(ie==null?void 0:ie.signal)!=null&&l(ie.signal,"options.signal");let O=arguments.length>1;if(ie!=null&&(k=ie.signal)!==null&&k!==void 0&&k.aborted){let re=new a(void 0,{cause:ie.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(re)),re}let T=new n,D=T.signal;if(ie!=null&&ie.signal){let re={once:!0,[f]:this,[d]:!0};ie.signal.addEventListener("abort",()=>T.abort(),re)}let U=!1;try{for await(let re of this){var Q;if(U=!0,ie!=null&&(Q=ie.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;O?Z=await K(Z,re,{signal:D}):(Z=re,O=!0)}if(!U&&!O)throw new he}finally{T.abort()}return Z}async function X(K){K!=null&&u(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal");let Z=[];for await(let k of this){var ie;if(K!=null&&(ie=K.signal)!==null&&ie!==void 0&&ie.aborted)throw new a(void 0,{cause:K.signal.reason});x(Z,k)}return Z}function Pe(K,Z){let ie=de.call(this,K,Z);return(async function*(){for await(let k of ie)yield*k}).call(this)}function L(K){if(K=E(K),A(K))return 0;if(K<0)throw new o("number",">= 0",K);return K}function N(K,Z=void 0){return Z!=null&&u(Z,"options"),(Z==null?void 0:Z.signal)!=null&&l(Z.signal,"options.signal"),K=L(K),(async function*(){var ie;if(Z!=null&&(ie=Z.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(let O of this){var k;if(Z!=null&&(k=Z.signal)!==null&&k!==void 0&&k.aborted)throw new a;K--<=0&&(yield O)}}).call(this)}function ne(K,Z=void 0){return Z!=null&&u(Z,"options"),(Z==null?void 0:Z.signal)!=null&&l(Z.signal,"options.signal"),K=L(K),(async function*(){var ie;if(Z!=null&&(ie=Z.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(let O of this){var k;if(Z!=null&&(k=Z.signal)!==null&&k!==void 0&&k.aborted)throw new a;if(K-- >0&&(yield O),K<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:y(oe,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:F,flatMap:Pe,map:de,take:ne,compose:G},t.exports.promiseReturningOperators={every:me,forEach:ge,reduce:be,toArray:X,some:fe,find:ae}}),gw=Ae((e,t)=>{we(),Ee(),xe();var{ArrayPrototypePop:n,Promise:r}=Ot(),{isIterable:i,isNodeStream:s,isWebStream:o}=Fr(),{pipelineImpl:a}=Uh(),{finished:l}=bi();mw();function c(...u){return new r((f,d)=>{let h,p,b=u[u.length-1];if(b&&typeof b=="object"&&!s(b)&&!i(b)&&!o(b)){let m=n(u);h=m.signal,p=m.end}a(u,(m,v)=>{m?d(m):f(v)},{signal:h,end:p})})}t.exports={finished:l,pipeline:c}}),mw=Ae((e,t)=>{we(),Ee(),xe();var{Buffer:n}=(Gt(),mt(Kt)),{ObjectDefineProperty:r,ObjectKeys:i,ReflectApply:s}=Ot(),{promisify:{custom:o}}=yn(),{streamReturningOperators:a,promiseReturningOperators:l}=yP(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=gn(),u=pw(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:d}=Oc(),{pipeline:h}=Uh(),{destroyer:p}=ro(),b=bi(),m=gw(),v=Fr(),y=t.exports=jh().Stream;y.isDestroyed=v.isDestroyed,y.isDisturbed=v.isDisturbed,y.isErrored=v.isErrored,y.isReadable=v.isReadable,y.isWritable=v.isWritable,y.Readable=Pc();for(let P of i(a)){let S=function(...A){if(new.target)throw c();return y.Readable.from(s(E,this,A))},E=a[P];r(S,"name",{__proto__:null,value:E.name}),r(S,"length",{__proto__:null,value:E.length}),r(y.Readable.prototype,P,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(let P of i(l)){let S=function(...A){if(new.target)throw c();return s(E,this,A)},E=l[P];r(S,"name",{__proto__:null,value:E.name}),r(S,"length",{__proto__:null,value:E.length}),r(y.Readable.prototype,P,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}y.Writable=Fh(),y.Duplex=Lr(),y.Transform=dw(),y.PassThrough=hw(),y.pipeline=h;var{addAbortSignal:x}=Ic();y.addAbortSignal=x,y.finished=b,y.destroy=p,y.compose=u,y.setDefaultHighWaterMark=f,y.getDefaultHighWaterMark=d,r(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),r(h,o,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),r(b,o,{__proto__:null,enumerable:!0,get(){return m.finished}}),y.Stream=y,y._isUint8Array=function(P){return P instanceof Uint8Array},y._uint8ArrayToBuffer=function(P){return n.from(P.buffer,P.byteOffset,P.byteLength)}}),ds=Ae((e,t)=>{we(),Ee(),xe();var n=mw(),r=gw(),i=n.Readable.destroy;t.exports=n.Readable,t.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,t.exports._isUint8Array=n._isUint8Array,t.exports.isDisturbed=n.isDisturbed,t.exports.isErrored=n.isErrored,t.exports.isReadable=n.isReadable,t.exports.Readable=n.Readable,t.exports.Writable=n.Writable,t.exports.Duplex=n.Duplex,t.exports.Transform=n.Transform,t.exports.PassThrough=n.PassThrough,t.exports.addAbortSignal=n.addAbortSignal,t.exports.finished=n.finished,t.exports.destroy=n.destroy,t.exports.destroy=i,t.exports.pipeline=n.pipeline,t.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=n.Stream,t.exports.default=t.exports}),vP=Ae((e,t)=>{we(),Ee(),xe(),typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),wP=Ae((e,t)=>{we(),Ee(),xe();var{Buffer:n}=(Gt(),mt(Kt)),r=Symbol.for("BufferList");function i(s){if(!(this instanceof i))return new i(s);i._init.call(this,s)}i._init=function(s){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},i.prototype._new=function(s){return new i(s)},i.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},i.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},i.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},i.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},i.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||n.alloc(0);let c=!!s,u=this._offset(a),f=l-a,d=f,h=c&&o||0,p=u[1];if(a===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(s,h),h+=this._bufs[b].length;return s}if(d<=this._bufs[u[0]].length-p)return c?this._bufs[u[0]].copy(s,o,p,p+d):this._bufs[u[0]].slice(p,p+d);c||(s=n.allocUnsafe(f));for(let b=u[0];b<this._bufs.length;b++){let m=this._bufs[b].length-p;if(d>m)this._bufs[b].copy(s,h,p),h+=m;else{this._bufs[b].copy(s,h,p,p+d),h+=m;break}d-=m,p&&(p=0)}return s.length>h?s.slice(0,h):s},i.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),c=this._bufs.slice(a[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),a[1]!==0&&(c[0]=c[0].slice(a[1])),this._new(c)},i.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},i.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},i.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},i.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(n.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let o=0;o<s.length;o++)this.append(s[o]);else if(this._isBufferList(s))for(let o=0;o<s._bufs.length;o++)this.append(s._bufs[o]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(n.from(s));return this},i.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},i.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=n.from([s]):typeof s=="string"?s=n.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=n.from(s.buffer,s.byteOffset,s.byteLength):n.isBuffer(s)||(s=n.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),c=l[0],u=l[1];for(;c<this._bufs.length;c++){let f=this._bufs[c];for(;u<f.length;)if(f.length-u>=s.length){let d=f.indexOf(s,u);if(d!==-1)return this._reverseOffset([c,d]);u=f.length-s.length+1}else{let d=this._reverseOffset([c,u]);if(this._match(d,s))return d;u++}u=0}return-1},i.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?i.prototype[a]=function(l,c){return this.slice(l,l+c)[a](0,c)}:i.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)}(),i.prototype._isBufferList=function(s){return s instanceof i||i.isBufferList(s)},i.isBufferList=function(s){return s!=null&&s[r]},t.exports=i}),xP=Ae((e,t)=>{we(),Ee(),xe();var n=ds().Duplex,r=vP(),i=wP();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}i._init.call(this,o),n.call(this)}r(s,n),Object.assign(s.prototype,i.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){n.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof i||s.isBufferList(o)},s.isBufferList=i.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=i}),EP=Ae((e,t)=>{we(),Ee(),xe();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=n}),_w=Ae((e,t)=>{we(),Ee(),xe();var n=t.exports,{Buffer:r}=(Gt(),mt(Kt));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let s in n.requiredHeaderFlags){let o=n.requiredHeaderFlags[s];n.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+n.types[s]+" packet"}n.codes={};for(let s in n.types){let o=n.types[s];n.codes[o]=s}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let s in n.properties){let o=n.properties[s];n.propertiesCodes[o]=s}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let c=r.alloc(1);return c.writeUInt8(n.codes[s]<<n.CMD_SHIFT|(a?n.DUP_MASK:0)|o<<n.QOS_SHIFT|l,0,!0),c})))}n.PUBLISH_HEADER=i("publish"),n.SUBSCRIBE_HEADER=i("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=i("unsubscribe"),n.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(s=>r.from([s])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),SP=Ae((e,t)=>{we(),Ee(),xe();var n=1e3,r=n*60,i=r*60,s=i*24,o=s*7,a=s*365.25;t.exports=function(d,h){h=h||{};var p=typeof d;if(p==="string"&&d.length>0)return l(d);if(p==="number"&&isFinite(d))return h.long?u(d):c(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function l(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),b=(h[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return p*a;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*s;case"hours":case"hour":case"hrs":case"hr":case"h":return p*i;case"minutes":case"minute":case"mins":case"min":case"m":return p*r;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function c(d){var h=Math.abs(d);return h>=s?Math.round(d/s)+"d":h>=i?Math.round(d/i)+"h":h>=r?Math.round(d/r)+"m":h>=n?Math.round(d/n)+"s":d+"ms"}function u(d){var h=Math.abs(d);return h>=s?f(d,h,s,"day"):h>=i?f(d,h,i,"hour"):h>=r?f(d,h,r,"minute"):h>=n?f(d,h,n,"second"):d+" ms"}function f(d,h,p,b){var m=h>=p*1.5;return Math.round(d/p)+" "+b+(m?"s":"")}}),kP=Ae((e,t)=>{we(),Ee(),xe();function n(r){s.debug=s,s.default=s,s.coerce=f,s.disable=c,s.enable=a,s.enabled=u,s.humanize=SP(),s.destroy=d,Object.keys(r).forEach(h=>{s[h]=r[h]}),s.names=[],s.skips=[],s.formatters={};function i(h){let p=0;for(let b=0;b<h.length;b++)p=(p<<5)-p+h.charCodeAt(b),p|=0;return s.colors[Math.abs(p)%s.colors.length]}s.selectColor=i;function s(h){let p,b=null,m,v;function y(...x){if(!y.enabled)return;let P=y,S=Number(new Date),E=S-(p||S);P.diff=E,P.prev=p,P.curr=S,p=S,x[0]=s.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let A=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(M,W)=>{if(M==="%%")return"%";A++;let V=s.formatters[W];if(typeof V=="function"){let q=x[A];M=V.call(P,q),x.splice(A,1),A--}return M}),s.formatArgs.call(P,x),(P.log||s.log).apply(P,x)}return y.namespace=h,y.useColors=s.useColors(),y.color=s.selectColor(h),y.extend=o,y.destroy=s.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(m!==s.namespaces&&(m=s.namespaces,v=s.enabled(h)),v),set:x=>{b=x}}),typeof s.init=="function"&&s.init(y),y}function o(h,p){let b=s(this.namespace+(typeof p>"u"?":":p)+h);return b.log=this.log,b}function a(h){s.save(h),s.namespaces=h,s.names=[],s.skips=[];let p=(typeof h=="string"?h:"").trim().replace(" ",",").split(",").filter(Boolean);for(let b of p)b[0]==="-"?s.skips.push(b.slice(1)):s.names.push(b)}function l(h,p){let b=0,m=0,v=-1,y=0;for(;b<h.length;)if(m<p.length&&(p[m]===h[b]||p[m]==="*"))p[m]==="*"?(v=m,y=b,m++):(b++,m++);else if(v!==-1)m=v+1,y++,b=y;else return!1;for(;m<p.length&&p[m]==="*";)m++;return m===p.length}function c(){let h=[...s.names,...s.skips.map(p=>"-"+p)].join(",");return s.enable(""),h}function u(h){for(let p of s.skips)if(l(h,p))return!1;for(let p of s.names)if(l(h,p))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=n}),Nr=Ae((e,t)=>{we(),Ee(),xe(),e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof ot<"u"&&"env"in ot&&(l=ot.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=kP()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),AP=Ae((e,t)=>{we(),Ee(),xe();var n=xP(),{EventEmitter:r}=(us(),mt(_i)),i=EP(),s=_w(),o=Nr()("mqtt-packet:parser"),a=class Sd extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof Sd?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Sd().parser(c)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=n(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),u=c>>s.CMD_SHIFT;this.packet.cmd=s.types[u];let f=c&15,d=s.requiredHeaderFlags[u];return d!=null&&f!==d?this._emitError(new Error(s.requiredHeaderFlagsErrors[u])):(this.packet.retain=(c&s.RETAIN_MASK)!==0,this.packet.qos=c>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),o("_parseLength %d",c.value),!!c}_parsePayload(){o("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return o("_parsePayload complete result: %s",c),c}_parseConnect(){o("_parseConnect");let c,u,f,d,h={},p=this.packet,b=this._parseString();if(b===null)return this._emitError(new Error("Cannot parse protocolId"));if(b!=="MQTT"&&b!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(p.protocolId=b,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.protocolVersion=this._list.readUInt8(this._pos),p.protocolVersion>=128&&(p.bridgeMode=!0,p.protocolVersion=p.protocolVersion-128),p.protocolVersion!==3&&p.protocolVersion!==4&&p.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));h.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,h.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,h.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let m=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),v=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(h.will)p.will={},p.will.retain=m,p.will.qos=v;else{if(m)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(v)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(p.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,p.keepalive=this._parseNum(),p.keepalive===-1)return this._emitError(new Error("Packet too short"));if(p.protocolVersion===5){let x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(p.properties=x)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(p.clientId=y,o("_parseConnect: packet.clientId: %s",p.clientId),h.will){if(p.protocolVersion===5){let x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(p.will.properties=x)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(p.will.topic=c,o("_parseConnect: packet.will.topic: %s",p.will.topic),u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse will payload"));p.will.payload=u,o("_parseConnect: packet.will.paylaod: %s",p.will.payload)}if(h.username){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse username"));p.username=d,o("_parseConnect: packet.username: %s",p.username)}if(h.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));p.password=f}return this.settings=p,o("_parseConnect: complete"),p}_parseConnack(){o("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let u=this._list.readUInt8(this._pos++);if(u>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(u&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}c.payload=this._list.slice(this._pos,c.length),o("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){o("_parseSubscribe");let c=this.packet,u,f,d,h,p,b,m;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(c.properties=v)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(d=f&s.SUBSCRIBE_OPTIONS_QOS_MASK,d>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(b=(f>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,p=(f>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,h=f>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,h>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));m={topic:u,qos:d},this.settings.protocolVersion===5?(m.nl=b,m.rap=p,m.rh=h):this.settings.bridgeMode&&(m.rh=0,m.rap=!0,m.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",m),c.subscriptions.push(m)}}}_parseSuback(){o("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let u=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[u])return this._emitError(new Error("Invalid suback code"))}else if(u>2&&u!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(u)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",u),c.unsubscriptions.push(u)}}}_parseUnsuback(){o("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let u=this._parseProperties();for(Object.getOwnPropertyNames(u).length&&(c.properties=u),c.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}}return!0}_parseDisconnect(){let c=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(c.properties=u)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let u=this._parseProperties();return Object.getOwnPropertyNames(u).length&&(c.properties=u),o("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let u=this._parseNum(),f=u+this._pos;if(u===-1||f>this._list.length||f>this.packet.length)return null;let d=this._list.toString("utf8",this._pos,f);return this._pos+=u,o("_parseString: result: %s",d),d}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),u=c+this._pos;if(c===-1||u>this._list.length||u>this.packet.length)return null;let f=this._list.slice(this._pos,u);return this._pos+=c,o("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){o("_parseVarByteNum");let u=4,f=0,d=1,h=0,p=!1,b,m=this._pos?this._pos:0;for(;f<u&&m+f<this._list.length;){if(b=this._list.readUInt8(m+f++),h+=d*(b&s.VARBYTEINT_MASK),d*=128,(b&s.VARBYTEINT_FIN_MASK)===0){p=!0;break}if(this._list.length<=f)break}return!p&&f===u&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),m&&(this._pos+=f),p?c?p={bytes:f,value:h}:p=h:p=!1,o("_parseVarByteNum: result: %o",p),p}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",c),c}_parseByType(c){switch(o("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let c=this._parseVarByteNum(),u=this._pos+c,f={};for(;this._pos<u;){let d=this._parseByte();if(!d)return this._emitError(new Error("Cannot parse property code type")),!1;let h=s.propertiesCodes[d];if(!h)return this._emitError(new Error("Unknown property")),!1;if(h==="userProperties"){f[h]||(f[h]=Object.create(null));let p=this._parseByType(s.propertiesTypes[h]);if(f[h][p.name])if(Array.isArray(f[h][p.name]))f[h][p.name].push(p.value);else{let b=f[h][p.name];f[h][p.name]=[b],f[h][p.name].push(p.value)}else f[h][p.name]=p.value;continue}f[h]?Array.isArray(f[h])?f[h].push(this._parseByType(s.propertiesTypes[h])):(f[h]=[f[h]],f[h].push(this._parseByType(s.propertiesTypes[h]))):f[h]=this._parseByType(s.propertiesTypes[h])}return f}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(c){o("_emitError",c),this.error=c,this.emit("error",c)}};t.exports=a}),TP=Ae((e,t)=>{we(),Ee(),xe();var{Buffer:n}=(Gt(),mt(Kt)),r=65536,i={},s=n.isBuffer(n.from([1,2]).subarray(0,1));function o(u){let f=n.allocUnsafe(2);return f.writeUInt8(u>>8,0),f.writeUInt8(u&255,1),f}function a(){for(let u=0;u<r;u++)i[u]=o(u)}function l(u){let f=0,d=0,h=n.allocUnsafe(4);do f=u%128|0,u=u/128|0,u>0&&(f=f|128),h.writeUInt8(f,d++);while(u>0&&d<4);return u>0&&(d=0),s?h.subarray(0,d):h.slice(0,d)}function c(u){let f=n.allocUnsafe(4);return f.writeUInt32BE(u,0),f}t.exports={cache:i,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:c}}),CP=Ae((e,t)=>{we(),Ee(),xe(),typeof ot>"u"||!ot.version||ot.version.indexOf("v0.")===0||ot.version.indexOf("v1.")===0&&ot.version.indexOf("v1.8.")!==0?t.exports={nextTick:n}:t.exports=ot;function n(r,i,s,o){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,c;switch(a){case 0:case 1:return ot.nextTick(r);case 2:return ot.nextTick(function(){r.call(null,i)});case 3:return ot.nextTick(function(){r.call(null,i,s)});case 4:return ot.nextTick(function(){r.call(null,i,s,o)});default:for(l=new Array(a-1),c=0;c<l.length;)l[c++]=arguments[c];return ot.nextTick(function(){r.apply(null,l)})}}}),bw=Ae((e,t)=>{we(),Ee(),xe();var n=_w(),{Buffer:r}=(Gt(),mt(Kt)),i=r.allocUnsafe(0),s=r.from([0]),o=TP(),a=CP().nextTick,l=Nr()("mqtt-packet:writeToStream"),c=o.cache,u=o.generateNumber,f=o.generateCache,d=o.genBufVariableByteInt,h=o.generate4ByteBuffer,p=oe,b=!0;function m(L,N,ne){switch(l("generate called"),N.cork&&(N.cork(),a(v,N)),b&&(b=!1,f()),l("generate: packet.cmd: %s",L.cmd),L.cmd){case"connect":return y(L,N);case"connack":return x(L,N,ne);case"publish":return P(L,N,ne);case"puback":case"pubrec":case"pubrel":case"pubcomp":return S(L,N,ne);case"subscribe":return E(L,N,ne);case"suback":return A(L,N,ne);case"unsubscribe":return M(L,N,ne);case"unsuback":return W(L,N,ne);case"pingreq":case"pingresp":return V(L,N);case"disconnect":return q(L,N,ne);case"auth":return I(L,N,ne);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(m,"cacheNumbers",{get(){return p===oe},set(L){L?((!c||Object.keys(c).length===0)&&(b=!0),p=oe):(b=!1,p=fe)}});function v(L){L.uncork()}function y(L,N,ne){let K=L||{},Z=K.protocolId||"MQTT",ie=K.protocolVersion||4,k=K.will,O=K.clean,T=K.keepalive||0,D=K.clientId||"",U=K.username,Q=K.password,re=K.properties;O===void 0&&(O=!0);let se=0;if(typeof Z!="string"&&!r.isBuffer(Z))return N.destroy(new Error("Invalid protocolId")),!1;if(se+=Z.length+2,ie!==3&&ie!==4&&ie!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(se+=1,(typeof D=="string"||r.isBuffer(D))&&(D||ie>=4)&&(D||O))se+=r.byteLength(D)+2;else{if(ie<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(O*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof T!="number"||T<0||T>65535||T%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;se+=2,se+=1;let B,ee;if(ie===5){if(B=ge(N,re),!B)return!1;se+=B.length}if(k){if(typeof k!="object")return N.destroy(new Error("Invalid will")),!1;if(!k.topic||typeof k.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(se+=r.byteLength(k.topic)+2,se+=2,k.payload)if(k.payload.length>=0)typeof k.payload=="string"?se+=r.byteLength(k.payload):se+=k.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(ee={},ie===5){if(ee=ge(N,k.properties),!ee)return!1;se+=ee.length}}let pe=!1;if(U!=null)if(Pe(U))pe=!0,se+=r.byteLength(U)+2;else return N.destroy(new Error("Invalid username")),!1;if(Q!=null){if(!pe)return N.destroy(new Error("Username is required to use password")),!1;if(Pe(Q))se+=X(Q)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(n.CONNECT_HEADER),le(N,se),ae(N,Z),K.bridgeMode&&(ie+=128),N.write(ie===131?n.VERSION131:ie===132?n.VERSION132:ie===4?n.VERSION4:ie===5?n.VERSION5:n.VERSION3);let te=0;return te|=U!=null?n.USERNAME_MASK:0,te|=Q!=null?n.PASSWORD_MASK:0,te|=k&&k.retain?n.WILL_RETAIN_MASK:0,te|=k&&k.qos?k.qos<<n.WILL_QOS_SHIFT:0,te|=k?n.WILL_FLAG_MASK:0,te|=O?n.CLEAN_SESSION_MASK:0,N.write(r.from([te])),p(N,T),ie===5&&B.write(),ae(N,D),k&&(ie===5&&ee.write(),G(N,k.topic),ae(N,k.payload)),U!=null&&ae(N,U),Q!=null&&ae(N,Q),!0}function x(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=K===5?Z.reasonCode:Z.returnCode,k=Z.properties,O=2;if(typeof ie!="number")return N.destroy(new Error("Invalid return code")),!1;let T=null;if(K===5){if(T=ge(N,k),!T)return!1;O+=T.length}return N.write(n.CONNACK_HEADER),le(N,O),N.write(Z.sessionPresent?n.SESSIONPRESENT_HEADER:s),N.write(r.from([ie])),T==null||T.write(),!0}function P(L,N,ne){l("publish: packet: %o",L);let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.qos||0,k=Z.retain?n.RETAIN_MASK:0,O=Z.topic,T=Z.payload||i,D=Z.messageId,U=Z.properties,Q=0;if(typeof O=="string")Q+=r.byteLength(O)+2;else if(r.isBuffer(O))Q+=O.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(T)?Q+=T.length:Q+=r.byteLength(T),ie&&typeof D!="number")return N.destroy(new Error("Invalid messageId")),!1;ie&&(Q+=2);let re=null;if(K===5){if(re=ge(N,U),!re)return!1;Q+=re.length}return N.write(n.PUBLISH_HEADER[ie][Z.dup?1:0][k?1:0]),le(N,Q),p(N,X(O)),N.write(O),ie>0&&p(N,D),re==null||re.write(),l("publish: payload: %o",T),N.write(T)}function S(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.cmd||"puback",k=Z.messageId,O=Z.dup&&ie==="pubrel"?n.DUP_MASK:0,T=0,D=Z.reasonCode,U=Z.properties,Q=K===5?3:2;if(ie==="pubrel"&&(T=1),typeof k!="number")return N.destroy(new Error("Invalid messageId")),!1;let re=null;if(K===5&&typeof U=="object"){if(re=F(N,U,ne,Q),!re)return!1;Q+=re.length}return N.write(n.ACKS[ie][T][O][0]),Q===3&&(Q+=D!==0?1:-1),le(N,Q),p(N,k),K===5&&Q!==2&&N.write(r.from([D])),re!==null?re.write():Q===4&&N.write(r.from([0])),!0}function E(L,N,ne){l("subscribe: packet: ");let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.dup?n.DUP_MASK:0,k=Z.messageId,O=Z.subscriptions,T=Z.properties,D=0;if(typeof k!="number")return N.destroy(new Error("Invalid messageId")),!1;D+=2;let U=null;if(K===5){if(U=ge(N,T),!U)return!1;D+=U.length}if(typeof O=="object"&&O.length)for(let re=0;re<O.length;re+=1){let se=O[re].topic,B=O[re].qos;if(typeof se!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof B!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(K===5){if(typeof(O[re].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(O[re].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ee=O[re].rh||0;if(typeof ee!="number"||ee>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=r.byteLength(se)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),N.write(n.SUBSCRIBE_HEADER[1][ie?1:0][0]),le(N,D),p(N,k),U!==null&&U.write();let Q=!0;for(let re of O){let se=re.topic,B=re.qos,ee=+re.nl,pe=+re.rap,te=re.rh,Se;G(N,se),Se=n.SUBSCRIBE_OPTIONS_QOS[B],K===5&&(Se|=ee?n.SUBSCRIBE_OPTIONS_NL:0,Se|=pe?n.SUBSCRIBE_OPTIONS_RAP:0,Se|=te?n.SUBSCRIBE_OPTIONS_RH[te]:0),Q=N.write(r.from([Se]))}return Q}function A(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.messageId,k=Z.granted,O=Z.properties,T=0;if(typeof ie!="number")return N.destroy(new Error("Invalid messageId")),!1;if(T+=2,typeof k=="object"&&k.length)for(let U=0;U<k.length;U+=1){if(typeof k[U]!="number")return N.destroy(new Error("Invalid qos vector")),!1;T+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let D=null;if(K===5){if(D=F(N,O,ne,T),!D)return!1;T+=D.length}return N.write(n.SUBACK_HEADER),le(N,T),p(N,ie),D!==null&&D.write(),N.write(r.from(k))}function M(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.messageId,k=Z.dup?n.DUP_MASK:0,O=Z.unsubscriptions,T=Z.properties,D=0;if(typeof ie!="number")return N.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof O=="object"&&O.length)for(let re=0;re<O.length;re+=1){if(typeof O[re]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;D+=r.byteLength(O[re])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let U=null;if(K===5){if(U=ge(N,T),!U)return!1;D+=U.length}N.write(n.UNSUBSCRIBE_HEADER[1][k?1:0][0]),le(N,D),p(N,ie),U!==null&&U.write();let Q=!0;for(let re=0;re<O.length;re++)Q=G(N,O[re]);return Q}function W(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.messageId,k=Z.dup?n.DUP_MASK:0,O=Z.granted,T=Z.properties,D=Z.cmd,U=0,Q=2;if(typeof ie!="number")return N.destroy(new Error("Invalid messageId")),!1;if(K===5)if(typeof O=="object"&&O.length)for(let se=0;se<O.length;se+=1){if(typeof O[se]!="number")return N.destroy(new Error("Invalid qos vector")),!1;Q+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let re=null;if(K===5){if(re=F(N,T,ne,Q),!re)return!1;Q+=re.length}return N.write(n.ACKS[D][U][k][0]),le(N,Q),p(N,ie),re!==null&&re.write(),K===5&&N.write(r.from(O)),!0}function V(L,N,ne){return N.write(n.EMPTY[L.cmd])}function q(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.reasonCode,k=Z.properties,O=K===5?1:0,T=null;if(K===5){if(T=F(N,k,ne,O),!T)return!1;O+=T.length}return N.write(r.from([n.codes.disconnect<<4])),le(N,O),K===5&&N.write(r.from([ie])),T!==null&&T.write(),!0}function I(L,N,ne){let K=ne?ne.protocolVersion:4,Z=L||{},ie=Z.reasonCode,k=Z.properties,O=K===5?1:0;K!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let T=F(N,k,ne,O);return T?(O+=T.length,N.write(r.from([n.codes.auth<<4])),le(N,O),N.write(r.from([ie])),T!==null&&T.write(),!0):!1}var J={};function le(L,N){if(N>n.VARBYTEINT_MAX)return L.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ne=J[N];return ne||(ne=d(N),N<16384&&(J[N]=ne)),l("writeVarByteInt: writing to stream: %o",ne),L.write(ne)}function G(L,N){let ne=r.byteLength(N);return p(L,ne),l("writeString: %s",N),L.write(N,"utf8")}function de(L,N,ne){G(L,N),G(L,ne)}function oe(L,N){return l("writeNumberCached: number: %d",N),l("writeNumberCached: %o",c[N]),L.write(c[N])}function fe(L,N){let ne=u(N);return l("writeNumberGenerated: %o",ne),L.write(ne)}function me(L,N){let ne=h(N);return l("write4ByteNumber: %o",ne),L.write(ne)}function ae(L,N){typeof N=="string"?G(L,N):N?(p(L,N.length),L.write(N)):p(L,0)}function ge(L,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){be(L,{},0)}};let ne=0;function K(Z,ie){let k=n.propertiesTypes[Z],O=0;switch(k){case"byte":{if(typeof ie!="boolean")return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=2;break}case"int8":{if(typeof ie!="number"||ie<0||ie>255)return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=2;break}case"binary":{if(ie&&ie===null)return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=1+r.byteLength(ie)+2;break}case"int16":{if(typeof ie!="number"||ie<0||ie>65535)return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=3;break}case"int32":{if(typeof ie!="number"||ie<0||ie>4294967295)return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=5;break}case"var":{if(typeof ie!="number"||ie<0||ie>268435455)return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=1+r.byteLength(d(ie));break}case"string":{if(typeof ie!="string")return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=3+r.byteLength(ie.toString());break}case"pair":{if(typeof ie!="object")return L.destroy(new Error(`Invalid ${Z}: ${ie}`)),!1;O+=Object.getOwnPropertyNames(ie).reduce((T,D)=>{let U=ie[D];return Array.isArray(U)?T+=U.reduce((Q,re)=>(Q+=3+r.byteLength(D.toString())+2+r.byteLength(re.toString()),Q),0):T+=3+r.byteLength(D.toString())+2+r.byteLength(ie[D].toString()),T},0);break}default:return L.destroy(new Error(`Invalid property ${Z}: ${ie}`)),!1}return O}if(N)for(let Z in N){let ie=0,k=0,O=N[Z];if(O!==void 0){if(Array.isArray(O))for(let T=0;T<O.length;T++){if(k=K(Z,O[T]),!k)return!1;ie+=k}else{if(k=K(Z,O),!k)return!1;ie=k}if(!ie)return!1;ne+=ie}}return{length:r.byteLength(d(ne))+ne,write(){be(L,N,ne)}}}function F(L,N,ne,K){let Z=["reasonString","userProperties"],ie=ne&&ne.properties&&ne.properties.maximumPacketSize?ne.properties.maximumPacketSize:0,k=ge(L,N);if(ie)for(;K+k.length>ie;){let O=Z.shift();if(O&&N[O])delete N[O],k=ge(L,N);else return!1}return k}function he(L,N,ne){switch(n.propertiesTypes[N]){case"byte":{L.write(r.from([n.properties[N]])),L.write(r.from([+ne]));break}case"int8":{L.write(r.from([n.properties[N]])),L.write(r.from([ne]));break}case"binary":{L.write(r.from([n.properties[N]])),ae(L,ne);break}case"int16":{L.write(r.from([n.properties[N]])),p(L,ne);break}case"int32":{L.write(r.from([n.properties[N]])),me(L,ne);break}case"var":{L.write(r.from([n.properties[N]])),le(L,ne);break}case"string":{L.write(r.from([n.properties[N]])),G(L,ne);break}case"pair":{Object.getOwnPropertyNames(ne).forEach(K=>{let Z=ne[K];Array.isArray(Z)?Z.forEach(ie=>{L.write(r.from([n.properties[N]])),de(L,K.toString(),ie.toString())}):(L.write(r.from([n.properties[N]])),de(L,K.toString(),Z.toString()))});break}default:return L.destroy(new Error(`Invalid property ${N} value: ${ne}`)),!1}}function be(L,N,ne){le(L,ne);for(let K in N)if(Object.prototype.hasOwnProperty.call(N,K)&&N[K]!=null){let Z=N[K];if(Array.isArray(Z))for(let ie=0;ie<Z.length;ie++)he(L,K,Z[ie]);else he(L,K,Z)}}function X(L){return L?L instanceof r?L.length:r.byteLength(L):0}function Pe(L){return typeof L=="string"||L instanceof r}t.exports=m}),IP=Ae((e,t)=>{we(),Ee(),xe();var n=bw(),{EventEmitter:r}=(us(),mt(_i)),{Buffer:i}=(Gt(),mt(Kt));function s(a,l){let c=new o;return n(a,c,l),c.concat()}var o=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),c=this._array,u=0,f;for(f=0;f<c.length&&c[f]!==void 0;f++)typeof c[f]!="string"?l[f]=c[f].length:l[f]=i.byteLength(c[f]),a+=l[f];let d=i.allocUnsafe(a);for(f=0;f<c.length&&c[f]!==void 0;f++)typeof c[f]!="string"?(c[f].copy(d,u),u+=l[f]):(d.write(c[f],u),u+=l[f]);return d}destroy(a){a&&this.emit("error",a)}};t.exports=s}),OP=Ae(e=>{we(),Ee(),xe(),e.parser=AP().parser,e.generate=IP(),e.writeToStream=bw()}),yw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};e.default=t}),PP=Ae((e,t)=>{we(),Ee(),xe(),t.exports=r;function n(s){return s instanceof tc?tc.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function r(s){if(s=s||{},s.circles)return i(s);let o=new Map;if(o.set(Date,f=>new Date(f)),o.set(Map,(f,d)=>new Map(l(Array.from(f),d))),o.set(Set,(f,d)=>new Set(l(Array.from(f),d))),s.constructorHandlers)for(let f of s.constructorHandlers)o.set(f[0],f[1]);let a=null;return s.proto?u:c;function l(f,d){let h=Object.keys(f),p=new Array(h.length);for(let b=0;b<h.length;b++){let m=h[b],v=f[m];typeof v!="object"||v===null?p[m]=v:v.constructor!==Object&&(a=o.get(v.constructor))?p[m]=a(v,d):ArrayBuffer.isView(v)?p[m]=n(v):p[m]=d(v)}return p}function c(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,c);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,c);let d={};for(let h in f){if(Object.hasOwnProperty.call(f,h)===!1)continue;let p=f[h];typeof p!="object"||p===null?d[h]=p:p.constructor!==Object&&(a=o.get(p.constructor))?d[h]=a(p,c):ArrayBuffer.isView(p)?d[h]=n(p):d[h]=c(p)}return d}function u(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return l(f,u);if(f.constructor!==Object&&(a=o.get(f.constructor)))return a(f,u);let d={};for(let h in f){let p=f[h];typeof p!="object"||p===null?d[h]=p:p.constructor!==Object&&(a=o.get(p.constructor))?d[h]=a(p,u):ArrayBuffer.isView(p)?d[h]=n(p):d[h]=u(p)}return d}}function i(s){let o=[],a=[],l=new Map;if(l.set(Date,h=>new Date(h)),l.set(Map,(h,p)=>new Map(u(Array.from(h),p))),l.set(Set,(h,p)=>new Set(u(Array.from(h),p))),s.constructorHandlers)for(let h of s.constructorHandlers)l.set(h[0],h[1]);let c=null;return s.proto?d:f;function u(h,p){let b=Object.keys(h),m=new Array(b.length);for(let v=0;v<b.length;v++){let y=b[v],x=h[y];if(typeof x!="object"||x===null)m[y]=x;else if(x.constructor!==Object&&(c=l.get(x.constructor)))m[y]=c(x,p);else if(ArrayBuffer.isView(x))m[y]=n(x);else{let P=o.indexOf(x);P!==-1?m[y]=a[P]:m[y]=p(x)}}return m}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,f);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,f);let p={};o.push(h),a.push(p);for(let b in h){if(Object.hasOwnProperty.call(h,b)===!1)continue;let m=h[b];if(typeof m!="object"||m===null)p[b]=m;else if(m.constructor!==Object&&(c=l.get(m.constructor)))p[b]=c(m,f);else if(ArrayBuffer.isView(m))p[b]=n(m);else{let v=o.indexOf(m);v!==-1?p[b]=a[v]:p[b]=f(m)}}return o.pop(),a.pop(),p}function d(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return u(h,d);if(h.constructor!==Object&&(c=l.get(h.constructor)))return c(h,d);let p={};o.push(h),a.push(p);for(let b in h){let m=h[b];if(typeof m!="object"||m===null)p[b]=m;else if(m.constructor!==Object&&(c=l.get(m.constructor)))p[b]=c(m,d);else if(ArrayBuffer.isView(m))p[b]=n(m);else{let v=o.indexOf(m);v!==-1?p[b]=a[v]:p[b]=d(m)}}return o.pop(),a.pop(),p}}}),RP=Ae((e,t)=>{we(),Ee(),xe(),t.exports=PP()()}),MP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=n;function t(r){let i=r.split("/");for(let s=0;s<i.length;s++)if(i[s]!=="+"){if(i[s]==="#")return s===i.length-1;if(i[s].indexOf("+")!==-1||i[s].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let i=0;i<r.length;i++)if(!t(r[i]))return r[i];return null}}),vw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=ds(),n={objectMode:!0},r={clean:!0},i=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},r),s),this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new t.Readable(n),o=[],a=!1,l=0;return this._inflights.forEach((c,u)=>{o.push(c)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=c=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};e.default=i}),DP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],n=(r,i,s)=>{r.log("handlePublish: packet %o",i),s=typeof s<"u"?s:r.noop;let o=i.topic.toString(),a=i.payload,{qos:l}=i,{messageId:c}=i,{options:u}=r;if(r.options.protocolVersion===5){let f;if(i.properties&&(f=i.properties.topicAlias),typeof f<"u")if(o.length===0)if(f>0&&f<=65535){let d=r.topicAliasRecv.getTopicByAlias(f);if(d)o=d,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,f);else{r.log("handlePublish :: unregistered topic alias. alias: %d",f),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",f),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(o,f))r.log("handlePublish :: registered topic: %s - alias: %d",o,f);else{r.log("handlePublish :: topic alias out of range. alias: %d",f),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",l),l){case 2:{u.customHandleAcks(o,a,i,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return r.emit("error",f);if(t.indexOf(d)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));d?r._sendPacket({cmd:"pubrec",messageId:c,reasonCode:d},s):r.incomingStore.put(i,()=>{r._sendPacket({cmd:"pubrec",messageId:c},s)})});break}case 1:{u.customHandleAcks(o,a,i,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return r.emit("error",f);if(t.indexOf(d)===-1)return r.emit("error",new Error("Wrong reason code for puback"));d||r.emit("message",o,a,i),r.handleMessage(i,h=>{if(h)return s&&s(h);r._sendPacket({cmd:"puback",messageId:c,reasonCode:d},s)})});break}case 0:r.emit("message",o,a,i),r.handleMessage(i,s);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=n}),LP=Ae((e,t)=>{t.exports={version:"5.13.1"}}),io=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=r;var t=class ww extends Error{constructor(s,o){super(s),this.code=o,Object.setPrototypeOf(this,ww.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var n=class xw extends Error{constructor(s,o){super(s),this.packet=o,Object.setPrototypeOf(this,xw.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=n;function r(i,s,o=!1){var a;let l=[s];for(;;){let c=l[0],u=Object.getPrototypeOf(c);if(u!=null&&u.prototype)l.unshift(u);else break}for(let c of l)for(let u of Object.getOwnPropertyNames(c.prototype))(o||u!=="constructor")&&Object.defineProperty(i.prototype,u,(a=Object.getOwnPropertyDescriptor(c.prototype,u))!==null&&a!==void 0?a:Object.create(null))}e.nextTick=typeof(ot==null?void 0:ot.nextTick)=="function"?ot.nextTick:i=>{setTimeout(i,0)},e.MQTTJS_VERSION=LP().version}),Rc=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=io();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,i)=>{let{messageId:s}=i,o=i.cmd,a=null,l=r.outgoing[s]?r.outgoing[s].cb:null,c=null;if(!l){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",o),o){case"pubcomp":case"puback":{let u=i.reasonCode;u&&u>0&&u!==16?(c=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(s,()=>{l(c,i)})):r._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:s};let u=i.reasonCode;u&&u>0&&u!==16?(c=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[u]}`,u),r._removeOutgoingAndStoreMessage(s,()=>{l(c,i)})):r._sendPacket(a);break}case"suback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s);let u=i.granted;for(let f=0;f<u.length;f++){let d=u[f];if((d&128)!==0){c=new Error(`Subscribe error: ${e.ReasonCodes[d]}`),c.code=d;let h=r.messageIdToTopic[s];h&&h.forEach(p=>{delete r._resubscribeTopics[p]})}}delete r.messageIdToTopic[s],r._invokeStoreProcessingQueue(),l(c,i);break}case"unsuback":{delete r.outgoing[s],r.messageIdProvider.deallocate(s),r._invokeStoreProcessingQueue(),l(null,i);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};e.default=n}),NP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=io(),n=Rc(),r=(i,s)=>{let{options:o}=i,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let c=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);i.emit("error",c);return}i.handleAuth(s,(c,u)=>{if(c){i.emit("error",c);return}if(l===24)i.reconnecting=!1,i._sendPacket(u);else{let f=new t.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[l]}`,l);i.emit("error",f)}})};e.default=r}),BP=Ae(e=>{var h,p,b,m,v,y,x,P,S,E,A,M,W,V,q,I,J,le,G,de,oe,fe,me,ae,ge,F,he,be,X,kd,L,N,ne,K,Ew,ie,k,O,Gr,Yr,Ad,Cl,Il,xt,Td,Co,Qr,Cd,Se;we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof ot=="object"&&ot?ot:{},i=(g,_,w,C)=>{typeof r.emitWarning=="function"?r.emitWarning(g,_,w,C):console.error(`[${w}] ${_}: ${g}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{constructor(){Re(this,"onabort");Re(this,"_onabort",[]);Re(this,"reason");Re(this,"aborted",!1)}addEventListener(w,C){this._onabort.push(C)}},s=class{constructor(){Re(this,"signal",new o);_()}abort(w){var C,$;if(!this.signal.aborted){this.signal.reason=w,this.signal.aborted=!0;for(let Y of this.signal._onabort)Y(w);($=(C=this.signal).onabort)==null||$.call(C,w)}}};let g=((h=r.env)==null?void 0:h.LRU_CACHE_IGNORE_AC_WARNING)!=="1",_=()=>{g&&(g=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",_))}}var a=g=>!n.has(g),l=g=>g&&g===Math.floor(g)&&g>0&&isFinite(g),c=g=>l(g)?g<=Math.pow(2,8)?Uint8Array:g<=Math.pow(2,16)?Uint16Array:g<=Math.pow(2,32)?Uint32Array:g<=Number.MAX_SAFE_INTEGER?u:null:null,u=class extends Array{constructor(g){super(g),this.fill(0)}},f=(p=class{constructor(_,w){Re(this,"heap");Re(this,"length");if(!H(p,b))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new w(_),this.length=0}static create(_){let w=c(_);if(!w)return[];ze(p,b,!0);let C=new p(_,w);return ze(p,b,!1),C}push(_){this.heap[this.length++]=_}pop(){return this.heap[--this.length]}},b=new WeakMap,it(p,b,!1),p),d=(Se=class{constructor(_){it(this,X);it(this,y);it(this,x);it(this,P);it(this,S);it(this,E);it(this,A);Re(this,"ttl");Re(this,"ttlResolution");Re(this,"ttlAutopurge");Re(this,"updateAgeOnGet");Re(this,"updateAgeOnHas");Re(this,"allowStale");Re(this,"noDisposeOnSet");Re(this,"noUpdateTTL");Re(this,"maxEntrySize");Re(this,"sizeCalculation");Re(this,"noDeleteOnFetchRejection");Re(this,"noDeleteOnStaleGet");Re(this,"allowStaleOnFetchAbort");Re(this,"allowStaleOnFetchRejection");Re(this,"ignoreFetchAbort");it(this,M);it(this,W);it(this,V);it(this,q);it(this,I);it(this,J);it(this,le);it(this,G);it(this,de);it(this,oe);it(this,fe);it(this,me);it(this,ae);it(this,ge);it(this,F);it(this,he);it(this,be);it(this,L,()=>{});it(this,N,()=>{});it(this,ne,()=>{});it(this,K,()=>!1);it(this,ie,_=>{});it(this,k,(_,w,C)=>{});it(this,O,(_,w,C,$)=>{if(C||$)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});Re(this,m,"LRUCache");let{max:w=0,ttl:C,ttlResolution:$=1,ttlAutopurge:Y,updateAgeOnGet:ce,updateAgeOnHas:Te,allowStale:Oe,dispose:Ve,disposeAfter:Ue,noDisposeOnSet:Fe,noUpdateTTL:vn,maxSize:mn=0,maxEntrySize:wn=0,sizeCalculation:kt,fetchMethod:$t,memoMethod:Ge,noDeleteOnFetchRejection:bt,noDeleteOnStaleGet:Qt,allowStaleOnFetchRejection:jt,allowStaleOnFetchAbort:on,ignoreFetchAbort:Vr}=_;if(w!==0&&!l(w))throw new TypeError("max option must be a nonnegative integer");let j=w?c(w):Array;if(!j)throw new Error("invalid max value: "+w);if(ze(this,y,w),ze(this,x,mn),this.maxEntrySize=wn||H(this,x),this.sizeCalculation=kt,this.sizeCalculation){if(!H(this,x)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ge!==void 0&&typeof Ge!="function")throw new TypeError("memoMethod must be a function if defined");if(ze(this,A,Ge),$t!==void 0&&typeof $t!="function")throw new TypeError("fetchMethod must be a function if specified");if(ze(this,E,$t),ze(this,he,!!$t),ze(this,V,new Map),ze(this,q,new Array(w).fill(void 0)),ze(this,I,new Array(w).fill(void 0)),ze(this,J,new j(w)),ze(this,le,new j(w)),ze(this,G,0),ze(this,de,0),ze(this,oe,f.create(w)),ze(this,M,0),ze(this,W,0),typeof Ve=="function"&&ze(this,P,Ve),typeof Ue=="function"?(ze(this,S,Ue),ze(this,fe,[])):(ze(this,S,void 0),ze(this,fe,void 0)),ze(this,F,!!H(this,P)),ze(this,be,!!H(this,S)),this.noDisposeOnSet=!!Fe,this.noUpdateTTL=!!vn,this.noDeleteOnFetchRejection=!!bt,this.allowStaleOnFetchRejection=!!jt,this.allowStaleOnFetchAbort=!!on,this.ignoreFetchAbort=!!Vr,this.maxEntrySize!==0){if(H(this,x)!==0&&!l(H(this,x)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ne(this,X,Ew).call(this)}if(this.allowStale=!!Oe,this.noDeleteOnStaleGet=!!Qt,this.updateAgeOnGet=!!ce,this.updateAgeOnHas=!!Te,this.ttlResolution=l($)||$===0?$:1,this.ttlAutopurge=!!Y,this.ttl=C||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ne(this,X,kd).call(this)}if(H(this,y)===0&&this.ttl===0&&H(this,x)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!H(this,y)&&!H(this,x)){let z="LRU_CACHE_UNBOUNDED";a(z)&&(n.add(z),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",z,Se))}}static unsafeExposeInternals(_){return{starts:H(_,ae),ttls:H(_,ge),sizes:H(_,me),keyMap:H(_,V),keyList:H(_,q),valList:H(_,I),next:H(_,J),prev:H(_,le),get head(){return H(_,G)},get tail(){return H(_,de)},free:H(_,oe),isBackgroundFetch:w=>{var C;return Ne(C=_,X,xt).call(C,w)},backgroundFetch:(w,C,$,Y)=>{var ce;return Ne(ce=_,X,Il).call(ce,w,C,$,Y)},moveToTail:w=>{var C;return Ne(C=_,X,Co).call(C,w)},indexes:w=>{var C;return Ne(C=_,X,Gr).call(C,w)},rindexes:w=>{var C;return Ne(C=_,X,Yr).call(C,w)},isStale:w=>{var C;return H(C=_,K).call(C,w)}}}get max(){return H(this,y)}get maxSize(){return H(this,x)}get calculatedSize(){return H(this,W)}get size(){return H(this,M)}get fetchMethod(){return H(this,E)}get memoMethod(){return H(this,A)}get dispose(){return H(this,P)}get disposeAfter(){return H(this,S)}getRemainingTTL(_){return H(this,V).has(_)?1/0:0}*entries(){for(let _ of Ne(this,X,Gr).call(this))H(this,I)[_]!==void 0&&H(this,q)[_]!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield[H(this,q)[_],H(this,I)[_]])}*rentries(){for(let _ of Ne(this,X,Yr).call(this))H(this,I)[_]!==void 0&&H(this,q)[_]!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield[H(this,q)[_],H(this,I)[_]])}*keys(){for(let _ of Ne(this,X,Gr).call(this)){let w=H(this,q)[_];w!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield w)}}*rkeys(){for(let _ of Ne(this,X,Yr).call(this)){let w=H(this,q)[_];w!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield w)}}*values(){for(let _ of Ne(this,X,Gr).call(this))H(this,I)[_]!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield H(this,I)[_])}*rvalues(){for(let _ of Ne(this,X,Yr).call(this))H(this,I)[_]!==void 0&&!Ne(this,X,xt).call(this,H(this,I)[_])&&(yield H(this,I)[_])}[(v=Symbol.iterator,m=Symbol.toStringTag,v)](){return this.entries()}find(_,w={}){for(let C of Ne(this,X,Gr).call(this)){let $=H(this,I)[C],Y=Ne(this,X,xt).call(this,$)?$.__staleWhileFetching:$;if(Y!==void 0&&_(Y,H(this,q)[C],this))return this.get(H(this,q)[C],w)}}forEach(_,w=this){for(let C of Ne(this,X,Gr).call(this)){let $=H(this,I)[C],Y=Ne(this,X,xt).call(this,$)?$.__staleWhileFetching:$;Y!==void 0&&_.call(w,Y,H(this,q)[C],this)}}rforEach(_,w=this){for(let C of Ne(this,X,Yr).call(this)){let $=H(this,I)[C],Y=Ne(this,X,xt).call(this,$)?$.__staleWhileFetching:$;Y!==void 0&&_.call(w,Y,H(this,q)[C],this)}}purgeStale(){let _=!1;for(let w of Ne(this,X,Yr).call(this,{allowStale:!0}))H(this,K).call(this,w)&&(Ne(this,X,Qr).call(this,H(this,q)[w],"expire"),_=!0);return _}info(_){let w=H(this,V).get(_);if(w===void 0)return;let C=H(this,I)[w],$=Ne(this,X,xt).call(this,C)?C.__staleWhileFetching:C;if($===void 0)return;let Y={value:$};if(H(this,ge)&&H(this,ae)){let ce=H(this,ge)[w],Te=H(this,ae)[w];if(ce&&Te){let Oe=ce-(t.now()-Te);Y.ttl=Oe,Y.start=Date.now()}}return H(this,me)&&(Y.size=H(this,me)[w]),Y}dump(){let _=[];for(let w of Ne(this,X,Gr).call(this,{allowStale:!0})){let C=H(this,q)[w],$=H(this,I)[w],Y=Ne(this,X,xt).call(this,$)?$.__staleWhileFetching:$;if(Y===void 0||C===void 0)continue;let ce={value:Y};if(H(this,ge)&&H(this,ae)){ce.ttl=H(this,ge)[w];let Te=t.now()-H(this,ae)[w];ce.start=Math.floor(Date.now()-Te)}H(this,me)&&(ce.size=H(this,me)[w]),_.unshift([C,ce])}return _}load(_){this.clear();for(let[w,C]of _){if(C.start){let $=Date.now()-C.start;C.start=t.now()-$}this.set(w,C.value,C)}}set(_,w,C={}){var vn,mn,wn,kt,$t;if(w===void 0)return this.delete(_),this;let{ttl:$=this.ttl,start:Y,noDisposeOnSet:ce=this.noDisposeOnSet,sizeCalculation:Te=this.sizeCalculation,status:Oe}=C,{noUpdateTTL:Ve=this.noUpdateTTL}=C,Ue=H(this,O).call(this,_,w,C.size||0,Te);if(this.maxEntrySize&&Ue>this.maxEntrySize)return Oe&&(Oe.set="miss",Oe.maxEntrySizeExceeded=!0),Ne(this,X,Qr).call(this,_,"set"),this;let Fe=H(this,M)===0?void 0:H(this,V).get(_);if(Fe===void 0)Fe=H(this,M)===0?H(this,de):H(this,oe).length!==0?H(this,oe).pop():H(this,M)===H(this,y)?Ne(this,X,Cl).call(this,!1):H(this,M),H(this,q)[Fe]=_,H(this,I)[Fe]=w,H(this,V).set(_,Fe),H(this,J)[H(this,de)]=Fe,H(this,le)[Fe]=H(this,de),ze(this,de,Fe),Da(this,M)._++,H(this,k).call(this,Fe,Ue,Oe),Oe&&(Oe.set="add"),Ve=!1;else{Ne(this,X,Co).call(this,Fe);let Ge=H(this,I)[Fe];if(w!==Ge){if(H(this,he)&&Ne(this,X,xt).call(this,Ge)){Ge.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:bt}=Ge;bt!==void 0&&!ce&&(H(this,F)&&((vn=H(this,P))==null||vn.call(this,bt,_,"set")),H(this,be)&&((mn=H(this,fe))==null||mn.push([bt,_,"set"])))}else ce||(H(this,F)&&((wn=H(this,P))==null||wn.call(this,Ge,_,"set")),H(this,be)&&((kt=H(this,fe))==null||kt.push([Ge,_,"set"])));if(H(this,ie).call(this,Fe),H(this,k).call(this,Fe,Ue,Oe),H(this,I)[Fe]=w,Oe){Oe.set="replace";let bt=Ge&&Ne(this,X,xt).call(this,Ge)?Ge.__staleWhileFetching:Ge;bt!==void 0&&(Oe.oldValue=bt)}}else Oe&&(Oe.set="update")}if($!==0&&!H(this,ge)&&Ne(this,X,kd).call(this),H(this,ge)&&(Ve||H(this,ne).call(this,Fe,$,Y),Oe&&H(this,N).call(this,Oe,Fe)),!ce&&H(this,be)&&H(this,fe)){let Ge=H(this,fe),bt;for(;bt=Ge==null?void 0:Ge.shift();)($t=H(this,S))==null||$t.call(this,...bt)}return this}pop(){var _;try{for(;H(this,M);){let w=H(this,I)[H(this,G)];if(Ne(this,X,Cl).call(this,!0),Ne(this,X,xt).call(this,w)){if(w.__staleWhileFetching)return w.__staleWhileFetching}else if(w!==void 0)return w}}finally{if(H(this,be)&&H(this,fe)){let w=H(this,fe),C;for(;C=w==null?void 0:w.shift();)(_=H(this,S))==null||_.call(this,...C)}}}has(_,w={}){let{updateAgeOnHas:C=this.updateAgeOnHas,status:$}=w,Y=H(this,V).get(_);if(Y!==void 0){let ce=H(this,I)[Y];if(Ne(this,X,xt).call(this,ce)&&ce.__staleWhileFetching===void 0)return!1;if(H(this,K).call(this,Y))$&&($.has="stale",H(this,N).call(this,$,Y));else return C&&H(this,L).call(this,Y),$&&($.has="hit",H(this,N).call(this,$,Y)),!0}else $&&($.has="miss");return!1}peek(_,w={}){let{allowStale:C=this.allowStale}=w,$=H(this,V).get(_);if($===void 0||!C&&H(this,K).call(this,$))return;let Y=H(this,I)[$];return Ne(this,X,xt).call(this,Y)?Y.__staleWhileFetching:Y}async fetch(_,w={}){let{allowStale:C=this.allowStale,updateAgeOnGet:$=this.updateAgeOnGet,noDeleteOnStaleGet:Y=this.noDeleteOnStaleGet,ttl:ce=this.ttl,noDisposeOnSet:Te=this.noDisposeOnSet,size:Oe=0,sizeCalculation:Ve=this.sizeCalculation,noUpdateTTL:Ue=this.noUpdateTTL,noDeleteOnFetchRejection:Fe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:vn=this.allowStaleOnFetchRejection,ignoreFetchAbort:mn=this.ignoreFetchAbort,allowStaleOnFetchAbort:wn=this.allowStaleOnFetchAbort,context:kt,forceRefresh:$t=!1,status:Ge,signal:bt}=w;if(!H(this,he))return Ge&&(Ge.fetch="get"),this.get(_,{allowStale:C,updateAgeOnGet:$,noDeleteOnStaleGet:Y,status:Ge});let Qt={allowStale:C,updateAgeOnGet:$,noDeleteOnStaleGet:Y,ttl:ce,noDisposeOnSet:Te,size:Oe,sizeCalculation:Ve,noUpdateTTL:Ue,noDeleteOnFetchRejection:Fe,allowStaleOnFetchRejection:vn,allowStaleOnFetchAbort:wn,ignoreFetchAbort:mn,status:Ge,signal:bt},jt=H(this,V).get(_);if(jt===void 0){Ge&&(Ge.fetch="miss");let on=Ne(this,X,Il).call(this,_,jt,Qt,kt);return on.__returned=on}else{let on=H(this,I)[jt];if(Ne(this,X,xt).call(this,on)){let Ce=C&&on.__staleWhileFetching!==void 0;return Ge&&(Ge.fetch="inflight",Ce&&(Ge.returnedStale=!0)),Ce?on.__staleWhileFetching:on.__returned=on}let Vr=H(this,K).call(this,jt);if(!$t&&!Vr)return Ge&&(Ge.fetch="hit"),Ne(this,X,Co).call(this,jt),$&&H(this,L).call(this,jt),Ge&&H(this,N).call(this,Ge,jt),on;let j=Ne(this,X,Il).call(this,_,jt,Qt,kt),z=j.__staleWhileFetching!==void 0&&C;return Ge&&(Ge.fetch=Vr?"stale":"refresh",z&&Vr&&(Ge.returnedStale=!0)),z?j.__staleWhileFetching:j.__returned=j}}async forceFetch(_,w={}){let C=await this.fetch(_,w);if(C===void 0)throw new Error("fetch() returned undefined");return C}memo(_,w={}){let C=H(this,A);if(!C)throw new Error("no memoMethod provided to constructor");let{context:$,forceRefresh:Y,...ce}=w,Te=this.get(_,ce);if(!Y&&Te!==void 0)return Te;let Oe=C(_,Te,{options:ce,context:$});return this.set(_,Oe,ce),Oe}get(_,w={}){let{allowStale:C=this.allowStale,updateAgeOnGet:$=this.updateAgeOnGet,noDeleteOnStaleGet:Y=this.noDeleteOnStaleGet,status:ce}=w,Te=H(this,V).get(_);if(Te!==void 0){let Oe=H(this,I)[Te],Ve=Ne(this,X,xt).call(this,Oe);return ce&&H(this,N).call(this,ce,Te),H(this,K).call(this,Te)?(ce&&(ce.get="stale"),Ve?(ce&&C&&Oe.__staleWhileFetching!==void 0&&(ce.returnedStale=!0),C?Oe.__staleWhileFetching:void 0):(Y||Ne(this,X,Qr).call(this,_,"expire"),ce&&C&&(ce.returnedStale=!0),C?Oe:void 0)):(ce&&(ce.get="hit"),Ve?Oe.__staleWhileFetching:(Ne(this,X,Co).call(this,Te),$&&H(this,L).call(this,Te),Oe))}else ce&&(ce.get="miss")}delete(_){return Ne(this,X,Qr).call(this,_,"delete")}clear(){return Ne(this,X,Cd).call(this,"delete")}},y=new WeakMap,x=new WeakMap,P=new WeakMap,S=new WeakMap,E=new WeakMap,A=new WeakMap,M=new WeakMap,W=new WeakMap,V=new WeakMap,q=new WeakMap,I=new WeakMap,J=new WeakMap,le=new WeakMap,G=new WeakMap,de=new WeakMap,oe=new WeakMap,fe=new WeakMap,me=new WeakMap,ae=new WeakMap,ge=new WeakMap,F=new WeakMap,he=new WeakMap,be=new WeakMap,X=new WeakSet,kd=function(){let _=new u(H(this,y)),w=new u(H(this,y));ze(this,ge,_),ze(this,ae,w),ze(this,ne,(Y,ce,Te=t.now())=>{if(w[Y]=ce!==0?Te:0,_[Y]=ce,ce!==0&&this.ttlAutopurge){let Oe=setTimeout(()=>{H(this,K).call(this,Y)&&Ne(this,X,Qr).call(this,H(this,q)[Y],"expire")},ce+1);Oe.unref&&Oe.unref()}}),ze(this,L,Y=>{w[Y]=_[Y]!==0?t.now():0}),ze(this,N,(Y,ce)=>{if(_[ce]){let Te=_[ce],Oe=w[ce];if(!Te||!Oe)return;Y.ttl=Te,Y.start=Oe,Y.now=C||$();let Ve=Y.now-Oe;Y.remainingTTL=Te-Ve}});let C=0,$=()=>{let Y=t.now();if(this.ttlResolution>0){C=Y;let ce=setTimeout(()=>C=0,this.ttlResolution);ce.unref&&ce.unref()}return Y};this.getRemainingTTL=Y=>{let ce=H(this,V).get(Y);if(ce===void 0)return 0;let Te=_[ce],Oe=w[ce];if(!Te||!Oe)return 1/0;let Ve=(C||$())-Oe;return Te-Ve},ze(this,K,Y=>{let ce=w[Y],Te=_[Y];return!!Te&&!!ce&&(C||$())-ce>Te})},L=new WeakMap,N=new WeakMap,ne=new WeakMap,K=new WeakMap,Ew=function(){let _=new u(H(this,y));ze(this,W,0),ze(this,me,_),ze(this,ie,w=>{ze(this,W,H(this,W)-_[w]),_[w]=0}),ze(this,O,(w,C,$,Y)=>{if(Ne(this,X,xt).call(this,C))return 0;if(!l($))if(Y){if(typeof Y!="function")throw new TypeError("sizeCalculation must be a function");if($=Y(C,w),!l($))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return $}),ze(this,k,(w,C,$)=>{if(_[w]=C,H(this,x)){let Y=H(this,x)-_[w];for(;H(this,W)>Y;)Ne(this,X,Cl).call(this,!0)}ze(this,W,H(this,W)+_[w]),$&&($.entrySize=C,$.totalCalculatedSize=H(this,W))})},ie=new WeakMap,k=new WeakMap,O=new WeakMap,Gr=function*({allowStale:_=this.allowStale}={}){if(H(this,M))for(let w=H(this,de);!(!Ne(this,X,Ad).call(this,w)||((_||!H(this,K).call(this,w))&&(yield w),w===H(this,G)));)w=H(this,le)[w]},Yr=function*({allowStale:_=this.allowStale}={}){if(H(this,M))for(let w=H(this,G);!(!Ne(this,X,Ad).call(this,w)||((_||!H(this,K).call(this,w))&&(yield w),w===H(this,de)));)w=H(this,J)[w]},Ad=function(_){return _!==void 0&&H(this,V).get(H(this,q)[_])===_},Cl=function(_){var Y,ce;let w=H(this,G),C=H(this,q)[w],$=H(this,I)[w];return H(this,he)&&Ne(this,X,xt).call(this,$)?$.__abortController.abort(new Error("evicted")):(H(this,F)||H(this,be))&&(H(this,F)&&((Y=H(this,P))==null||Y.call(this,$,C,"evict")),H(this,be)&&((ce=H(this,fe))==null||ce.push([$,C,"evict"]))),H(this,ie).call(this,w),_&&(H(this,q)[w]=void 0,H(this,I)[w]=void 0,H(this,oe).push(w)),H(this,M)===1?(ze(this,G,ze(this,de,0)),H(this,oe).length=0):ze(this,G,H(this,J)[w]),H(this,V).delete(C),Da(this,M)._--,w},Il=function(_,w,C,$){let Y=w===void 0?void 0:H(this,I)[w];if(Ne(this,X,xt).call(this,Y))return Y;let ce=new s,{signal:Te}=C;Te==null||Te.addEventListener("abort",()=>ce.abort(Te.reason),{signal:ce.signal});let Oe={signal:ce.signal,options:C,context:$},Ve=(kt,$t=!1)=>{let{aborted:Ge}=ce.signal,bt=C.ignoreFetchAbort&&kt!==void 0;if(C.status&&(Ge&&!$t?(C.status.fetchAborted=!0,C.status.fetchError=ce.signal.reason,bt&&(C.status.fetchAbortIgnored=!0)):C.status.fetchResolved=!0),Ge&&!bt&&!$t)return Fe(ce.signal.reason);let Qt=mn;return H(this,I)[w]===mn&&(kt===void 0?Qt.__staleWhileFetching?H(this,I)[w]=Qt.__staleWhileFetching:Ne(this,X,Qr).call(this,_,"fetch"):(C.status&&(C.status.fetchUpdated=!0),this.set(_,kt,Oe.options))),kt},Ue=kt=>(C.status&&(C.status.fetchRejected=!0,C.status.fetchError=kt),Fe(kt)),Fe=kt=>{let{aborted:$t}=ce.signal,Ge=$t&&C.allowStaleOnFetchAbort,bt=Ge||C.allowStaleOnFetchRejection,Qt=bt||C.noDeleteOnFetchRejection,jt=mn;if(H(this,I)[w]===mn&&(!Qt||jt.__staleWhileFetching===void 0?Ne(this,X,Qr).call(this,_,"fetch"):Ge||(H(this,I)[w]=jt.__staleWhileFetching)),bt)return C.status&&jt.__staleWhileFetching!==void 0&&(C.status.returnedStale=!0),jt.__staleWhileFetching;if(jt.__returned===jt)throw kt},vn=(kt,$t)=>{var bt;let Ge=(bt=H(this,E))==null?void 0:bt.call(this,_,Y,Oe);Ge&&Ge instanceof Promise&&Ge.then(Qt=>kt(Qt===void 0?void 0:Qt),$t),ce.signal.addEventListener("abort",()=>{(!C.ignoreFetchAbort||C.allowStaleOnFetchAbort)&&(kt(void 0),C.allowStaleOnFetchAbort&&(kt=Qt=>Ve(Qt,!0)))})};C.status&&(C.status.fetchDispatched=!0);let mn=new Promise(vn).then(Ve,Ue),wn=Object.assign(mn,{__abortController:ce,__staleWhileFetching:Y,__returned:void 0});return w===void 0?(this.set(_,wn,{...Oe.options,status:void 0}),w=H(this,V).get(_)):H(this,I)[w]=wn,wn},xt=function(_){if(!H(this,he))return!1;let w=_;return!!w&&w instanceof Promise&&w.hasOwnProperty("__staleWhileFetching")&&w.__abortController instanceof s},Td=function(_,w){H(this,le)[w]=_,H(this,J)[_]=w},Co=function(_){_!==H(this,de)&&(_===H(this,G)?ze(this,G,H(this,J)[_]):Ne(this,X,Td).call(this,H(this,le)[_],H(this,J)[_]),Ne(this,X,Td).call(this,H(this,de),_),ze(this,de,_))},Qr=function(_,w){var $,Y,ce,Te;let C=!1;if(H(this,M)!==0){let Oe=H(this,V).get(_);if(Oe!==void 0)if(C=!0,H(this,M)===1)Ne(this,X,Cd).call(this,w);else{H(this,ie).call(this,Oe);let Ve=H(this,I)[Oe];if(Ne(this,X,xt).call(this,Ve)?Ve.__abortController.abort(new Error("deleted")):(H(this,F)||H(this,be))&&(H(this,F)&&(($=H(this,P))==null||$.call(this,Ve,_,w)),H(this,be)&&((Y=H(this,fe))==null||Y.push([Ve,_,w]))),H(this,V).delete(_),H(this,q)[Oe]=void 0,H(this,I)[Oe]=void 0,Oe===H(this,de))ze(this,de,H(this,le)[Oe]);else if(Oe===H(this,G))ze(this,G,H(this,J)[Oe]);else{let Ue=H(this,le)[Oe];H(this,J)[Ue]=H(this,J)[Oe];let Fe=H(this,J)[Oe];H(this,le)[Fe]=H(this,le)[Oe]}Da(this,M)._--,H(this,oe).push(Oe)}}if(H(this,be)&&((ce=H(this,fe))!=null&&ce.length)){let Oe=H(this,fe),Ve;for(;Ve=Oe==null?void 0:Oe.shift();)(Te=H(this,S))==null||Te.call(this,...Ve)}return C},Cd=function(_){var w,C,$;for(let Y of Ne(this,X,Yr).call(this,{allowStale:!0})){let ce=H(this,I)[Y];if(Ne(this,X,xt).call(this,ce))ce.__abortController.abort(new Error("deleted"));else{let Te=H(this,q)[Y];H(this,F)&&((w=H(this,P))==null||w.call(this,ce,Te,_)),H(this,be)&&((C=H(this,fe))==null||C.push([ce,Te,_]))}}if(H(this,V).clear(),H(this,I).fill(void 0),H(this,q).fill(void 0),H(this,ge)&&H(this,ae)&&(H(this,ge).fill(0),H(this,ae).fill(0)),H(this,me)&&H(this,me).fill(0),ze(this,G,0),ze(this,de,0),H(this,oe).length=0,ze(this,W,0),ze(this,M,0),H(this,be)&&H(this,fe)){let Y=H(this,fe),ce;for(;ce=Y==null?void 0:Y.shift();)($=H(this,S))==null||$.call(this,...ce)}},Se);e.LRUCache=d}),Ur=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};e.ContainerIterator=t;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=n;var r=class extends n{};e.Container=r}),jP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ur(),n=class extends t.Base{constructor(i=[]){super(),this.S=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;e.default=r}),FP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ur(),n=class extends t.Base{constructor(i=[]){super(),this.j=0,this.q=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(i){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},r=n;e.default=r}),UP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ur(),n=class extends t.Base{constructor(i=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(i))this.C=o?[...i]:i;else{this.C=[];let l=this;i.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(i){let s=this.C[i];for(;i>0;){let o=i-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[i]=a,i=o}this.C[i]=s}k(i,s){let o=this.C[i];for(;i<s;){let a=i<<1|1,l=a+1,c=this.C[a];if(l<this.i&&this.v(c,this.C[l])>0&&(a=l,c=this.C[l]),this.v(c,o)>=0)break;this.C[i]=c,i=a}this.C[i]=o}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let s=this.C.indexOf(i);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(i){let s=this.C.indexOf(i);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;e.default=r}),$h=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ur(),n=class extends t.Container{},r=n;e.default=r}),$r=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),Sw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Ur(),n=$r(),r=class extends t.ContainerIterator{constructor(i,s){super(s),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};e.RandomIterator=r}),$P=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r($h()),n=Sw();function r(a){return a&&a.t?a:{default:a}}var i=class kw extends n.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new kw(this.o,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let c=this;a.forEach(function(u){c.pushBack(u)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==a&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(c).fill(l)),this.i+=c,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;e.default=o}),VP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i($h()),n=Ur(),r=$r();function i(l){return l&&l.t?l:{default:l}}var s=class Aw extends n.ContainerIterator{constructor(c,u,f,d){super(d),this.o=c,this.h=u,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=c}copy(){return new Aw(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(u){c.pushBack(u)})}V(l){let{L:c,B:u}=l;c.B=u,u.L=c,l===this.p&&(this.p=u),l===this._&&(this._=c),this.i-=1}G(l,c){let u=c.B,f={l,L:c,B:u};c.B=f,u.L=f,c===this.h&&(this.p=f),u===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,r.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;u.l=c}insert(l,c,u=1){if(l<0||l>this.i)throw new RangeError;if(u<=0)return this.i;if(l===0)for(;u--;)this.pushFront(c);else if(l===this.i)for(;u--;)this.pushBack(c);else{let f=this.p;for(let h=1;h<l;++h)f=f.B;let d=f.B;for(this.i+=u;u--;)f.B={l:c,L:f},f.B.L=f,f=f.B;f.B=d,d.L=f}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new s(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,u=0;for(;u<<1<this.i;){let f=l.l;l.l=c.l,c.l=f,l=l.B,c=c.L,u+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(f){c.push(f)}),c.sort(l);let u=this.p;c.forEach(function(f){u.l=f,u=u.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(u){c.pushBack(u)});else{let u=this.p;l.forEach(function(f){for(;u!==c.h&&u.l<=f;)u=u.B;c.G(f,u.L)})}return this.i}forEach(l){let c=this.p,u=0;for(;c!==this.h;)l(c.l,u++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;e.default=a}),WP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r($h()),n=Sw();function r(a){return a&&a.t?a:{default:a}}var i=class Tw extends n.RandomIterator{constructor(l,c,u){super(l,u),this.container=c}copy(){return new Tw(this.o,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let d=0;d<this.P;++d)this.A.push(new Array(this.F));let u=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(u>>1),this.D=this.N=this.F-c%this.F>>1;let f=this;a.forEach(function(d){f.pushBack(d)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)a[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)a[a.length]=this.A[c];for(let c=0;c<this.R;++c)a[a.length]=this.A[c];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let c=0;c<l;++c)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,c=l%this.F,u=c-1,f=this.j+(l-c)/this.F;return c===0&&(f-=1),f%=this.P,u<0&&(u+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:u}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.A[l][c]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:u}=this.O(a);this.A[c][u]=l}insert(a,l,c=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;c--;)this.pushFront(l);else if(a===this.i)for(;c--;)this.pushBack(l);else{let u=[];for(let f=a;f<this.i;++f)u.push(this.getElementByPos(f));this.cut(a-1);for(let f=0;f<c;++f)this.pushBack(l);for(let f=0;f<u.length;++f)this.pushBack(u[f])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(a);return this.R=l,this.N=c,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let u=a+1;u<this.i;++u)l.push(this.getElementByPos(u));this.cut(a),this.popBack();let c=this;l.forEach(function(u){c.pushBack(u)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let u=0;u<this.i;++u){let f=this.getElementByPos(u);f!==a&&l.push(f)}let c=l.length;for(let u=0;u<c;++u)this.setElementByPos(u,l[u]);return this.cut(c-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new i(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let c=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,c),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let u=this.getElementByPos(c);u!==l&&(l=u,this.setElementByPos(a++,u))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(a);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;e.default=o}),HP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(r,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=i}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let i=r.tt;for(;i.U===r;)r=i,i=r.tt;r=i}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let i=r.tt;for(;i.W===r;)r=i,i=r.tt;return r.W!==i?i:r}}te(){let r=this.tt,i=this.W,s=i.U;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.U=this,this.tt=i,this.W=s,s&&(s.tt=this),i}se(){let r=this.tt,i=this.U,s=i.W;return r.tt===this?r.tt=i:r.U===this?r.U=i:r.W=i,i.tt=r,i.W=this,this.tt=i,this.U=s,s&&(s.tt=this),i}};e.TreeNode=t;var n=class extends t{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=n}),Cw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=HP(),n=Ur(),r=$r(),i=class extends n.Container{constructor(o=function(l,c){return l<c?-1:l>c?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=t.TreeNodeEnableIndex,this.M=function(l,c,u){let f=this.ne(l,c,u);if(f){let d=f.tt;for(;d!==this.h;)d.rt+=1,d=d.tt;let h=this.he(f);if(h){let{parentNode:p,grandParent:b,curNode:m}=h;p.ie(),b.ie(),m.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=t.TreeNode,this.M=function(l,c,u){let f=this.ne(l,c,u);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let c=this.v(o.u,a);if(c<0)o=o.W;else if(c>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let c=this.v(o.u,a);if(c<0)l=o,o=o.W;else if(c>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let u=l.tt;u.U===l?u.U=o:u.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let u=l.tt;u.U===l?u.U=o:u.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,u=this.h.U,f=this.v(u.u,o);if(f===0){u.l=a;return}else if(f>0)u.U=new this.re(o,a),u.U.tt=u,c=u.U,this.h.U=c;else{let d=this.h.W,h=this.v(d.u,o);if(h===0){d.l=a;return}else if(h<0)d.W=new this.re(o,a),d.W.tt=d,c=d.W,this.h.W=c;else{if(l!==void 0){let p=l.o;if(p!==this.h){let b=this.v(p.u,o);if(b===0){p.l=a;return}else if(b>0){let m=p.L(),v=this.v(m.u,o);if(v===0){m.l=a;return}else v<0&&(c=new this.re(o,a),m.W===void 0?(m.W=c,c.tt=m):(p.U=c,c.tt=p))}}}if(c===void 0)for(c=this.Y;;){let p=this.v(c.u,o);if(p>0){if(c.U===void 0){c.U=new this.re(o,a),c.U.tt=c,c=c.U;break}c=c.U}else if(p<0){if(c.W===void 0){c.W=new this.re(o,a),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=a;return}}}}return this.i+=1,c}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let c=l.L().u;if(this.v(c,a)>=0)return!1;let u=l.B().u;return this.v(u,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(c){return o===a?(l.V(c),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,r.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let c of this){if(l===o){a=c;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=i;e.default=s}),Iw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ur(),n=$r(),r=class extends t.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},i=r;e.default=i}),zP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(Cw()),n=i(Iw()),r=$r();function i(l){return l&&l.t?l:{default:l}}var s=class Ow extends n.default{constructor(c,u,f,d){super(c,u,d),this.container=f}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new Ow(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[],c,u){super(c,u);let f=this;l.forEach(function(d){f.insert(d)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}union(l){let c=this;return l.forEach(function(u){c.insert(u)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;e.default=a}),qP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(Cw()),n=i(Iw()),r=$r();function i(l){return l&&l.t?l:{default:l}}var s=class Pw extends n.default{constructor(c,u,f,d){super(c,u,d),this.container=f}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,f){if(f==="0")return c.o.u;if(f==="1")return c.o.l},set(u,f,d){if(f!=="1")throw new TypeError("props must be 1");return c.o.l=d,!0}})}copy(){return new Pw(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.default{constructor(l=[],c,u){super(c,u);let f=this;l.forEach(function(d){f.setElement(d[0],d[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}setElement(l,c,u){return this.M(l,c,u)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(u){c.setElement(u[0],u[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;e.default=a}),Rw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),Mw=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=Ur(),n=i(Rw()),r=$r();function i(a){return a&&a.t?a:{default:a}}var s=class extends t.ContainerIterator{constructor(a,l,c){super(c),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=s;var o=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:c}=a;l.B=c,c.L=l,a===this.p&&(this.p=c),a===this._&&(this._=l),this.i-=1}M(a,l,c){c===void 0&&(c=(0,n.default)(a));let u;if(c){let f=a[this.HASH_TAG];if(f!==void 0)return this.H[f].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),u={u:a,l,L:this._,B:this.h},this.H.push(u)}else{let f=this.g[a];if(f)return f.l=l,this.i;u={u:a,l,L:this._,B:this.h},this.g[a]=u}return this.i===0?(this.p=u,this.h.B=u):this._.B=u,this._=u,this.h.L=u,++this.i}I(a,l){if(l===void 0&&(l=(0,n.default)(a)),l){let c=a[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let c;if(l===void 0&&(l=(0,n.default)(a)),l){let u=a[this.HASH_TAG];if(u===void 0)return!1;delete a[this.HASH_TAG],c=this.H[u],delete this.H[u]}else{if(c=this.g[a],c===void 0)return!1;delete this.g[a]}return this.V(c),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,r.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};e.HashContainer=o}),KP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Mw(),n=$r(),r=class Dw extends t.HashContainerIterator{constructor(a,l,c,u){super(a,l,u),this.container=c}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new Dw(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new r(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=i;e.default=s}),GP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Mw(),n=i(Rw()),r=$r();function i(l){return l&&l.t?l:{default:l}}var s=class Lw extends t.HashContainerIterator{constructor(c,u,f,d){super(c,u,d),this.container=f}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let c=this;return new Proxy([],{get(u,f){if(f==="0")return c.o.u;if(f==="1")return c.o.l},set(u,f,d){if(f!=="1")throw new TypeError("props must be 1");return c.o.l=d,!0}})}copy(){return new Lw(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(u){c.setElement(u[0],u[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,u){return this.M(l,c,u)}getElementByKey(l,c){if(c===void 0&&(c=(0,n.default)(l)),c){let f=l[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let u=this.g[l];return u?u.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let u=this.I(l,c);return new s(u,this.h,this)}forEach(l){let c=0,u=this.p;for(;u!==this.h;)l([u.u,u.l],c++,this),u=u.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;e.default=a}),YP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=f(jP()),n=f(FP()),r=f(UP()),i=f($P()),s=f(VP()),o=f(WP()),a=f(zP()),l=f(qP()),c=f(KP()),u=f(GP());function f(d){return d&&d.t?d:{default:d}}}),QP=Ae((e,t)=>{we(),Ee(),xe();var n=YP().OrderedSet,r=Nr()("number-allocator:trace"),i=Nr()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new n([],(c,u)=>c.compare(u)),r("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,c=a.pointer.high,u=l;return u+1<=c?this.ss.updateKeyByIterator(a,new s(l+1,c)):this.ss.eraseElementByPos(0),r("alloc():"+u),u},o.prototype.use=function(a){let l=new s(a,a),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let u=c.pointer.low,f=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),r("use():"+a),!0):u>a?!1:u===a?(this.ss.updateKeyByIterator(c,new s(u+1,f)),r("use():"+a),!0):f===a?(this.ss.updateKeyByIterator(c,new s(u,f-1)),r("use():"+a),!0):(this.ss.updateKeyByIterator(c,new s(a+1,f)),this.ss.insert(new s(u,a-1)),r("use():"+a),!0)}return r("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){i("free():"+a+" is out of range");return}let l=new s(a,a),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let u=c.pointer.high;c.pointer.high+1===a?this.ss.updateKeyByIterator(c,new s(u,a)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(a+1===c.pointer.low){let u=c.pointer.high;this.ss.updateKeyByIterator(c,new s(a,u))}else this.ss.insert(l);else{let u=c.pointer.low,f=c.pointer.high;c.pre();let d=c.pointer.low;c.pointer.high+1===a?a+1===u?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new s(d,f))):this.ss.updateKeyByIterator(c,new s(d,a)):a+1===u?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new s(a,f))):this.ss.insert(l)}r("free():"+a)},o.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},t.exports=o}),Nw=Ae((e,t)=>{we(),Ee(),xe();var n=QP();t.exports.NumberAllocator=n}),XP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=BP(),n=Nw(),r=class{constructor(i){i>0&&(this.aliasToTopic=new t.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,i),this.topicToAlias[i]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let s=this.topicToAlias[i];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=r}),JP=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var n=Rc(),r=t(XP()),i=io(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,c=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new r.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(c===0)o.reconnecting=!1,o._onConnect(a);else if(c>0){let u=new i.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[c]}`,c);o.emit("error",u),o.options.reconnectOnConnackError&&o._cleanUp(!0)}};e.default=s}),ZP=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(n,r,i)=>{n.log("handling pubrel packet");let s=typeof i<"u"?i:n.noop,{messageId:o}=r,a={cmd:"pubcomp",messageId:o};n.incomingStore.get(r,(l,c)=>{l?n._sendPacket(a,s):(n.emit("message",c.topic,c.payload,c),n.handleMessage(c,u=>{if(u)return s(u);n.incomingStore.del(c,n.noop),n._sendPacket(a,s)}))})};e.default=t}),e2=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(DP()),r=t(NP()),i=t(JP()),s=t(Rc()),o=t(ZP()),a=(l,c,u)=>{let{options:f}=l;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,n.default)(l,c,u);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,c),u();break;case"pubrel":l.reschedulePing(),(0,o.default)(l,c,u);break;case"connack":(0,i.default)(l,c),u();break;case"auth":l.reschedulePing(),(0,r.default)(l,c),u();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),u();break;case"disconnect":l.emit("disconnect",c),u();break;default:l.log("_handlePacket :: unknown command"),u();break}};e.default=a}),t2=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var n=t((us(),mt(_i))),r=io(),i=class{};e.TypedEventEmitter=i,(0,r.applyMixin)(i,n.default)}),Mc=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&ot!=null&&ot.versions?!Object.prototype.hasOwnProperty.call(ot.versions,"electron"):typeof window.document<"u":!1},n=()=>{var s,o;return!!(typeof self=="object"&&!((o=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||o===void 0)&&o.includes("WorkerGlobalScope"))},r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=t()||n()||r();e.isWebWorker=n(),e.isReactNativeBrowser=r(),e.default=i}),n2=Ae((e,t)=>{we(),Ee(),xe(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))}(e,function(n){var r=function(h){return function(p){var b=h(p);return p.add(b),b}},i=function(h){return function(p,b){return h.set(p,b),b}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(h,p){return function(b){var m=p.get(b),v=m===void 0?b.size:m<a?m+1:0;if(!b.has(v))return h(b,v);if(b.size<o){for(;b.has(v);)v=Math.floor(Math.random()*a);return h(b,v)}if(b.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;b.has(v);)v=Math.floor(Math.random()*s);return h(b,v)}},c=new WeakMap,u=i(c),f=l(u,c),d=r(f);n.addUniqueNumber=d,n.generateUniqueNumber=f})}),r2=Ae((e,t)=>{we(),Ee(),xe(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e,n2()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n.fastUniqueNumbers))}(e,function(n,r){var i=function(a){return a.method!==void 0&&a.method==="call"},s=function(a){return a.error===null&&typeof a.id=="number"},o=function(a){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),u=new Map,f=new Worker(a);f.addEventListener("message",function(m){var v=m.data;if(i(v)){var y=v.params,x=y.timerId,P=y.timerType;if(P==="interval"){var S=l.get(x);if(typeof S=="number"){var E=u.get(S);if(E===void 0||E.timerId!==x||E.timerType!==P)throw new Error("The timer is in an undefined state.")}else if(typeof S<"u")S();else throw new Error("The timer is in an undefined state.")}else if(P==="timeout"){var A=c.get(x);if(typeof A=="number"){var M=u.get(A);if(M===void 0||M.timerId!==x||M.timerType!==P)throw new Error("The timer is in an undefined state.")}else if(typeof A<"u")A(),c.delete(x);else throw new Error("The timer is in an undefined state.")}}else if(s(v)){var W=v.id,V=u.get(W);if(V===void 0)throw new Error("The timer is in an undefined state.");var q=V.timerId,I=V.timerType;u.delete(W),I==="interval"?l.delete(q):c.delete(q)}else{var J=v.error.message;throw new Error(J)}});var d=function(m){var v=r.generateUniqueNumber(u);u.set(v,{timerId:m,timerType:"interval"}),l.set(m,v),f.postMessage({id:v,method:"clear",params:{timerId:m,timerType:"interval"}})},h=function(m){var v=r.generateUniqueNumber(u);u.set(v,{timerId:m,timerType:"timeout"}),c.set(m,v),f.postMessage({id:v,method:"clear",params:{timerId:m,timerType:"timeout"}})},p=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(l);return l.set(y,function(){m(),typeof l.get(y)=="function"&&f.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:y,timerType:"interval"}})}),f.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:y,timerType:"interval"}}),y},b=function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(c);return c.set(y,m),f.postMessage({id:null,method:"set",params:{delay:v,now:performance.now(),timerId:y,timerType:"timeout"}}),y};return{clearInterval:d,clearTimeout:h,setInterval:p,setTimeout:b}};n.load=o})}),i2=Ae((e,t)=>{we(),Ee(),xe(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e,r2()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))}(e,function(n,r){var i=function(f,d){var h=null;return function(){if(h!==null)return h;var p=new Blob([d],{type:"application/javascript; charset=utf-8"}),b=URL.createObjectURL(p);return h=f(b),setTimeout(function(){return URL.revokeObjectURL(b)}),h}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=i(r.load,s),a=function(f){return o().clearInterval(f)},l=function(f){return o().clearTimeout(f)},c=function(){var f;return(f=o()).setInterval.apply(f,arguments)},u=function(){var f;return(f=o()).setTimeout.apply(f,arguments)};n.clearInterval=a,n.clearTimeout=l,n.setInterval=c,n.setTimeout=u})}),s2=Ae(e=>{we(),Ee(),xe();var t=e&&e.__createBinding||(Object.create?function(c,u,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(u,f);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(c,d,h)}:function(c,u,f,d){d===void 0&&(d=f),c[d]=u[f]}),n=e&&e.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),r=e&&e.__importStar||function(){var c=function(u){return c=Object.getOwnPropertyNames||function(f){var d=[];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(d[d.length]=h);return d},c(u)};return function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var d=c(u),h=0;h<d.length;h++)d[h]!=="default"&&t(f,u,d[h]);return n(f,u),f}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(Mc()),s=i2(),o={set:s.setInterval,clear:s.clearInterval},a={set:(c,u)=>setInterval(c,u),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return a;case"worker":return o;case"auto":default:return i.default&&!i.isWebWorker&&!i.isReactNativeBrowser?o:a}};e.default=l}),Bw=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(s2()),r=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,s){this.destroyed=!1,this.client=i,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,n.default)(s),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=r}),Id=Ae(e=>{we(),Ee(),xe();var t=e&&e.__createBinding||(Object.create?function(S,E,A,M){M===void 0&&(M=A);var W=Object.getOwnPropertyDescriptor(E,A);(!W||("get"in W?!E.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return E[A]}}),Object.defineProperty(S,M,W)}:function(S,E,A,M){M===void 0&&(M=A),S[M]=E[A]}),n=e&&e.__setModuleDefault||(Object.create?function(S,E){Object.defineProperty(S,"default",{enumerable:!0,value:E})}:function(S,E){S.default=E}),r=e&&e.__importStar||function(){var S=function(E){return S=Object.getOwnPropertyNames||function(A){var M=[];for(var W in A)Object.prototype.hasOwnProperty.call(A,W)&&(M[M.length]=W);return M},S(E)};return function(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var M=S(E),W=0;W<M.length;W++)M[W]!=="default"&&t(A,E,M[W]);return n(A,E),A}}(),i=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(hP()),o=i(OP()),a=i(yw()),l=ds(),c=i(RP()),u=r(MP()),f=i(Nr()),d=i(vw()),h=i(e2()),p=io(),b=t2(),m=i(Bw()),v=r(Mc()),y=globalThis.setImmediate||((...S)=>{let E=S.shift();(0,p.nextTick)(()=>{E(...S)})}),x={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},P=class Od extends b.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(E,A){super(),this.options=A||{};for(let M in x)typeof this.options[M]>"u"?this.options[M]=x[M]:this.options[M]=A[M];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Od.VERSION),v.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",v.default?"browser":"node"),this.log("MqttClient :: options.protocol",A.protocol),this.log("MqttClient :: options.protocolVersion",A.protocolVersion),this.log("MqttClient :: options.username",A.username),this.log("MqttClient :: options.keepalive",A.keepalive),this.log("MqttClient :: options.reconnectPeriod",A.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",A.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",A.properties?A.properties.topicAliasMaximum:void 0),this.options.clientId=typeof A.clientId=="string"?A.clientId:Od.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=A.protocolVersion===5&&A.customHandleAcks?A.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(o.default.writeToStream.cacheNumbers=!1),this.streamBuilder=E,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=A.outgoingStore||new d.default,this.incomingStore=A.incomingStore||new d.default,this.queueQoSZero=A.queueQoSZero===void 0?!0:A.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,A.properties&&A.properties.topicAliasMaximum>0&&(A.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(A.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,W=()=>{let V=M.shift();this.log("deliver :: entry %o",V);let q=null;if(!V){this._resubscribe();return}q=V.packet,this.log("deliver :: call _sendPacket for %o",q);let I=!0;q.messageId&&q.messageId!==0&&(this.messageIdProvider.register(q.messageId)||(I=!1)),I?this._sendPacket(q,J=>{V.cb&&V.cb(J),W()}):(this.log("messageId: %d has already used. The message is skipped and removed.",q.messageId),W())};this.log("connect :: sending queued packets"),W()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(E,A){A()}handleMessage(E,A){A()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var E;let A=new l.Writable,M=o.default.parser(this.options),W=null,V=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new d.default,this.outgoingStore=this.options.outgoingStore||new d.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",G=>{this.log("parser :: on packet push to packets array."),V.push(G)});let q=()=>{this.log("work :: getting next packet in queue");let G=V.shift();if(G)this.log("work :: packet pulled from queue"),(0,h.default)(this,G,I);else{this.log("work :: no packets in queue");let de=W;W=null,this.log("work :: done flag is %s",!!de),de&&de()}},I=()=>{if(V.length)(0,p.nextTick)(q);else{let G=W;W=null,G()}};A._write=(G,de,oe)=>{W=oe,this.log("writable stream :: parsing buffer"),M.parse(G),q()};let J=G=>{this.log("streamErrorHandler :: error",G.message),G.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",G)):this.noop(G)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",J),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let le={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(le.will=Object.assign(Object.assign({},this.options.will),{payload:(E=this.options.will)===null||E===void 0?void 0:E.payload})),this.topicAliasRecv&&(le.properties||(le.properties={}),this.topicAliasRecv&&(le.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(le),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let G=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(G)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(E,A,M,W){this.log("publish :: message `%s` to topic `%s`",A,E);let{options:V}=this;typeof M=="function"&&(W=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:q,retain:I,dup:J,properties:le,cbStorePut:G}=M;if(this._checkDisconnecting(W))return this;let de=()=>{let oe=0;if((q===1||q===2)&&(oe=this._nextId(),oe===null))return this.log("No messageId left"),!1;let fe={cmd:"publish",topic:E,payload:A,qos:q,retain:I,messageId:oe,dup:J};switch(V.protocolVersion===5&&(fe.properties=le),this.log("publish :: qos",q),q){case 1:case 2:this.outgoing[fe.messageId]={volatile:!1,cb:W||this.noop},this.log("MqttClient:publish: packet cmd: %s",fe.cmd),this._sendPacket(fe,void 0,G);break;default:this.log("MqttClient:publish: packet cmd: %s",fe.cmd),this._sendPacket(fe,W,G);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!de())&&this._storeProcessingQueue.push({invoke:de,cbStorePut:M.cbStorePut,callback:W}),this}publishAsync(E,A,M){return new Promise((W,V)=>{this.publish(E,A,M,(q,I)=>{q?V(q):W(I)})})}subscribe(E,A,M){let W=this.options.protocolVersion;typeof A=="function"&&(M=A),M=M||this.noop;let V=!1,q=[];typeof E=="string"?(E=[E],q=E):Array.isArray(E)?q=E:typeof E=="object"&&(V=E.resubscribe,delete E.resubscribe,q=Object.keys(E));let I=u.validateTopics(q);if(I!==null)return y(M,new Error(`Invalid topic ${I}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let J={qos:0};W===5&&(J.nl=!1,J.rap=!1,J.rh=0),A=Object.assign(Object.assign({},J),A);let le=A.properties,G=[],de=(me,ae)=>{if(ae=ae||A,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,me)||this._resubscribeTopics[me].qos<ae.qos||V){let ge={topic:me,qos:ae.qos};W===5&&(ge.nl=ae.nl,ge.rap=ae.rap,ge.rh=ae.rh,ge.properties=le),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ge.topic,ge.qos),G.push(ge)}};if(Array.isArray(E)?E.forEach(me=>{this.log("subscribe: array topic %s",me),de(me)}):Object.keys(E).forEach(me=>{this.log("subscribe: object topic %s, %o",me,E[me]),de(me,E[me])}),!G.length)return M(null,[]),this;let oe=(me,ae)=>{let ge={cmd:"subscribe",subscriptions:me,messageId:ae};if(le&&(ge.properties=le),this.options.resubscribe){this.log("subscribe :: resubscribe true");let he=[];me.forEach(be=>{if(this.options.reconnectPeriod>0){let X={qos:be.qos};W===5&&(X.nl=be.nl||!1,X.rap=be.rap||!1,X.rh=be.rh||0,X.properties=be.properties),this._resubscribeTopics[be.topic]=X,he.push(be.topic)}}),this.messageIdToTopic[ge.messageId]=he}let F=new Promise((he,be)=>{this.outgoing[ge.messageId]={volatile:!0,cb(X,Pe){if(!X){let{granted:L}=Pe;for(let N=0;N<L.length;N+=1)me[N].qos=L[N]}X?be(new p.ErrorWithSubackPacket(X.message,Pe)):he(Pe)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(ge),F},fe=()=>{var me;let ae=(me=this.options.subscribeBatchSize)!==null&&me!==void 0?me:G.length,ge=[];for(let F=0;F<G.length;F+=ae){let he=G.slice(F,F+ae),be=this._nextId();if(be===null)return this.log("No messageId left"),!1;ge.push(oe(he,be))}return Promise.all(ge).then(F=>{M(null,G,F.at(-1))}).catch(F=>{M(F,G,F.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!fe())&&this._storeProcessingQueue.push({invoke:fe,callback:M}),this}subscribeAsync(E,A){return new Promise((M,W)=>{this.subscribe(E,A,(V,q)=>{V?W(V):M(q)})})}unsubscribe(E,A,M){typeof E=="string"&&(E=[E]),typeof A=="function"&&(M=A),M=M||this.noop;let W=u.validateTopics(E);if(W!==null)return y(M,new Error(`Invalid topic ${W}`)),this;if(this._checkDisconnecting(M))return this;let V=()=>{let q=this._nextId();if(q===null)return this.log("No messageId left"),!1;let I={cmd:"unsubscribe",messageId:q,unsubscriptions:[]};return typeof E=="string"?I.unsubscriptions=[E]:Array.isArray(E)&&(I.unsubscriptions=E),this.options.resubscribe&&I.unsubscriptions.forEach(J=>{delete this._resubscribeTopics[J]}),typeof A=="object"&&A.properties&&(I.properties=A.properties),this.outgoing[I.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(I),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!V())&&this._storeProcessingQueue.push({invoke:V,callback:M}),this}unsubscribeAsync(E,A){return new Promise((M,W)=>{this.unsubscribe(E,A,(V,q)=>{V?W(V):M(q)})})}end(E,A,M){this.log("end :: (%s)",this.options.clientId),(E==null||typeof E!="boolean")&&(M=M||A,A=E,E=!1),typeof A!="object"&&(M=M||A,A=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let W=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(q=>{this.outgoingStore.close(I=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let J=q||I;this.log("end :: closeStores: invoking callback with args"),M(J)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},V=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,E),this._cleanUp(E,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,p.nextTick)(W)},A)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!E&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,V,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),V()),this)}endAsync(E,A){return new Promise((M,W)=>{this.end(E,A,V=>{V?W(V):M()})})}removeOutgoingMessage(E){if(this.outgoing[E]){let{cb:A}=this.outgoing[E];this._removeOutgoingAndStoreMessage(E,()=>{A(new Error("Message removed"))})}return this}reconnect(E){this.log("client reconnect");let A=()=>{E?(this.options.incomingStore=E.incomingStore,this.options.outgoingStore=E.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new d.default,this.outgoingStore=this.options.outgoingStore||new d.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=A:A(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(E=>{this.outgoing[E].volatile&&typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(E=>{typeof this.outgoing[E].cb=="function"&&(this.outgoing[E].cb(new Error("Connection closed")),delete this.outgoing[E])}))}_removeTopicAliasAndRecoverTopicName(E){let A;E.properties&&(A=E.properties.topicAlias);let M=E.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",A,M),M.length===0){if(typeof A>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(A),typeof M>"u")return new Error("Unregistered Topic Alias");E.topic=M}A&&delete E.properties.topicAlias}_checkDisconnecting(E){return this.disconnecting&&(E&&E!==this.noop?E(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(E,A,M={}){if(A&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",A)),this.log("_cleanUp :: forced? %s",E),E)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let W=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(W,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),A&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",A),A())}_storeAndSend(E,A,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",E.cmd);let W=E,V;if(W.cmd==="publish"&&(W=(0,c.default)(E),V=this._removeTopicAliasAndRecoverTopicName(W),V))return A&&A(V);this.outgoingStore.put(W,q=>{if(q)return A&&A(q);M(),this._writePacket(E,A)})}_applyTopicAlias(E){if(this.options.protocolVersion===5&&E.cmd==="publish"){let A;E.properties&&(A=E.properties.topicAlias);let M=E.topic.toString();if(this.topicAliasSend)if(A){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,A),!this.topicAliasSend.put(M,A)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,A),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(A=this.topicAliasSend.getAliasByTopic(M),A?(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:A}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,A)):(A=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,A),E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:A}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,A))):this.options.autoUseTopicAlias&&(A=this.topicAliasSend.getAliasByTopic(M),A&&(E.topic="",E.properties=Object.assign(Object.assign({},E.properties),{topicAlias:A}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,A))));else if(A)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,A),new Error("Sending Topic Alias out of range")}}_noop(E){this.log("noop ::",E)}_writePacket(E,A){this.log("_writePacket :: packet: %O",E),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",E),this.log("_writePacket :: writing to stream");let M=o.default.writeToStream(E,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&A&&A!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",A)):A&&(this.log("_writePacket :: invoking cb"),A())}_sendPacket(E,A,M,W){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,A=A||this.noop;let V=this._applyTopicAlias(E);if(V){A(V);return}if(!this.connected){if(E.cmd==="auth"){this._writePacket(E,A);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(E,A,M);return}if(W){this._writePacket(E,A);return}switch(E.cmd){case"publish":break;case"pubrel":this._storeAndSend(E,A,M);return;default:this._writePacket(E,A);return}switch(E.qos){case 2:case 1:this._storeAndSend(E,A,M);break;case 0:default:this._writePacket(E,A);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(E,A,M){this.log("_storePacket :: packet: %o",E),this.log("_storePacket :: cb? %s",!!A),M=M||this.noop;let W=E;if(W.cmd==="publish"){W=(0,c.default)(E);let q=this._removeTopicAliasAndRecoverTopicName(W);if(q)return A&&A(q)}let V=W.qos||0;V===0&&this.queueQoSZero||W.cmd!=="publish"?this.queue.push({packet:W,cb:A}):V>0?(A=this.outgoing[W.messageId]?this.outgoing[W.messageId].cb:null,this.outgoingStore.put(W,q=>{if(q)return A&&A(q);M()})):A&&A(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new m.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(E=!1){this.keepaliveManager&&this.options.keepalive&&(E||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let E=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&E.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let A=0;A<E.length;A++){let M={};M[E[A]]=this._resubscribeTopics[E[A]],M.resubscribe=!0,this.subscribe(M,{properties:M[E[A]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(E){if(this.disconnected){this.emit("connect",E);return}this.connackPacket=E,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let A=()=>{let M=this.outgoingStore.createStream(),W=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),V()},V=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",W),M.on("error",I=>{V(),this._flushStoreProcessingQueue(),this.removeListener("close",W),this.emit("error",I)});let q=()=>{if(!M)return;let I=M.read(1),J;if(!I){M.once("readable",q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[I.messageId]){q();return}!this.disconnecting&&!this.reconnectTimer?(J=this.outgoing[I.messageId]?this.outgoing[I.messageId].cb:null,this.outgoing[I.messageId]={volatile:!1,cb(le,G){J&&J(le,G),q()}},this._packetIdsDuringStoreProcessing[I.messageId]=!0,this.messageIdProvider.register(I.messageId)?this._sendPacket(I,void 0,void 0,!0):this.log("messageId: %d has already used.",I.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let I=!0;for(let J in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[J]){I=!1;break}this.removeListener("close",W),I?(V(),this._invokeAllStoreProcessingQueue(),this.emit("connect",E)):A()}),q()};A()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let E=this._storeProcessingQueue[0];if(E&&E.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let E of this._storeProcessingQueue)E.cbStorePut&&E.cbStorePut(new Error("Connection closed")),E.callback&&E.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(E,A){delete this.outgoing[E],this.outgoingStore.del({messageId:E},(M,W)=>{A(M,W),this.messageIdProvider.deallocate(E),this._invokeStoreProcessingQueue()})}};P.VERSION=p.MQTTJS_VERSION,e.default=P}),o2=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=Nw(),n=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};e.default=n});function ki(e){throw new RangeError(Fw[e])}function Zm(e,t){let n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);let i=function(s,o){let a=[],l=s.length;for(;l--;)a[l]=o(s[l]);return a}((e=e.replace(jw,".")).split("."),t).join(".");return r+i}function e_(e){let t=[],n=0,r=e.length;for(;n<r;){let i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=e.charCodeAt(n++);(64512&s)==56320?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}var t_,n_,jw,Fw,$n,$a,gu,mu,_u,bu,Xr,a2=pn(()=>{we(),Ee(),xe(),t_=/^xn--/,n_=/[^\0-\x7E]/,jw=/[\x2E\u3002\uFF0E\uFF61]/g,Fw={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$n=Math.floor,$a=String.fromCharCode,gu=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},mu=function(e,t,n){let r=0;for(e=n?$n(e/700):e>>1,e+=$n(e/t);e>455;r+=36)e=$n(e/35);return $n(r+36*e/(e+38))},_u=function(e){let t=[],n=e.length,r=0,i=128,s=72,o=e.lastIndexOf("-");o<0&&(o=0);for(let l=0;l<o;++l)e.charCodeAt(l)>=128&&ki("not-basic"),t.push(e.charCodeAt(l));for(let l=o>0?o+1:0;l<n;){let c=r;for(let f=1,d=36;;d+=36){l>=n&&ki("invalid-input");let h=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(h>=36||h>$n((2147483647-r)/f))&&ki("overflow"),r+=h*f;let p=d<=s?1:d>=s+26?26:d-s;if(h<p)break;let b=36-p;f>$n(2147483647/b)&&ki("overflow"),f*=b}let u=t.length+1;s=mu(r-c,u,c==0),$n(r/u)>2147483647-i&&ki("overflow"),i+=$n(r/u),r%=u,t.splice(r++,0,i)}var a;return String.fromCodePoint(...t)},bu=function(e){let t=[],n=(e=e_(e)).length,r=128,i=0,s=72;for(let l of e)l<128&&t.push($a(l));let o=t.length,a=o;for(o&&t.push("-");a<n;){let l=2147483647;for(let u of e)u>=r&&u<l&&(l=u);let c=a+1;l-r>$n((2147483647-i)/c)&&ki("overflow"),i+=(l-r)*c,r=l;for(let u of e)if(u<r&&++i>2147483647&&ki("overflow"),u==r){let f=i;for(let d=36;;d+=36){let h=d<=s?1:d>=s+26?26:d-s;if(f<h)break;let p=f-h,b=36-h;t.push($a(gu(h+p%b,0))),f=$n(p/b)}t.push($a(gu(f,0))),s=mu(i,c,a==o),i=0,++a}++i,++r}return t.join("")},Xr={version:"2.1.0",ucs2:{decode:e_,encode:e=>String.fromCodePoint(...e)},decode:_u,encode:bu,toASCII:function(e){return Zm(e,function(t){return n_.test(t)?"xn--"+bu(t):t})},toUnicode:function(e){return Zm(e,function(t){return t_.test(t)?_u(t.slice(4).toLowerCase()):t})}},Xr.decode,Xr.encode,Xr.toASCII,Xr.toUnicode,Xr.ucs2,Xr.version});function l2(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var r_,ws,i_,rr,c2=pn(()=>{we(),Ee(),xe(),r_=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c,u,f,d,h=e[l].replace(s,"%20"),p=h.indexOf(n);p>=0?(c=h.substr(0,p),u=h.substr(p+1)):(c=h,u=""),f=decodeURIComponent(c),d=decodeURIComponent(u),l2(i,f)?Array.isArray(i[f])?i[f].push(d):i[f]=[i[f],d]:i[f]=d}return i},ws=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},i_=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var s=encodeURIComponent(ws(i))+n;return Array.isArray(e[i])?e[i].map(function(o){return s+encodeURIComponent(ws(o))}).join(t):s+encodeURIComponent(ws(e[i]))}).join(t):r?encodeURIComponent(ws(r))+n+encodeURIComponent(ws(e)):""},rr={},rr.decode=rr.parse=r_,rr.encode=rr.stringify=i_,rr.decode,rr.encode,rr.parse,rr.stringify});function Pd(){throw new Error("setTimeout has not been defined")}function Rd(){throw new Error("clearTimeout has not been defined")}function Uw(e){if(Cr===setTimeout)return setTimeout(e,0);if((Cr===Pd||!Cr)&&setTimeout)return Cr=setTimeout,setTimeout(e,0);try{return Cr(e,0)}catch{try{return Cr.call(null,e,0)}catch{return Cr.call(this||Xi,e,0)}}}function u2(){Ji&&$i&&(Ji=!1,$i.length?dr=$i.concat(dr):Ho=-1,dr.length&&$w())}function $w(){if(!Ji){var e=Uw(u2);Ji=!0;for(var t=dr.length;t;){for($i=dr,dr=[];++Ho<t;)$i&&$i[Ho].run();Ho=-1,t=dr.length}$i=null,Ji=!1,function(n){if(Ir===clearTimeout)return clearTimeout(n);if((Ir===Rd||!Ir)&&clearTimeout)return Ir=clearTimeout,clearTimeout(n);try{Ir(n)}catch{try{return Ir.call(null,n)}catch{return Ir.call(this||Xi,n)}}}(e)}}function s_(e,t){(this||Xi).fun=e,(this||Xi).array=t}function wr(){}var o_,Cr,Ir,Xi,Mt,$i,dr,Ji,Ho,It,f2=pn(()=>{we(),Ee(),xe(),Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mt=o_={},function(){try{Cr=typeof setTimeout=="function"?setTimeout:Pd}catch{Cr=Pd}try{Ir=typeof clearTimeout=="function"?clearTimeout:Rd}catch{Ir=Rd}}(),dr=[],Ji=!1,Ho=-1,Mt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];dr.push(new s_(e,t)),dr.length!==1||Ji||Uw($w)},s_.prototype.run=function(){(this||Xi).fun.apply(null,(this||Xi).array)},Mt.title="browser",Mt.browser=!0,Mt.env={},Mt.argv=[],Mt.version="",Mt.versions={},Mt.on=wr,Mt.addListener=wr,Mt.once=wr,Mt.off=wr,Mt.removeListener=wr,Mt.removeAllListeners=wr,Mt.emit=wr,Mt.prependListener=wr,Mt.prependOnceListener=wr,Mt.listeners=function(e){return[]},Mt.binding=function(e){throw new Error("process.binding is not supported")},Mt.cwd=function(){return"/"},Mt.chdir=function(e){throw new Error("process.chdir is not supported")},Mt.umask=function(){return 0},It=o_,It.addListener,It.argv,It.binding,It.browser,It.chdir,It.cwd,It.emit,It.env,It.listeners,It.nextTick,It.off,It.on,It.once,It.prependListener,It.prependOnceListener,It.removeAllListeners,It.removeListener,It.title,It.umask,It.version,It.versions});function d2(){if(Md)return Ol;Md=!0;var e=Ol={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function s(b){if(t===setTimeout)return setTimeout(b,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(b,0);try{return t(b,0)}catch{try{return t.call(null,b,0)}catch{return t.call(this||Mi,b,0)}}}function o(b){if(n===clearTimeout)return clearTimeout(b);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(b);try{return n(b)}catch{try{return n.call(null,b)}catch{return n.call(this||Mi,b)}}}var a=[],l=!1,c,u=-1;function f(){!l||!c||(l=!1,c.length?a=c.concat(a):u=-1,a.length&&d())}function d(){if(!l){var b=s(f);l=!0;for(var m=a.length;m;){for(c=a,a=[];++u<m;)c&&c[u].run();u=-1,m=a.length}c=null,l=!1,o(b)}}e.nextTick=function(b){var m=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)m[v-1]=arguments[v];a.push(new h(b,m)),a.length===1&&!l&&s(d)};function h(b,m){(this||Mi).fun=b,(this||Mi).array=m}h.prototype.run=function(){(this||Mi).fun.apply(null,(this||Mi).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function p(){}return e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(b){return[]},e.binding=function(b){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(b){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ol}var Ol,Md,Mi,At,Vw=pn(()=>{we(),Ee(),xe(),Ol={},Md=!1,Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,At=d2(),At.platform="browser",At.addListener,At.argv,At.binding,At.browser,At.chdir,At.cwd,At.emit,At.env,At.listeners,At.nextTick,At.off,At.on,At.once,At.prependListener,At.prependOnceListener,At.removeAllListeners,At.removeListener,At.title,At.umask,At.version,At.versions});function h2(){if(Dd)return Pl;Dd=!0;var e=At;function t(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,o){for(var a="",l=0,c=-1,u=0,f,d=0;d<=s.length;++d){if(d<s.length)f=s.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var h=a.lastIndexOf("/");if(h!==a.length-1){h===-1?(a="",l=0):(a=a.slice(0,h),l=a.length-1-a.lastIndexOf("/")),c=d,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=d,u=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(c+1,d):a=s.slice(c+1,d),l=d-c-1;c=d,u=0}else f===46&&u!==-1?++u:u=-1}return a}function r(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=e.cwd()),c=a),t(c),c.length!==0&&(s=c+"/"+s,o=c.charCodeAt(0)===47)}return s=n(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=n(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];t(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(t(s),t(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,c=l-a,u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var f=o.length,d=f-u,h=c<d?c:d,p=-1,b=0;b<=h;++b){if(b===h){if(d>h){if(o.charCodeAt(u+b)===47)return o.slice(u+b+1);if(b===0)return o.slice(u+b)}else c>h&&(s.charCodeAt(a+b)===47?p=b:b===0&&(p=0));break}var m=s.charCodeAt(a+b),v=o.charCodeAt(u+b);if(m!==v)break;m===47&&(p=b)}var y="";for(b=a+p+1;b<=l;++b)(b===l||s.charCodeAt(b)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+o.slice(u+p):(u+=p,o.charCodeAt(u)===47&&++u,o.slice(u))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,c=!0,u=s.length-1;u>=1;--u)if(o=s.charCodeAt(u),o===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');t(s);var a=0,l=-1,c=!0,u;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,d=-1;for(u=s.length-1;u>=0;--u){var h=s.charCodeAt(u);if(h===47){if(!c){a=u+1;break}}else d===-1&&(c=!1,d=u+1),f>=0&&(h===o.charCodeAt(f)?--f===-1&&(l=u):(f=-1,l=d))}return a===l?l=d:l===-1&&(l=s.length),s.slice(a,l)}else{for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":s.slice(a,l)}},extname:function(s){t(s);for(var o=-1,a=0,l=-1,c=!0,u=0,f=s.length-1;f>=0;--f){var d=s.charCodeAt(f);if(d===47){if(!c){a=f+1;break}continue}l===-1&&(c=!1,l=f+1),d===46?o===-1?o=f:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||l===-1||u===0||u===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return r("/",s)},parse:function(s){t(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,c;l?(o.root="/",c=1):c=0;for(var u=-1,f=0,d=-1,h=!0,p=s.length-1,b=0;p>=c;--p){if(a=s.charCodeAt(p),a===47){if(!h){f=p+1;break}continue}d===-1&&(h=!1,d=p+1),a===46?u===-1?u=p:b!==1&&(b=1):u!==-1&&(b=-1)}return u===-1||d===-1||b===0||b===1&&u===d-1&&u===f+1?d!==-1&&(f===0&&l?o.base=o.name=s.slice(1,d):o.base=o.name=s.slice(f,d)):(f===0&&l?(o.name=s.slice(1,u),o.base=s.slice(1,d)):(o.name=s.slice(f,u),o.base=s.slice(f,d)),o.ext=s.slice(u,d)),f>0?o.dir=s.slice(0,f-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Pl=i,Pl}var Pl,Dd,Ld,p2=pn(()=>{we(),Ee(),xe(),Vw(),Pl={},Dd=!1,Ld=h2()}),Ww={};no(Ww,{URL:()=>a1,Url:()=>n1,default:()=>ht,fileURLToPath:()=>Hw,format:()=>r1,parse:()=>o1,pathToFileURL:()=>zw,resolve:()=>i1,resolveObject:()=>s1});function Rn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function go(e,t,n){if(e&&Vn.isObject(e)&&e instanceof Rn)return e;var r=new Rn;return r.parse(e,t,n),r}function g2(){if(Nd)return Rl;Nd=!0;var e=It;function t(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function n(s,o){for(var a="",l=0,c=-1,u=0,f,d=0;d<=s.length;++d){if(d<s.length)f=s.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(c===d-1||u===1))if(c!==d-1&&u===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var h=a.lastIndexOf("/");if(h!==a.length-1){h===-1?(a="",l=0):(a=a.slice(0,h),l=a.length-1-a.lastIndexOf("/")),c=d,u=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=d,u=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(c+1,d):a=s.slice(c+1,d),l=d-c-1;c=d,u=0}else f===46&&u!==-1?++u:u=-1}return a}function r(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var c;l>=0?c=arguments[l]:(a===void 0&&(a=e.cwd()),c=a),t(c),c.length!==0&&(s=c+"/"+s,o=c.charCodeAt(0)===47)}return s=n(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=n(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];t(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(t(s),t(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,c=l-a,u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var f=o.length,d=f-u,h=c<d?c:d,p=-1,b=0;b<=h;++b){if(b===h){if(d>h){if(o.charCodeAt(u+b)===47)return o.slice(u+b+1);if(b===0)return o.slice(u+b)}else c>h&&(s.charCodeAt(a+b)===47?p=b:b===0&&(p=0));break}var m=s.charCodeAt(a+b),v=o.charCodeAt(u+b);if(m!==v)break;m===47&&(p=b)}var y="";for(b=a+p+1;b<=l;++b)(b===l||s.charCodeAt(b)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+o.slice(u+p):(u+=p,o.charCodeAt(u)===47&&++u,o.slice(u))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,c=!0,u=s.length-1;u>=1;--u)if(o=s.charCodeAt(u),o===47){if(!c){l=u;break}}else c=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');t(s);var a=0,l=-1,c=!0,u;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,d=-1;for(u=s.length-1;u>=0;--u){var h=s.charCodeAt(u);if(h===47){if(!c){a=u+1;break}}else d===-1&&(c=!1,d=u+1),f>=0&&(h===o.charCodeAt(f)?--f===-1&&(l=u):(f=-1,l=d))}return a===l?l=d:l===-1&&(l=s.length),s.slice(a,l)}else{for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!c){a=u+1;break}}else l===-1&&(c=!1,l=u+1);return l===-1?"":s.slice(a,l)}},extname:function(s){t(s);for(var o=-1,a=0,l=-1,c=!0,u=0,f=s.length-1;f>=0;--f){var d=s.charCodeAt(f);if(d===47){if(!c){a=f+1;break}continue}l===-1&&(c=!1,l=f+1),d===46?o===-1?o=f:u!==1&&(u=1):o!==-1&&(u=-1)}return o===-1||l===-1||u===0||u===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return r("/",s)},parse:function(s){t(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,c;l?(o.root="/",c=1):c=0;for(var u=-1,f=0,d=-1,h=!0,p=s.length-1,b=0;p>=c;--p){if(a=s.charCodeAt(p),a===47){if(!h){f=p+1;break}continue}d===-1&&(h=!1,d=p+1),a===46?u===-1?u=p:b!==1&&(b=1):u!==-1&&(b=-1)}return u===-1||d===-1||b===0||b===1&&u===d-1&&u===f+1?d!==-1&&(f===0&&l?o.base=o.name=s.slice(1,d):o.base=o.name=s.slice(f,d)):(f===0&&l?(o.name=s.slice(1,u),o.base=s.slice(1,d)):(o.name=s.slice(f,u),o.base=s.slice(f,d)),o.ext=s.slice(u,d)),f>0?o.dir=s.slice(0,f-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Rl=i,Rl}function m2(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return nc?_2(e):b2(e)}function _2(e){let t=e.hostname,n=e.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let i=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&i===102||n[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(Qw,"\\"),n=decodeURIComponent(n),t!=="")return`\\\\${t}${n}`;{let r=n.codePointAt(1)|32,i=n[2];if(r<Gw||r>Yw||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function b2(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let r=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function y2(e){let t=Bd.resolve(e),n=e.charCodeAt(e.length-1);(n===Kw||nc&&n===qw)&&t[t.length-1]!==Bd.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(Xw,"%25")),!nc&&t.includes("\\")&&(t=t.replace(Jw,"%5C")),t.includes(`
`)&&(t=t.replace(Zw,"%0A")),t.includes("\r")&&(t=t.replace(e1,"%0D")),t.includes("	")&&(t=t.replace(t1,"%09")),r.pathname=t,r}function Hw(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return rc?v2(e):w2(e)}function v2(e){let t=e.hostname,n=e.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let i=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&i===102||n[r+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(d1,"\\"),n=decodeURIComponent(n),t!=="")return`\\\\${t}${n}`;{let r=n.codePointAt(1)|32,i=n[2];if(r<u1||r>f1||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function w2(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let r=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function zw(e){let t=Ld.resolve(e),n=e.charCodeAt(e.length-1);(n===c1||rc&&n===l1)&&t[t.length-1]!==Ld.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(h1,"%25")),!rc&&t.includes("\\")&&(t=t.replace(p1,"%5C")),t.includes(`
`)&&(t=t.replace(g1,"%0A")),t.includes("\r")&&(t=t.replace(m1,"%0D")),t.includes("	")&&(t=t.replace(_1,"%09")),r.pathname=t,r}var ht,a_,Vn,l_,c_,u_,f_,Va,yu,vu,wu,d_,h_,Wa,Ai,Ha,Rl,Nd,Bd,p_,qw,Kw,Gw,Yw,nc,Qw,Xw,Jw,Zw,e1,t1,g_,n1,r1,i1,s1,o1,a1,l1,c1,u1,f1,rc,d1,h1,p1,g1,m1,_1,x2=pn(()=>{we(),Ee(),xe(),a2(),c2(),f2(),p2(),Vw(),ht={},a_=Xr,Vn={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},ht.parse=go,ht.resolve=function(e,t){return go(e,!1,!0).resolve(t)},ht.resolveObject=function(e,t){return e?go(e,!1,!0).resolveObject(t):t},ht.format=function(e){return Vn.isString(e)&&(e=go(e)),e instanceof Rn?e.format():Rn.prototype.format.call(e)},ht.Url=Rn,l_=/^([a-z0-9.+-]+:)/i,c_=/:[0-9]*$/,u_=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f_=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Va=["'"].concat(f_),yu=["%","/","?",";","#"].concat(Va),vu=["/","?","#"],wu=/^[+a-z0-9A-Z_-]{0,63}$/,d_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h_={javascript:!0,"javascript:":!0},Wa={javascript:!0,"javascript:":!0},Ai={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ha=rr,Rn.prototype.parse=function(e,t,n){if(!Vn.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",s=e.split(i);s[0]=s[0].replace(/\\/g,"/");var o=e=s.join(i);if(o=o.trim(),!n&&e.split("#").length===1){var a=u_.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Ha.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=l_.exec(o);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,o=o.substr(l.length)}if(n||l||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=o.substr(0,2)==="//";!u||l&&Wa[l]||(o=o.substr(2),this.slashes=!0)}if(!Wa[l]&&(u||l&&!Ai[l])){for(var f,d,h=-1,p=0;p<vu.length;p++)(b=o.indexOf(vu[p]))!==-1&&(h===-1||b<h)&&(h=b);for((d=h===-1?o.lastIndexOf("@"):o.lastIndexOf("@",h))!==-1&&(f=o.slice(0,d),o=o.slice(d+1),this.auth=decodeURIComponent(f)),h=-1,p=0;p<yu.length;p++){var b;(b=o.indexOf(yu[p]))!==-1&&(h===-1||b<h)&&(h=b)}h===-1&&(h=o.length),this.host=o.slice(0,h),o=o.slice(h),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var v=this.hostname.split(/\./),y=(p=0,v.length);p<y;p++){var x=v[p];if(x&&!x.match(wu)){for(var P="",S=0,E=x.length;S<E;S++)x.charCodeAt(S)>127?P+="x":P+=x[S];if(!P.match(wu)){var A=v.slice(0,p),M=v.slice(p+1),W=x.match(d_);W&&(A.push(W[1]),M.unshift(W[2])),M.length&&(o="/"+M.join(".")+o),this.hostname=A.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=a_.toASCII(this.hostname));var V=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+V,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!h_[c])for(p=0,y=Va.length;p<y;p++){var I=Va[p];if(o.indexOf(I)!==-1){var J=encodeURIComponent(I);J===I&&(J=escape(I)),o=o.split(I).join(J)}}var le=o.indexOf("#");le!==-1&&(this.hash=o.substr(le),o=o.slice(0,le));var G=o.indexOf("?");if(G!==-1?(this.search=o.substr(G),this.query=o.substr(G+1),t&&(this.query=Ha.parse(this.query)),o=o.slice(0,G)):t&&(this.search="",this.query={}),o&&(this.pathname=o),Ai[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var de=this.search||"";this.path=V+de}return this.href=this.format(),this},Rn.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Vn.isObject(this.query)&&Object.keys(this.query).length&&(s=Ha.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ai[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+r},Rn.prototype.resolve=function(e){return this.resolveObject(go(e,!1,!0)).format()},Rn.prototype.resolveObject=function(e){if(Vn.isString(e)){var t=new Rn;t.parse(e,!1,!0),e=t}for(var n=new Rn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(n[l]=e[l])}return Ai[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Ai[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var f=c[u];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Wa[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),d[0]!==""&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&n.pathname.charAt(0)==="/",m=e.host||e.pathname&&e.pathname.charAt(0)==="/",v=m||b||n.host&&e.pathname,y=v,x=n.pathname&&n.pathname.split("/")||[],P=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Ai[n.protocol]);if(P&&(n.hostname="",n.port=null,n.host&&(x[0]===""?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(d[0]===""?d[0]=e.host:d.unshift(e.host)),e.host=null),v=v&&(d[0]===""||x[0]==="")),m)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),n.search=e.search,n.query=e.query;else if(!Vn.isNullOrUndefined(e.search))return P&&(n.hostname=n.host=x.shift(),(W=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=W.shift(),n.host=n.hostname=W.shift())),n.search=e.search,n.query=e.query,Vn.isNull(n.pathname)&&Vn.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=x.slice(-1)[0],E=(n.host||e.host||x.length>1)&&(S==="."||S==="..")||S==="",A=0,M=x.length;M>=0;M--)(S=x[M])==="."?x.splice(M,1):S===".."?(x.splice(M,1),A++):A&&(x.splice(M,1),A--);if(!v&&!y)for(;A--;A)x.unshift("..");!v||x[0]===""||x[0]&&x[0].charAt(0)==="/"||x.unshift(""),E&&x.join("/").substr(-1)!=="/"&&x.push("");var W,V=x[0]===""||x[0]&&x[0].charAt(0)==="/";return P&&(n.hostname=n.host=V?"":x.length?x.shift():"",(W=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=W.shift(),n.host=n.hostname=W.shift())),(v=v||n.host&&x.length)&&!V&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),Vn.isNull(n.pathname)&&Vn.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Rn.prototype.parseHost=function(){var e=this.host,t=c_.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},ht.Url,ht.format,ht.resolve,ht.resolveObject,Rl={},Nd=!1,Bd=g2(),p_=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ht.URL=typeof URL<"u"?URL:null,ht.pathToFileURL=y2,ht.fileURLToPath=m2,ht.Url,ht.format,ht.resolve,ht.resolveObject,ht.URL,qw=92,Kw=47,Gw=97,Yw=122,nc=p_==="win32",Qw=/\//g,Xw=/%/g,Jw=/\\/g,Zw=/\n/g,e1=/\r/g,t1=/\t/g,g_=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ht.URL=typeof URL<"u"?URL:null,ht.pathToFileURL=zw,ht.fileURLToPath=Hw,n1=ht.Url,r1=ht.format,i1=ht.resolve,s1=ht.resolveObject,o1=ht.parse,a1=ht.URL,l1=92,c1=47,u1=97,f1=122,rc=g_==="win32",d1=/\//g,h1=/%/g,p1=/\\/g,g1=/\n/g,m1=/\r/g,_1=/\t/g}),E2=Ae((e,t)=>{we(),Ee(),xe(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Vh=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=r;var t=ds(),n=(Gt(),mt(Kt));function r(s,o){let a=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?a[l]=n.Buffer.from(s[l].chunk,"utf8"):a[l]=s[l].chunk;this._write(n.Buffer.concat(a),"binary",o)}var i=class extends t.Duplex{constructor(s,o,a){super({objectMode:!0}),this.proxy=o,this.socket=a,this.writeQueue=[],s.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(s){this.proxy.read(s)}_write(s,o,a){this.isSocketOpen?this.writeToProxy(s,o,a):this.writeQueue.push({chunk:s,encoding:o,cb:a})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,o){this.writeQueue=[],this.proxy.destroy(),o(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,o,a){this.proxy.write(s,o)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:o,cb:a}=this.writeQueue.shift();this.writeToProxy(s,o,a)}}};e.BufferedDuplex=i}),za=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var n=(Gt(),mt(Kt)),r=t(E2()),i=t(Nr()),s=ds(),o=t(Mc()),a=Vh(),l=(0,i.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function u(v,y){let x=`${v.protocol}://${v.hostname}:${v.port}${v.path}`;return typeof v.transformWsUrl=="function"&&(x=v.transformWsUrl(x,v,y)),x}function f(v){let y=v;return v.port||(v.protocol==="wss"?y.port=443:y.port=80),v.path||(y.path="/"),v.wsOptions||(y.wsOptions={}),!o.default&&!v.forceNativeWebSocket&&v.protocol==="wss"&&c.forEach(x=>{Object.prototype.hasOwnProperty.call(v,x)&&!Object.prototype.hasOwnProperty.call(v.wsOptions,x)&&(y.wsOptions[x]=v[x])}),y}function d(v){let y=f(v);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let x=new URL(document.URL);y.hostname=x.hostname,y.port||(y.port=Number(x.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function h(v,y,x){l("createWebSocket"),l(`protocol: ${x.protocolId} ${x.protocolVersion}`);let P=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${y} and protocol: ${P}`);let S;return x.createWebsocket?S=x.createWebsocket(y,[P],x):S=new r.default(y,[P],x.wsOptions),S}function p(v,y){let x=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",P=u(y,v),S;return y.createWebsocket?S=y.createWebsocket(P,[x],y):S=new WebSocket(P,[x]),S.binaryType="arraybuffer",S}var b=(v,y)=>{l("streamBuilder");let x=f(y);x.hostname=x.hostname||x.host||"localhost";let P=u(x,v),S=h(v,P,x),E=r.default.createWebSocketStream(S,x.wsOptions);return E.url=P,S.on("close",()=>{E.destroy()}),E};e.streamBuilder=b;var m=(v,y)=>{l("browserStreamBuilder");let x,P=d(y).browserBufferSize||1024*512,S=y.browserBufferTimeout||1e3,E=!y.objectMode,A=p(v,y),M=V(y,G,de);y.objectMode||(M._writev=a.writev.bind(M)),M.on("close",()=>{A.close()});let W=typeof A.addEventListener<"u";A.readyState===A.OPEN?(x=M,x.socket=A):(x=new a.BufferedDuplex(y,M,A),W?A.addEventListener("open",q):A.onopen=q),W?(A.addEventListener("close",I),A.addEventListener("error",J),A.addEventListener("message",le)):(A.onclose=I,A.onerror=J,A.onmessage=le);function V(oe,fe,me){let ae=new s.Transform({objectMode:oe.objectMode});return ae._write=fe,ae._flush=me,ae}function q(){l("WebSocket onOpen"),x instanceof a.BufferedDuplex&&x.socketReady()}function I(oe){l("WebSocket onClose",oe),x.end(),x.destroy()}function J(oe){l("WebSocket onError",oe);let fe=new Error("WebSocket error");fe.event=oe,x.destroy(fe)}async function le(oe){if(!M||M.destroyed||!M.readable)return;let{data:fe}=oe;fe instanceof ArrayBuffer?fe=n.Buffer.from(fe):fe instanceof Blob?fe=n.Buffer.from(await new Response(fe).arrayBuffer()):fe=n.Buffer.from(fe,"utf8"),M.push(fe)}function G(oe,fe,me){if(A.bufferedAmount>P){setTimeout(G,S,oe,fe,me);return}E&&typeof oe=="string"&&(oe=n.Buffer.from(oe,"utf8"));try{A.send(oe)}catch(ae){return me(ae)}me()}function de(oe){A.close(),oe()}return x};e.browserStreamBuilder=m}),Wh={};no(Wh,{Server:()=>Tt,Socket:()=>Tt,Stream:()=>Tt,_createServerHandle:()=>Tt,_normalizeArgs:()=>Tt,_setSimultaneousAccepts:()=>Tt,connect:()=>Tt,createConnection:()=>Tt,createServer:()=>Tt,default:()=>b1,isIP:()=>Tt,isIPv4:()=>Tt,isIPv6:()=>Tt});function Tt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var b1,y1=pn(()=>{we(),Ee(),xe(),b1={_createServerHandle:Tt,_normalizeArgs:Tt,_setSimultaneousAccepts:Tt,connect:Tt,createConnection:Tt,createServer:Tt,isIP:Tt,isIPv4:Tt,isIPv6:Tt,Server:Tt,Socket:Tt,Stream:Tt}}),v1=Ae((e,t)=>{we(),Ee(),xe(),t.exports={}}),m_=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var n=t((y1(),mt(Wh))),r=t(Nr()),i=t(v1()),s=(0,r.default)("mqttjs:tcp"),o=(a,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,i.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:c,path:u}=l,f=l.hostname;return s("port %d and host %s",c,f),n.default.createConnection({port:c,host:f,path:u})};e.default=o}),w1={};no(w1,{default:()=>x1});var x1,S2=pn(()=>{we(),Ee(),xe(),x1={}}),__=Ae(e=>{we(),Ee(),xe();var t=e&&e.__rest||function(u,f){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&f.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,h=Object.getOwnPropertySymbols(u);p<h.length;p++)f.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(u,h[p])&&(d[h[p]]=u[h[p]]);return d},n=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var r=n((S2(),mt(w1))),i=n((y1(),mt(Wh))),s=n(Nr()),o=n(v1()),a=(0,s.default)("mqttjs:tls");function l(u){let{host:f,port:d,socksProxy:h}=u,p=t(u,["host","port","socksProxy"]);return r.default.connect(h?Object.assign(Object.assign({},p),{socket:(0,o.default)(f,d,h,{timeout:u.socksTimeout})}):u)}var c=(u,f)=>{f.port=f.port||8883,f.host=f.hostname||f.host||"localhost",i.default.isIP(f.host)===0&&(f.servername=f.host),f.rejectUnauthorized=f.rejectUnauthorized!==!1,delete f.path,a("port %d host %s rejectUnauthorized %b",f.port,f.host,f.rejectUnauthorized);let d=l(f);d.on("secureConnect",()=>{f.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",h)});function h(p){f.rejectUnauthorized&&u.emit("error",p),d.end()}return d.on("error",h),d};e.default=c}),b_=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Gt(),mt(Kt)),n=ds(),r=Vh(),i,s,o;function a(){let d=new n.Transform;return d._write=(h,p,b)=>{i.send({data:h.buffer,success(){b()},fail(m){b(new Error(m))}})},d._flush=h=>{i.close({success(){h()}})},d}function l(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function c(d,h){let p=d.protocol==="wxs"?"wss":"ws",b=`${p}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(b=`${p}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(b=d.transformWsUrl(b,d,h)),b}function u(){i.onOpen(()=>{o.socketReady()}),i.onMessage(d=>{let{data:h}=d;h instanceof ArrayBuffer?h=t.Buffer.from(h):h=t.Buffer.from(h,"utf8"),s.push(h)}),i.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),i.onError(d=>{let h=new Error(d.errMsg);o.destroy(h)})}var f=(d,h)=>{if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");let p=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";l(h);let b=c(h,d);i=wx.connectSocket({url:b,protocols:[p]}),s=a(),o=new r.BufferedDuplex(h,s,i),o._destroy=(v,y)=>{i.close({success(){y&&y(v)}})};let m=o.destroy;return o.destroy=(v,y)=>(o.destroy=m,setTimeout(()=>{i.close({fail(){o._destroy(v,y)}})},0),o),u(),o};e.default=f}),y_=Ae(e=>{we(),Ee(),xe(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Gt(),mt(Kt)),n=ds(),r=Vh(),i,s,o,a=!1;function l(){let h=new n.Transform;return h._write=(p,b,m)=>{i.sendSocketMessage({data:p.buffer,success(){m()},fail(){m(new Error)}})},h._flush=p=>{i.closeSocket({success(){p()}})},h}function c(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})}function u(h,p){let b=h.protocol==="alis"?"wss":"ws",m=`${b}://${h.hostname}${h.path}`;return h.port&&h.port!==80&&h.port!==443&&(m=`${b}://${h.hostname}:${h.port}${h.path}`),typeof h.transformWsUrl=="function"&&(m=h.transformWsUrl(m,h,p)),m}function f(){a||(a=!0,i.onSocketOpen(()=>{o.socketReady()}),i.onSocketMessage(h=>{if(typeof h.data=="string"){let p=t.Buffer.from(h.data,"base64");s.push(p)}else{let p=new FileReader;p.addEventListener("load",()=>{let b=p.result;b instanceof ArrayBuffer?b=t.Buffer.from(b):b=t.Buffer.from(b,"utf8"),s.push(b)}),p.readAsArrayBuffer(h.data)}}),i.onSocketClose(()=>{o.end(),o.destroy()}),i.onSocketError(h=>{o.destroy(h)}))}var d=(h,p)=>{if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");let b=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";c(p);let m=u(p,h);return i=p.my,i.connectSocket({url:m,protocols:b}),s=l(),o=new r.BufferedDuplex(p,s,i),f(),o};e.default=d}),k2=Ae(e=>{we(),Ee(),xe();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=u;var n=t(Nr()),r=t((x2(),mt(Ww))),i=t(Id()),s=t(Mc());typeof(ot==null?void 0:ot.nextTick)!="function"&&(ot.nextTick=setImmediate);var o=(0,n.default)("mqttjs"),a=null;function l(f){let d;f.auth&&(d=f.auth.match(/^(.+):(.+)$/),d?(f.username=d[1],f.password=d[2]):f.username=f.auth)}function c(f,d){var h,p,b;if(o("connecting to an MQTT broker..."),typeof f=="object"&&!d&&(d=f,f=""),d=d||{},f&&typeof f=="string"){let y=r.default.parse(f,!0),x={};if(y.port!=null&&(x.port=Number(y.port)),x.host=y.hostname,x.query=y.query,x.auth=y.auth,x.protocol=y.protocol,x.path=y.path,d=Object.assign(Object.assign({},x),d),!d.protocol)throw new Error("Missing protocol");d.protocol=d.protocol.replace(/:$/,"")}if(d.unixSocket=d.unixSocket||((h=d.protocol)===null||h===void 0?void 0:h.includes("+unix")),d.unixSocket?d.protocol=d.protocol.replace("+unix",""):!(!((p=d.protocol)===null||p===void 0)&&p.startsWith("ws"))&&!(!((b=d.protocol)===null||b===void 0)&&b.startsWith("wx"))&&delete d.path,l(d),d.query&&typeof d.query.clientId=="string"&&(d.clientId=d.query.clientId),s.default||d.unixSocket?d.socksProxy=void 0:d.socksProxy===void 0&&typeof ot<"u"&&(d.socksProxy=ot.env.MQTTJS_SOCKS_PROXY),d.cert&&d.key)if(d.protocol){if(["mqtts","wss","wxs","alis"].indexOf(d.protocol)===-1)switch(d.protocol){case"mqtt":d.protocol="mqtts";break;case"ws":d.protocol="wss";break;case"wx":d.protocol="wxs";break;case"ali":d.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${d.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!s.default&&!d.forceNativeWebSocket?(a.ws=za().streamBuilder,a.wss=za().streamBuilder,a.mqtt=m_().default,a.tcp=m_().default,a.ssl=__().default,a.tls=a.ssl,a.mqtts=__().default):(a.ws=za().browserStreamBuilder,a.wss=za().browserStreamBuilder,a.wx=b_().default,a.wxs=b_().default,a.ali=y_().default,a.alis=y_().default)),!a[d.protocol]){let y=["mqtts","wss"].indexOf(d.protocol)!==-1;d.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((x,P)=>y&&P%2===0?!1:typeof a[x]=="function")[0]}if(d.clean===!1&&!d.clientId)throw new Error("Missing clientId for unclean clients");d.protocol&&(d.defaultProtocol=d.protocol);function m(y){return d.servers&&((!y._reconnectCount||y._reconnectCount===d.servers.length)&&(y._reconnectCount=0),d.host=d.servers[y._reconnectCount].host,d.port=d.servers[y._reconnectCount].port,d.protocol=d.servers[y._reconnectCount].protocol?d.servers[y._reconnectCount].protocol:d.defaultProtocol,d.hostname=d.host,y._reconnectCount++),o("calling streambuilder for",d.protocol),a[d.protocol](y,d)}let v=new i.default(m,d);return v.on("error",()=>{}),v}function u(f,d,h=!0){return new Promise((p,b)=>{let m=c(f,d),v={connect:x=>{y(),p(m)},end:()=>{y(),p(m)},error:x=>{y(),m.end(),b(x)}};h===!1&&(v.close=()=>{v.error(new Error("Couldn't connect to server"))});function y(){Object.keys(v).forEach(x=>{m.off(x,v[x])})}Object.keys(v).forEach(x=>{m.on(x,v[x])})})}e.default=c}),v_=Ae(e=>{we(),Ee(),xe();var t=e&&e.__createBinding||(Object.create?function(h,p,b,m){m===void 0&&(m=b);var v=Object.getOwnPropertyDescriptor(p,b);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,m,v)}:function(h,p,b,m){m===void 0&&(m=b),h[m]=p[b]}),n=e&&e.__setModuleDefault||(Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p}),r=e&&e.__importStar||function(){var h=function(p){return h=Object.getOwnPropertyNames||function(b){var m=[];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[m.length]=v);return m},h(p)};return function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var m=h(p),v=0;v<m.length;v++)m[v]!=="default"&&t(b,p,m[v]);return n(b,p),b}}(),i=e&&e.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)},s=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var o=s(Id());e.MqttClient=o.default;var a=s(yw());e.DefaultMessageIdProvider=a.default;var l=s(o2());e.UniqueMessageIdProvider=l.default;var c=s(vw());e.Store=c.default;var u=r(k2());e.connect=u.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return u.connectAsync}});var f=s(Bw());e.KeepaliveManager=f.default,e.Client=o.default,i(Id(),e),i(io(),e);var d=Rc();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})}),A2=Ae(e=>{we(),Ee(),xe();var t=e&&e.__createBinding||(Object.create?function(o,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,c,u)}:function(o,a,l,c){c===void 0&&(c=l),o[c]=a[l]}),n=e&&e.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),r=e&&e.__importStar||function(){var o=function(a){return o=Object.getOwnPropertyNames||function(l){var c=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[c.length]=u);return c},o(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var c=o(a),u=0;u<c.length;u++)c[u]!=="default"&&t(l,a,c[u]);return n(l,a),l}}(),i=e&&e.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,o,l)};Object.defineProperty(e,"__esModule",{value:!0});var s=r(v_());e.default=s,i(v_(),e)});const T2=A2();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/class C2{constructor(){Re(this,"connectionListeners",[]);Re(this,"client",null);Re(this,"handlers",new Map);Re(this,"reconnectAttempts",0);Re(this,"maxReconnectAttempts",5)}isConnected(){var t;return((t=this.client)==null?void 0:t.connected)||!1}connect(t){return this.isConnected()?Promise.resolve():new Promise((n,r)=>{try{const i=`chasqui_${t||"anon"}_${Date.now()}`;this.client=T2.connect(`wss://${Rm.host}:${Rm.port}/mqtt`,{clientId:i,clean:!0,reconnectPeriod:1e3,connectTimeout:3e4}),this.client.on("connect",()=>{console.log("✅ MQTT conectado"),this.reconnectAttempts=0,this.connectionListeners.forEach(s=>s(!0)),n()}),this.client.on("error",s=>{console.error("❌ Error MQTT:",s),r(s)}),this.client.on("close",()=>{this.connectionListeners.forEach(s=>s(!1))}),this.client.on("offline",()=>{console.warn("⚠️ MQTT offline"),this.connectionListeners.forEach(s=>s(!1))}),this.client.on("reconnect",()=>{var s;this.reconnectAttempts++,console.log(`MQTT reintentando… intento ${this.reconnectAttempts}`),this.reconnectAttempts>=this.maxReconnectAttempts&&((s=this.client)==null||s.end())}),this.client.on("message",(s,o)=>{var a;try{const l=JSON.parse(o.toString()),c={topic:s,payload:l,timestamp:Date.now()};(a=this.handlers.get(s))==null||a.forEach(u=>u(c))}catch(l){console.error("Error al parsear mensaje MQTT:",l)}})}catch(i){r(i)}})}subscribe(t,n){if(!this.isConnected())throw new Error("MQTT client not connected");this.client.subscribe(t,i=>{i?console.error(`❌ Error al suscribirse a ${t}:`,i):console.log(`📡 Subscrito a ${t}`)});const r=this.handlers.get(t)??[];this.handlers.set(t,[...r,n])}unsubscribe(t,n){if(this.client)if(n){const r=(this.handlers.get(t)??[]).filter(i=>i!==n);r.length?this.handlers.set(t,r):(this.client.unsubscribe(t),this.handlers.delete(t))}else this.client.unsubscribe(t),this.handlers.delete(t)}publish(t,n,r){if(!this.isConnected())throw new Error("MQTT client not connected");this.client.publish(t,JSON.stringify(n),r,i=>{i?console.error(`❌ Error al publicar en ${t}:`,i):console.log(`📤 Publicado en ${t}`)})}disconnect(){this.client&&(this.client.end(),this.client=null,this.handlers.clear(),console.log("🔌 MQTT desconectado"))}onConnectionChange(t){return this.connectionListeners.push(t),()=>{this.connectionListeners=this.connectionListeners.filter(n=>n!==t)}}}const Ht=new C2,I2=We({__name:"MqttStatus",setup(e,{expose:t}){t();const n=Me(Ht.isConnected());Rt(()=>{const i=Ht.onConnectionChange(o=>{n.value=o}),s=setInterval(()=>{n.value=Ht.isConnected()},4e3);mi(()=>{i(),clearInterval(s)})});const r={connected:n,get Icon(){return sn}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),O2={class:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-white/50 backdrop-blur-xl border border-white/30 text-[10px] font-semibold"};function P2(e,t,n,r,i,s){return ue(),_e("div",O2,[ye(r.Icon,{icon:r.connected?"mdi:wifi-strength-2":"mdi:wifi-strength-off-outline",class:Xe(["w-3.5 h-3.5",r.connected?"text-cyan-500 subtle-neon":"text-red-500 subtle-pulse"])},null,8,["icon","class"]),R("span",{class:Xe(r.connected?"text-cyan-700":"text-red-600")}," ChasquiX"+ve(r.connected?"Online":"Off"),3)])}const E1=Ke(I2,[["render",P2],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/MqttStatus.vue"]]),R2=We({__name:"ProfileMenuItem",props:{icon:{type:String,required:!0}},emits:["click"],setup(e,{expose:t,emit:n}){t();const s={props:e,emit:n,get Icon(){return sn}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),M2={class:"flex-1 text-left"};function D2(e,t,n,r,i,s){return ue(),_e("button",{onClick:t[0]||(t[0]=o=>e.$emit("click")),class:"flex items-center w-full px-4 py-2 space-x-3 text-sm text-gray-800 font-medium hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 transition-colors duration-200"},[ye(r.Icon,{icon:r.props.icon,class:"w-5 h-5 text-gray-600"},null,8,["icon"]),R("span",M2,[ai(e.$slots,"default")]),ye(r.Icon,{icon:"mdi:chevron-right",class:"w-4 h-4 text-gray-400"})])}const L2=Ke(R2,[["render",D2],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/ProfileMenuItem.vue"]]),N2=We({__name:"ProfileMenu",props:{closeMenu:{type:Function,required:!0}},setup(e,{expose:t}){t();const n=Un(),r=cs(),i=Ye(()=>{var a,l;return((a=n.user)==null?void 0:a.user_type)==="driver"||((l=n.user)==null?void 0:l.user_type)==="both"?"/driver/profile":"/passenger/profile"}),o={auth:n,router:r,profileRoute:i,handleLogout:async()=>{await n.logout()},get Icon(){return sn},ProfileMenuItem:L2};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),B2={class:"w-auto min-w-[12rem] max-w-xs bg-white/90 backdrop-blur-lg border border-white/30 rounded-3xl shadow-glam overflow-hidden"},j2={class:"px-4 py-3 border-b border-gray-100 flex items-center gap-3"},F2=["src"],U2={class:"flex flex-col overflow-hidden"},$2={class:"font-semibold text-gray-900 truncate"},V2={class:"text-xs text-gray-500 truncate"},W2={class:"py-2"},H2={class:"py-2"};function z2(e,t,n,r,i,s){var o,a,l;return ue(),_e("div",B2,[R("div",j2,[(o=r.auth.user)!=null&&o.avatar_url?(ue(),_e("img",{key:0,src:r.auth.user.avatar_url,alt:"Avatar",class:"w-10 h-10 rounded-full object-cover"},null,8,F2)):(ue(),Ze(r.Icon,{key:1,icon:"mdi:account-circle",class:"w-10 h-10 text-gray-400"})),R("div",U2,[R("span",$2,ve((a=r.auth.user)==null?void 0:a.name),1),R("span",V2,ve((l=r.auth.user)==null?void 0:l.email),1)])]),R("div",W2,[ye(r.ProfileMenuItem,{icon:"mdi:account-outline",onClick:t[0]||(t[0]=()=>{n.closeMenu(),r.router.push(r.profileRoute)})},{default:tt(()=>t[2]||(t[2]=[Qe(" Ver perfil ")])),_:1,__:[2]}),ye(r.ProfileMenuItem,{icon:"mdi:pencil-outline",onClick:t[1]||(t[1]=()=>{n.closeMenu(),r.router.push(`${r.profileRoute}?edit=1`)})},{default:tt(()=>t[3]||(t[3]=[Qe(" Editar perfil ")])),_:1,__:[3]})]),t[5]||(t[5]=R("div",{class:"mx-4 my-2 h-px bg-gray-200"},null,-1)),R("div",H2,[ye(r.ProfileMenuItem,{icon:"mdi:logout",onClick:r.handleLogout},{default:tt(()=>t[4]||(t[4]=[Qe(" Cerrar sesión ")])),_:1,__:[4]})])])}const q2=Ke(N2,[["render",z2],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/ProfileMenu.vue"]]),K2=We({__name:"Layout",props:{className:{type:String,required:!1},headerTitle:{type:String,required:!1},footer:{type:null,required:!1},sidebar:{type:null,required:!1},showBack:{type:Boolean,required:!1,default:!1},onBack:{type:Function,required:!1},mobileNav:{type:null,required:!1}},setup(e,{expose:t}){t();const n=e,{goBack:r}=to(),i=Me(!1);function s(){i.value=!i.value}function o(){i.value=!1}const a={props:n,goBack:r,menuOpen:i,toggleMenu:s,closeMenu:o,get Icon(){return sn},get cn(){return eo},MqttStatus:E1,ProfileMenu:q2};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),G2={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 flex flex-col"},Y2={class:"sticky top-0 z-40 w-full max-w-md mx-auto bg-white/80 backdrop-blur-2xl border-b border-blue-100/50 shadow-soft px-4 py-3 flex items-center justify-between"},Q2={class:"flex items-center gap-2"},X2={key:1,class:"font-semibold text-lg text-gray-900 truncate"},J2={class:"flex items-center gap-3"},Z2={class:"relative inline-block text-left group"},eR={key:0,class:"absolute top-full right-4 mt-2 z-50"},tR={class:"bg-gradient-to-r from-blue-300 to-cyan-300 p-px rounded-2xl shadow-glam animate-open"},nR={class:"bg-white/90 backdrop-blur-xl rounded-[inherit] min-w-[16rem] max-w-[20rem] border border-white/30"},rR={class:"flex-1 flex flex-col lg:flex-row w-full max-w-md mx-auto"},iR={key:0,class:"hidden lg:block w-64 bg-white/90 backdrop-blur-xl border-r border-gray-100/50 shadow-soft"},sR={key:0,class:"w-full max-w-md mx-auto bg-white/90 backdrop-blur-xl border-t border-gray-100/50 p-4"},oR={key:1,class:"fixed bottom-0 left-0 right-0 z-50 w-full max-w-md mx-auto bg-white/80 backdrop-blur-2xl border-t border-blue-100/50 shadow-mid lg:hidden"};function aR(e,t,n,r,i,s){return ue(),_e("div",G2,[R("header",Y2,[R("div",Q2,[r.props.showBack?(ue(),_e("button",{key:0,onClick:t[0]||(t[0]=o=>(r.props.onBack||r.goBack)()),class:"rounded-full p-2 hover:scale-105 transition-transform duration-200","aria-label":"Retroceder"},[ye(r.Icon,{icon:"lucide:arrow-left",width:"22",height:"22"})])):$e("",!0),r.props.headerTitle?(ue(),_e("span",X2,ve(r.props.headerTitle),1)):$e("",!0)]),R("div",J2,[ye(r.MqttStatus),R("div",Z2,[R("button",{onClick:r.toggleMenu,class:"rounded-full p-2 hover:scale-105 transition-transform duration-200","aria-label":"Más opciones"},[ye(r.Icon,{icon:"lucide:more-vertical",width:"22",height:"22"})]),r.menuOpen?(ue(),_e("div",eR,[t[1]||(t[1]=R("div",{class:"flex justify-end px-3"},[R("div",{class:"w-3 h-3 bg-gradient-to-r from-blue-300 to-cyan-300 transform rotate-45 -translate-y-1/2"})],-1)),R("div",tR,[R("div",nR,[ye(r.ProfileMenu,{closeMenu:r.closeMenu})])])])):$e("",!0)])])]),R("div",rR,[r.props.sidebar?(ue(),_e("aside",iR,[ai(e.$slots,"sidebar",{},()=>[(ue(),Ze(Yc(r.props.sidebar)))])])):$e("",!0),R("main",{class:Xe(r.cn("flex-1 p-4",r.props.className))},[ai(e.$slots,"default")],2)]),r.props.footer?(ue(),_e("footer",sR,[ai(e.$slots,"footer",{},()=>[(ue(),Ze(Yc(r.props.footer)))])])):$e("",!0),r.props.mobileNav?(ue(),_e("nav",oR,[ai(e.$slots,"mobileNav",{},()=>[(ue(),Ze(Yc(r.props.mobileNav)))])])):$e("",!0)])}const Oa=Ke(K2,[["render",aR],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/Layout.vue"]]),lR=We({__name:"Button",props:{variant:{type:String,required:!1,default:"primary"},size:{type:String,required:!1,default:"md"},loading:{type:Boolean,required:!1,default:!1},fullWidth:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:"button"}},setup(e,{expose:t}){t();const n=e,r=Ye(()=>eo("rounded-lg font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-sky-500 text-white hover:bg-sky-600 focus:ring-sky-500 active:bg-sky-700",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 active:bg-red-700",ghost:"text-sky-600 hover:bg-sky-50 focus:ring-sky-500"}[n.variant],{sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-6 py-3 text-lg"}[n.size],n.fullWidth&&"w-full")),i={props:n,buttonClass:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),cR=["type","disabled"],uR={key:0,class:"flex items-center justify-center"},fR={key:1};function dR(e,t,n,r,i,s){return ue(),_e("button",s0({type:n.type,class:r.buttonClass,disabled:n.disabled||n.loading},e.$attrs),[n.loading?(ue(),_e("span",uR,t[0]||(t[0]=[R("span",{class:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"},null,-1),Qe(" Cargando... ")]))):(ue(),_e("span",fR,[ai(e.$slots,"default")]))],16,cR)}const hs=Ke(lR,[["render",dR],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/Button.vue"]]);function hR(){const e=Un(),{user:t,token:n,loading:r,error:i}=Ih(e),s=Ye(()=>e.isAuthenticated),o=Ye(()=>{var v,y;return((v=t.value)==null?void 0:v.user_type)==="passenger"||((y=t.value)==null?void 0:y.user_type)==="both"}),a=Ye(()=>{var v,y;return((v=t.value)==null?void 0:v.user_type)==="driver"||((y=t.value)==null?void 0:y.user_type)==="both"}),l=Ye(()=>{var v,y;return((y=(v=t.value)==null?void 0:v.driver)==null?void 0:y.can_drive)??!1}),c=Ye(()=>{var v,y;return((y=(v=t.value)==null?void 0:v.driver)==null?void 0:y.is_online)??!1}),u=v=>{var y,x;return((x=(y=t.value)==null?void 0:y.permissions)==null?void 0:x.includes(v))??!1},f=v=>{var y,x;return((x=(y=t.value)==null?void 0:y.roles)==null?void 0:x.includes(v))??!1},{login:d,register:h,logout:p,updateProfile:b,clearError:m}=e;return{user:t,token:n,isAuthenticated:s,loading:r,error:i,isPassenger:o,isDriver:a,canDrive:l,isDriverOnline:c,login:d,register:h,logout:p,updateProfile:b,clearError:m,hasPermission:u,hasRole:f}}const w_={async getPassengerStats(){const{success:e,data:t,message:n}=await et.get("/passenger/stats");if(!e||!t)throw new Error(n||"Error loading passenger stats");return t}},pR=Tn("passengerDashboard",()=>{const e=Me(null),t=Me([]),n=Me(!1),r=Me(null),i=cs(),s=()=>[{id:"request-trip",title:"Request Trip",description:"Book a new ride",icon:"mdi:car",action:()=>i.push("/passenger/trip-request")},{id:"trip-history",title:"Trip History",description:"View your past trips",icon:"mdi:clipboard-list",action:()=>i.push("/passenger/trip-history")},{id:"saved-locations",title:"Saved Places",description:"Manage your locations",icon:"mdi:map-marker",action:()=>i.push("/passenger/profile")}];async function o(){try{n.value=!0,r.value=null,e.value=await w_.getPassengerStats(),t.value=s()}catch(c){r.value=(c==null?void 0:c.message)??"Error loading passenger dashboard"}finally{n.value=!1}}async function a(){try{n.value=!0,e.value=await w_.getPassengerStats()}catch(c){r.value=(c==null?void 0:c.message)??"Error refreshing passenger stats"}finally{n.value=!1}}function l(){r.value=null}return{stats:e,quickActions:t,loading:n,error:r,loadPassengerDashboard:o,refreshPassengerStats:a,clearPassengerError:l}});function gR(){const e=pR(),{stats:t,quickActions:n,loading:r,error:i}=Ih(e);return Rt(()=>{e.loadPassengerDashboard()}),{passengerStats:t,passengerQuickActions:n,passengerLoading:r,passengerError:i,refreshPassengerStats:e.refreshPassengerStats,clearPassengerError:e.clearPassengerError,reloadPassengerDashboard:e.loadPassengerDashboard}}const mR=We({__name:"Card",props:{className:{type:String,required:!1},padding:{type:Boolean,required:!1,default:!0},hover:{type:Boolean,required:!1,default:!1},onClick:{type:Function,required:!1}},emits:["click"],setup(e,{expose:t,emit:n}){t();const r=e,i=n,s=Ye(()=>eo("bg-gradient-to-br from-white/95 to-blue-50/60 backdrop-blur-2xl","border border-blue-100/50 rounded-3xl shadow-mid","transform transition-all duration-300",r.padding&&"p-6",r.hover&&"hover:shadow-glam hover:scale-[1.02]",r.onClick&&"cursor-pointer",r.className));function o(){r.onClick&&r.onClick(),i("click")}const a={props:r,emit:i,cardClass:s,handleClick:o};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function _R(e,t,n,r,i,s){return ue(),_e("div",{class:Xe(r.cardClass),onClick:r.handleClick},[ai(e.$slots,"default")],2)}const Pa=Ke(mR,[["render",_R],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/Card.vue"]]),bR=We({__name:"PassengerDashboardSummary",props:{stats:{type:Object,required:!0}},setup(e,{expose:t}){t();const n=e,{navigate:r}=to(),i=Ye(()=>$I(n.stats.total_spent)),s={props:n,navigate:r,formattedTotal:i,get Icon(){return sn},Card:Pa,Button:hs};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),yR={class:"space-y-8"},vR={class:"grid grid-cols-2 gap-4"},wR={class:"text-3xl font-bold text-sky-600"},xR={class:"absolute top-2 right-2 bg-white/60 backdrop-blur-xs rounded-full p-1"},ER={class:"text-3xl font-bold text-green-600"},SR={class:"absolute top-2 right-2 bg-white/60 backdrop-blur-xs rounded-full p-1"},kR={class:"relative"},AR={class:"grid grid-cols-2 gap-4"},TR={class:"text-2xl font-semibold text-orange-600"},CR={class:"absolute top-2 left-2 bg-white/60 backdrop-blur-xs rounded-full p-1"},IR={class:"text-2xl font-semibold text-purple-600"},OR={class:"absolute top-2 left-2 bg-white/60 backdrop-blur-xs rounded-full p-1"};function PR(e,t,n,r,i,s){return ue(),_e("div",yR,[R("div",vR,[ye(r.Card,{hover:"",class:"relative flex flex-col items-center p-4 text-center"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:car-multiple",class:"w-6 h-6 text-sky-500 mb-1 animate-float"}),R("div",wR,ve(r.props.stats.total_trips),1),t[1]||(t[1]=R("div",{class:"text-sm text-gray-600"},"Viajes Totales",-1)),R("div",xR,[ye(r.Icon,{icon:"mdi:information-outline",class:"w-4 h-4 text-gray-500 hover:text-sky-600"})])]),_:1,__:[1]}),ye(r.Card,{hover:"",class:"relative flex flex-col items-center p-4 text-center"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:currency-usd-circle",class:"w-6 h-6 text-green-500 mb-1 animate-float"}),R("div",ER,ve(r.formattedTotal),1),t[2]||(t[2]=R("div",{class:"text-sm text-gray-600"},"Gastado Total",-1)),R("div",SR,[ye(r.Icon,{icon:"mdi:information-outline",class:"w-4 h-4 text-gray-500 hover:text-green-600"})])]),_:1,__:[2]})]),ye(r.Card,{class:"relative flex flex-col items-center p-6 text-center bg-gradient-to-br from-sky-50 to-sky-100 border-sky-200 hover:shadow-glam"},{default:tt(()=>[R("div",kR,[ye(r.Icon,{icon:"mdi:rocket-launch",class:"w-12 h-12 text-cyan-500 mb-2 animate-pulse"}),t[3]||(t[3]=R("div",{class:"absolute top-0 -right-4 bg-gradient-to-r from-violet-500 to-purple-500 text-white text-xs font-bold rounded-full px-2 py-1 animate-pulse"}," ¡Nuevo! ",-1))]),t[5]||(t[5]=R("h3",{class:"text-lg font-semibold text-gray-900 mb-1"}," ¿Listo para tu próximo viaje? ",-1)),t[6]||(t[6]=R("p",{class:"text-sm text-gray-600 mb-4"}," Reserva tu traslado en solo unos toques ",-1)),ye(r.Button,{size:"lg",fullWidth:"",class:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 flex items-center justify-center",onClick:t[0]||(t[0]=o=>r.navigate("/passenger/trip-request"))},{default:tt(()=>[ye(r.Icon,{icon:"mdi:map-marker-plus",class:"w-5 h-5 mr-2"}),t[4]||(t[4]=Qe(" Solicitar viaje "))]),_:1,__:[4]})]),_:1,__:[5,6]}),R("div",AR,[ye(r.Card,{hover:"",class:"relative flex flex-col items-center p-4 text-center"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:star-circle",class:"w-6 h-6 text-amber-500 mb-1 animate-float"}),R("div",TR,ve(r.props.stats.averageRating)+" / 5 ",1),t[7]||(t[7]=R("div",{class:"text-sm text-gray-600"},"Tu calificación",-1)),R("div",CR,[ye(r.Icon,{icon:"mdi:information-outline",class:"w-4 h-4 text-gray-500 hover:text-orange-600"})])]),_:1,__:[7]}),ye(r.Card,{hover:"",class:"relative flex flex-col items-center p-4 text-center"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:map-marker-star",class:"w-6 h-6 text-purple-600 mb-1 animate-float"}),R("div",IR,ve(r.props.stats.savedLocations),1),t[8]||(t[8]=R("div",{class:"text-sm text-gray-600"},"Lugares guardados",-1)),R("div",OR,[ye(r.Icon,{icon:"mdi:information-outline",class:"w-4 h-4 text-gray-500 hover:text-purple-600"})])]),_:1,__:[8]})])])}const RR=Ke(bR,[["render",PR],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/dashoboard/components/PassengerDashboardSummary.vue"]]),MR=We({__name:"MobileBottomNav",props:{items:{type:Array,required:!0},className:{type:String,required:!1}},setup(e,{expose:t}){t();const n=e,{navigate:r,isCurrentPathStartsWith:i}=to(),s=Ye(()=>eo("fixed bottom-0 left-0 right-0 z-50","bg-white/80 backdrop-blur-2xl border-t border-blue-100/50","shadow-mid lg:hidden",n.className)),o={props:n,navigate:r,isCurrentPathStartsWith:i,rootClass:s,get Icon(){return sn}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),DR={class:"flex items-center justify-around px-2 py-3"},LR=["disabled","onClick"],NR={key:0,class:"absolute inset-0 rounded-full bg-blue-400/20 blur-sm scale-150 animate-pulse"},BR={key:0,class:"absolute -top-1 -right-1 min-w-[22px] h-[22px] rounded-full flex items-center justify-center bg-gradient-to-r from-red-500 via-red-600 to-pink-500 text-white text-xs font-bold shadow-glam border-2 border-white/80 animate-pulse before:absolute before:inset-0 before:bg-gradient-to-r before:from-red-400/50 before:to-pink-400/50 before:blur-sm before:scale-150"},jR={class:"relative z-10"};function FR(e,t,n,r,i,s){return ue(),_e("div",{class:Xe(r.rootClass)},[t[1]||(t[1]=R("div",{class:"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-60"},null,-1)),R("div",DR,[(ue(!0),_e(dt,null,Bn(r.props.items,o=>(ue(),_e("button",{key:o.id,disabled:o.disabled,onClick:a=>!o.disabled&&r.navigate(o.path),class:Xe(["relative flex flex-col items-center justify-center flex-1 max-w-[75px] px-3 py-2 rounded-2xl","transition-all duration-300 ease-out transform-gpu",r.isCurrentPathStartsWith(o.path)?"bg-gradient-to-b from-blue-50/90 to-blue-100/60 text-blue-600 shadow-glam scale-105 -translate-y-1 border border-blue-200/50":"text-gray-600 hover:text-blue-600 hover:bg-gradient-to-b hover:from-gray-50/80 hover:to-gray-100/40 hover:scale-[1.02] border border-transparent hover:border-gray-200/30",o.disabled&&"opacity-30 cursor-not-allowed grayscale scale-95"])},[R("span",{class:Xe(["relative w-8 h-8 mb-2 flex items-center justify-center transition-all duration-300",r.isCurrentPathStartsWith(o.path)?"scale-110":"group-hover:scale-105"])},[ye(r.Icon,{icon:o.icon,class:Xe(["w-6 h-6 transition-all duration-300",r.isCurrentPathStartsWith(o.path)?"drop-shadow-[0_2px_8px_rgba(59,130,246,0.3)] filter brightness-110":"group-hover:brightness-110"])},null,8,["icon","class"]),r.isCurrentPathStartsWith(o.path)?(ue(),_e("span",NR)):$e("",!0)],2),R("span",{class:Xe(["text-xs font-medium truncate w-full text-center transition-all duration-300 tracking-wide",r.isCurrentPathStartsWith(o.path)&&"text-blue-700 font-semibold drop-shadow-sm"])},ve(o.label),3),o.badge&&o.badge>0?(ue(),_e("span",BR,[R("span",jR,ve(o.badge>99?"99+":o.badge),1)])):$e("",!0),t[0]||(t[0]=R("span",{class:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none before:absolute before:top-0 before:left-[-100%] before:w-full before:h-full before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:skew-x-12 before:transition-all before:duration-700 group-hover:before:left-[100%]"},null,-1))],10,LR))),128))]),t[2]||(t[2]=R("div",{class:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-blue-400/30 to-transparent"},null,-1)),t[3]||(t[3]=R("div",{class:"h-safe-area-inset-bottom bg-gradient-to-b from-white/50 to-white/80"},null,-1))],2)}const S1=Ke(MR,[["render",FR],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/MobileBottomNav.vue"]]),UR=We({__name:"PassengerMobileNav",props:{hasActiveTrip:{type:Boolean,required:!1,default:!1}},setup(e,{expose:t}){t();const n=e,r=[{id:"dashboard",label:"Home",icon:"solar:home-2-bold-duotone",path:"/passenger/dashboard"},{id:"request-trip",label:"Request",icon:"mdi:car",path:"/passenger/trip-request",badge:n.hasActiveTrip?1:void 0},{id:"history",label:"History",icon:"solar:history-3-bold-duotone",path:"/passenger/trip-history"}],i={props:n,navItems:r,MobileBottomNav:S1};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function $R(e,t,n,r,i,s){return ue(),Ze(r.MobileBottomNav,{items:r.navItems})}const k1=Ke(UR,[["render",$R],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/dashoboard/components/PassengerMobileNav.vue"]]),VR=We({__name:"PassengerDashboardPage",setup(e,{expose:t}){t();const{user:n}=hR(),{passengerStats:r,passengerLoading:i,passengerError:s,clearPassengerError:o,reloadPassengerDashboard:a}=gR(),l=Ye(()=>!1),c={user:n,passengerStats:r,passengerLoading:i,passengerError:s,clearPassengerError:o,reloadPassengerDashboard:a,hasActiveTrip:l,Layout:Oa,Loading:ln,Button:hs,PassengerDashboardSummary:RR,PassengerMobileNav:k1};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),WR={key:1,class:"min-h-screen bg-gray-50 flex items-center justify-center"},HR={class:"text-center px-4"},zR={class:"text-red-600 mb-4"},qR={key:2},KR={class:"flex items-center justify-between p-4 bg-white border-b"},GR={class:"text-xl font-bold text-gray-900"},YR={class:"pb-20"},QR={class:"p-4 space-y-6"};function XR(e,t,n,r,i,s){return r.passengerLoading?(ue(),Ze(r.Loading,{key:0,fullScreen:"",text:"Loading passenger dashboard..."})):r.passengerError?(ue(),_e("div",WR,[R("div",HR,[R("p",zR,ve(r.passengerError),1),ye(r.Button,{onClick:t[0]||(t[0]=()=>{r.clearPassengerError(),r.reloadPassengerDashboard()})},{default:tt(()=>t[1]||(t[1]=[Qe(" Try Again ")])),_:1,__:[1]})])])):(ue(),_e("div",qR,[ye(r.Layout,null,{default:tt(()=>{var o;return[R("div",KR,[R("div",null,[R("h1",GR," Hi, "+ve((o=r.user)==null?void 0:o.first_name)+"! 👋 ",1),t[2]||(t[2]=R("p",{class:"text-sm text-gray-600"},"Where to today?",-1))]),ye(r.Button,{variant:"ghost",size:"sm",onClick:r.reloadPassengerDashboard},{default:tt(()=>t[3]||(t[3]=[Qe(" 🔄 ")])),_:1,__:[3]},8,["onClick"])]),R("div",YR,[R("div",QR,[r.passengerStats?(ue(),Ze(r.PassengerDashboardSummary,{key:0,stats:r.passengerStats},null,8,["stats"])):$e("",!0)])])]}),_:1}),ye(r.PassengerMobileNav,{hasActiveTrip:r.hasActiveTrip},null,8,["hasActiveTrip"])]))}const JR=Ke(VR,[["render",XR],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/dashoboard/pages/PassengerDashboardPage.vue"]]),x_={async create(e){const{success:t,data:n,message:r}=await et.post("/trips",e);if(!t||!n)throw new Error(r||"Error creating trip");return n},async cancel(e){const{success:t,message:n}=await et.put(`/trips/${e}/cancel`,{});if(!t)throw new Error(n||"Error cancelling trip")},async getActiveTrip(){const{success:e,data:t,message:n}=await et.get("/trips/active");if(!e)throw new Error(n||"Error fetching active trip");return t??null}},Hh=Tn("tripRequest",()=>{const e=Me(null),t=Me(null),n=Me(null),r=Me(null),i=Me(null),s=Me(""),o=Me("idle"),a=Me(!1),l=Me(!1),c=Me(null),u=Me(null),f=Me(null),d=Me(null),h=Un();async function p(){var m,v,y,x;if(!(!e.value||!t.value||!r.value)){a.value=!0;try{const P={pickup_latitude:e.value.coordinates.latitude,pickup_longitude:e.value.coordinates.longitude,pickup_address:e.value.address,destination_latitude:t.value.coordinates.latitude,destination_longitude:t.value.coordinates.longitude,destination_address:t.value.address,service_type_id:r.value,passenger_notes:s.value};i.value!==null&&(P.offer_price=i.value);const S=await x_.create(P);f.value=S,o.value="searching_driver",await Ht.connect((v=(m=h.user)==null?void 0:m.id)==null?void 0:v.toString()),Ht.publish("chasqui/trip_requests",{trip_id:S.id,trip_code:S.trip_code,passenger_id:(y=h.user)==null?void 0:y.id,passenger_name:(x=h.user)==null?void 0:x.name,pickup:{lat:P.pickup_latitude,lng:P.pickup_longitude,address:P.pickup_address},destination:{lat:P.destination_latitude,lng:P.destination_longitude,address:P.destination_address},service_type_id:P.service_type_id,estimated_fare:S.estimated_fare,distance_km:S.distance_km,duration_minutes:S.duration_minutes,created_at:S.created_at})}catch{d.value="Error al crear el viaje",o.value="idle"}finally{a.value=!1}}}async function b(){a.value=!0;try{f.value&&await x_.cancel(f.value.id),e.value=null,t.value=null,n.value=null,r.value=null,i.value=null,s.value="",o.value="idle",u.value=null,f.value=null,d.value=null}catch{d.value="Error al cancelar el viaje"}finally{a.value=!1}}return{origin:e,destination:t,routeInfo:n,serviceTypeId:r,offerPrice:i,notes:s,status:o,loading:a,loadingMap:l,mapError:c,activeSelection:u,currentTrip:f,error:d,setOrigin:m=>e.value=m,setDestination:m=>t.value=m,setRouteInfo:m=>n.value=m,setServiceTypeId:m=>r.value=m,setOfferPrice:m=>i.value=m,setNotes:m=>s.value=m,setActiveSelection:m=>u.value=m,setLoadingMap:m=>l.value=m,setMapError:m=>c.value=m,confirmTrip:p,cancelTrip:b}}),ZR=We({__name:"SidebarForm",setup(e,{expose:t}){t();const n=Hh(),r=Me(null),i=Me(null),s=Me(1),o=Me(""),a=Me(""),l=Me(""),c=Me(!1),u=Me({});_t(()=>n.origin,v=>{v!=null&&v.address&&(o.value=v.address)}),_t(()=>n.destination,v=>{v!=null&&v.address&&(a.value=v.address)}),Rt(()=>{_t(()=>n.activeSelection,v=>{var P,S;if(!v||!((S=(P=window.google)==null?void 0:P.maps)!=null&&S.places))return;const y=v==="origin"?r.value:i.value,x=new google.maps.places.Autocomplete(y,{fields:["geometry","formatted_address","name"],componentRestrictions:{country:"PE"},types:["geocode","establishment"]});x.addListener("place_changed",()=>{var A;const E=x.getPlace();if((A=E.geometry)!=null&&A.location){const M={coordinates:{latitude:E.geometry.location.lat(),longitude:E.geometry.location.lng()},address:E.formatted_address||E.name||""};v==="origin"?(n.setOrigin(M),o.value=M.address):(n.setDestination(M),a.value=M.address),n.setActiveSelection(null),d()}})},{immediate:!0})});const f=async()=>{var v;if(!navigator.geolocation)return alert("Tu navegador no soporta geolocalización");c.value=!0;try{const y=await new Promise((M,W)=>navigator.geolocation.getCurrentPosition(M,W,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})),x=y.coords.latitude,P=y.coords.longitude,{results:S}=await new google.maps.Geocoder().geocode({location:{lat:x,lng:P}}),E=((v=S[0])==null?void 0:v.formatted_address)||"Mi ubicación actual",A={coordinates:{latitude:x,longitude:P},address:E};n.setOrigin(A),o.value=E,n.setActiveSelection(null),d()}catch{alert("No se pudo obtener tu ubicación actual")}finally{c.value=!1}};function d(){u.value={}}function h(){const v={};return s.value===1&&!n.origin&&(v.origin="Selecciona un origen"),s.value===2&&!n.destination&&(v.destination="Selecciona un destino"),s.value===3&&!n.serviceTypeId&&(v.serviceType="Selecciona un tipo de servicio"),u.value=v,Object.keys(v).length===0}function p(){h()&&s.value++}async function b(){n.setNotes(l.value),await n.confirmTrip()}const m={store:n,originInputRef:r,destinationInputRef:i,step:s,originText:o,destText:a,localNotes:l,gettingLocation:c,formErrors:u,useCurrentAsOrigin:f,clearErrors:d,validateStep:h,nextStep:p,handleConfirm:b,MqttStatus:E1};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),eM={class:"absolute bottom-0 left-0 right-0 z-20 bg-white rounded-t-xl shadow-2xl p-4 max-h-[50%] overflow-auto"},tM={class:"flex justify-between mb-4"},nM={key:0},rM={key:0,class:"text-red-500 text-xs mt-1"},iM={class:"flex justify-between mt-3"},sM=["disabled"],oM={key:1},aM={key:0,class:"text-red-500 text-xs mt-1"},lM={class:"flex justify-between mt-3"},cM={key:2},uM={key:0,class:"text-red-500 text-xs mt-1"},fM={class:"flex justify-between mt-3"},dM={key:3},hM={class:"flex justify-between mt-3"},pM=["disabled"],gM={key:4,class:"text-red-600 text-xs mt-2"};function mM(e,t,n,r,i,s){return ue(),_e("div",eM,[ye(r.MqttStatus),R("div",tM,[(ue(),_e(dt,null,Bn(4,o=>R("div",{key:o,class:Xe(["flex-1 h-1 mx-1 rounded",r.step>=o?"bg-blue-600":"bg-gray-200"])},null,2)),64))]),r.step===1?(ue(),_e("div",nM,[t[13]||(t[13]=R("label",{class:"block text-sm font-semibold"},"📍 Origen",-1)),yt(R("input",{ref:"originInputRef",type:"text",placeholder:"Escribe o selecciona en el mapa",onFocus:t[0]||(t[0]=()=>r.store.setActiveSelection("origin")),"onUpdate:modelValue":t[1]||(t[1]=o=>r.originText=o),onInput:t[2]||(t[2]=()=>{r.originText||r.store.setOrigin(null)}),class:Xe(["w-full p-3 border-2 rounded-lg transition",r.formErrors.origin?"border-red-500":"border-gray-200"])},null,34),[[Ct,r.originText]]),r.formErrors.origin?(ue(),_e("p",rM,ve(r.formErrors.origin),1)):$e("",!0),R("div",iM,[R("button",{onClick:r.useCurrentAsOrigin,disabled:r.gettingLocation,class:"text-sm text-blue-600 hover:underline disabled:text-gray-400"},ve(r.gettingLocation?"Obteniendo...":"🎯 Mi ubicación"),9,sM),R("button",{onClick:r.nextStep,class:"btn btn-primary"},"Siguiente")])])):$e("",!0),r.step===2?(ue(),_e("div",oM,[t[14]||(t[14]=R("label",{class:"block text-sm font-semibold"},"🏁 Destino",-1)),yt(R("input",{ref:"destinationInputRef",type:"text",placeholder:"Escribe o selecciona en el mapa",onFocus:t[3]||(t[3]=()=>r.store.setActiveSelection("destination")),"onUpdate:modelValue":t[4]||(t[4]=o=>r.destText=o),onInput:t[5]||(t[5]=()=>{r.destText||r.store.setDestination(null)}),class:Xe(["w-full p-3 border-2 rounded-lg transition",r.formErrors.destination?"border-red-500":"border-gray-200"])},null,34),[[Ct,r.destText]]),r.formErrors.destination?(ue(),_e("p",aM,ve(r.formErrors.destination),1)):$e("",!0),R("div",lM,[R("button",{onClick:t[6]||(t[6]=o=>r.step--),class:"btn btn-secondary"},"Anterior"),R("button",{onClick:r.nextStep,class:"btn btn-primary"},"Siguiente")])])):$e("",!0),r.step===3?(ue(),_e("div",cM,[t[16]||(t[16]=R("label",{class:"block text-sm font-semibold"},"🚗 Tipo de servicio",-1)),yt(R("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>r.store.serviceTypeId=o),onChange:r.clearErrors,class:Xe(["w-full p-3 border-2 rounded-lg transition",r.formErrors.serviceType?"border-red-500":"border-gray-200"])},t[15]||(t[15]=[R("option",{value:""},"Selecciona...",-1),R("option",{value:"1"},"🏍️ Mototaxi",-1),R("option",{value:"2"},"🚗 Auto",-1)]),34),[[_0,r.store.serviceTypeId]]),r.formErrors.serviceType?(ue(),_e("p",uM,ve(r.formErrors.serviceType),1)):$e("",!0),t[17]||(t[17]=R("label",{class:"block text-sm font-semibold mt-4"},"💰 Precio ofrecido",-1)),yt(R("input",{type:"number",min:"0",step:"0.5","onUpdate:modelValue":t[8]||(t[8]=o=>r.store.offerPrice=o),placeholder:"0.00",class:"w-full p-3 border-2 rounded-lg border-gray-200"},null,512),[[Ct,r.store.offerPrice,void 0,{number:!0}]]),R("div",fM,[R("button",{onClick:t[9]||(t[9]=o=>r.step--),class:"btn btn-secondary"},"Anterior"),R("button",{onClick:r.nextStep,class:"btn btn-primary"},"Siguiente")])])):$e("",!0),r.step===4?(ue(),_e("div",dM,[t[18]||(t[18]=R("label",{class:"block text-sm font-semibold"},"📝 Notas adicionales",-1)),yt(R("textarea",{"onUpdate:modelValue":t[10]||(t[10]=o=>r.localNotes=o),rows:"3",placeholder:"Instrucciones especiales...",class:"w-full p-3 border-2 rounded-lg border-gray-200"},null,512),[[Ct,r.localNotes]]),R("div",hM,[R("button",{onClick:t[11]||(t[11]=o=>r.step--),class:"btn btn-secondary"},"Anterior"),R("button",{class:"btn btn-primary w-full",onClick:r.handleConfirm,disabled:r.store.loading||r.store.loadingMap},ve(r.store.loading?"Confirmando...":"🚀 Confirmar Viaje"),9,pM)]),r.store.status!=="idle"?(ue(),_e("button",{key:0,onClick:t[12]||(t[12]=(...o)=>r.store.cancelTrip&&r.store.cancelTrip(...o)),class:"mt-2 btn btn-secondary w-full"}," ❌ Cancelar Viaje ")):$e("",!0)])):$e("",!0),r.store.mapError?(ue(),_e("p",gM,ve(r.store.mapError),1)):$e("",!0)])}const _M=Ke(ZR,[["render",mM],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-request/components/SidebarForm.vue"]]);function bM(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})}function yM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vM=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},wM=yM(vM);const E_="__googleMapsScriptId";var Os;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Os||(Os={}));class ji{constructor({apiKey:t,authReferrerPolicy:n,channel:r,client:i,id:s=E_,language:o,libraries:a=[],mapIds:l,nonce:c,region:u,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=r,this.client=i,this.id=s||E_,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=f,this.url=d,this.version=h,ji.instance){if(!wM(this.options,ji.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(ji.instance.options)}`);return ji.instance}ji.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Os.FAILURE:this.done?Os.SUCCESS:this.loading?Os.LOADING:Os.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(r=>{r?n(r.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(s=>!r[s]&&delete r[s]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(s=>{let o,a,l,c="The Google Maps JavaScript API",u="google",f="importLibrary",d="__ib__",h=document,p=window;p=p[u]||(p[u]={});const b=p.maps||(p.maps={}),m=new Set,v=new URLSearchParams,y=()=>o||(o=new Promise((x,P)=>bM(this,void 0,void 0,function*(){var S;yield a=h.createElement("script"),a.id=this.id,v.set("libraries",[...m]+"");for(l in s)v.set(l.replace(/[A-Z]/g,E=>"_"+E[0].toLowerCase()),s[l]);v.set("callback",u+".maps."+d),a.src=this.url+"?"+v,b[d]=x,a.onerror=()=>o=P(Error(c+" could not load.")),a.nonce=this.nonce||((S=h.querySelector("script[nonce]"))===null||S===void 0?void 0:S.nonce)||"",h.head.append(a)})));b[f]?console.warn(c+" only loads once. Ignoring:",s):b[f]=(x,...P)=>m.add(x)&&y().then(()=>b[f](x,...P))})(r);const i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{const o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var xM=function(e,t){var n=Math.pow(10,t),r=function(s){return Array.isArray(s)||(s=[s.lat,s.lng]),[Ps(s[0]*n),Ps(s[1]*n)]};return EM(e,r)},EM=function(e,t){for(var n=[],r=[0,0],i,s=0,o=e.length;s<o;++s)i=t(e[s]),S_(Ps(i[0])-Ps(r[0]),n),S_(Ps(i[1])-Ps(r[1]),n),r=i;return n.join("")},S_=function(e,t){return SM(e<0?~(e<<1):e<<1,t)},SM=function(e,t){for(;e>=32;)t.push(String.fromCharCode((32|e&31)+63)),e>>=5;return t.push(String.fromCharCode(e+63)),t},Ps=function(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)};class kM{constructor(){Re(this,"loader");Re(this,"isLoaded",!1);Re(this,"google",null);Re(this,"pricingConfig",{baseFare:5,perKmRate:2.5,perMinuteRate:.3,minimumFare:8,vehicleMultipliers:{car:1,motorcycle:.7,bicycle:.4}});const t="AIzaSyB0pCMpUldYA35Vn3rZY9fAHNMdDN4Htdk";this.loader=new ji({apiKey:t,version:"weekly",libraries:["places","geometry"]})}async initialize(){this.isLoaded||(this.google=await this.loader.load(),this.isLoaded=!0)}async ensureLoaded(){if(this.isLoaded||await this.initialize(),!this.google)throw new Error("Google Maps not available");return this.google}coordinatesToLatLng(t){return new google.maps.LatLng(t.latitude,t.longitude)}latLngToCoordinates(t){return{latitude:typeof t.lat=="function"?t.lat():t.lat,longitude:typeof t.lng=="function"?t.lng():t.lng}}async geocodeAddress(t){const n=await this.ensureLoaded(),r=new n.maps.Geocoder;return new Promise((i,s)=>{r.geocode({address:t},(o,a)=>{if(a==="OK"&&o&&o[0]){const l=o[0];i({location:{coordinates:this.latLngToCoordinates(l.geometry.location),address:l.formatted_address,placeId:l.place_id},formatted_address:l.formatted_address,address_components:l.address_components})}else s(new Error(`Geocoding failed: ${a}`))})})}async reverseGeocode(t){const n=await this.ensureLoaded(),r=new n.maps.Geocoder,i=this.coordinatesToLatLng(t);return new Promise((s,o)=>{r.geocode({location:i},(a,l)=>{if(l==="OK"&&a&&a[0]){const c=a[0];s({location:{coordinates:t,address:c.formatted_address,placeId:c.place_id},formatted_address:c.formatted_address,address_components:c.address_components})}else o(new Error(`Reverse geocoding failed: ${l}`))})})}async searchPlaces(t,n){const r=await this.ensureLoaded(),i=new r.maps.places.PlacesService(document.createElement("div")),s={query:t,region:"PE"};return n&&(s.location=this.coordinatesToLatLng(n),s.radius=5e4),new Promise((o,a)=>{i.textSearch(s,(l,c)=>{c===r.maps.places.PlacesServiceStatus.OK&&l?o(l.map(u=>({placeId:u.place_id,name:u.name,formatted_address:u.formatted_address,coordinates:this.latLngToCoordinates(u.geometry.location),types:u.types||[]}))):a(new Error(`Places search failed: ${c}`))})})}async calculateRoute(t){var s;const n=await this.ensureLoaded(),r=new n.maps.DirectionsService,i={origin:this.coordinatesToLatLng(t.origin.coordinates),destination:this.coordinatesToLatLng(t.destination.coordinates),travelMode:n.maps.TravelMode[t.travelMode||"DRIVING"],avoidTolls:t.avoidTolls||!1,avoidHighways:t.avoidHighways||!1,region:"PE"};return(s=t.waypoints)!=null&&s.length&&(i.waypoints=t.waypoints.map(o=>({location:this.coordinatesToLatLng(o.coordinates),stopover:!0}))),new Promise((o,a)=>{r.route(i,(l,c)=>{var u,f;if(c==="OK"&&l){const d=l.routes[0],h=d.legs[0],p=h.distance.value/1e3,b=h.duration.value/60,m=this.getVehicleTypeFromTravelMode(t.travelMode),v=this.calculateCost(p,b,m);let y=((u=d.overview_polyline)==null?void 0:u.points)||"";if(!y&&((f=h.steps)!=null&&f.length)){const x=h.steps.map(E=>{const A=E.start_location;return[A.lat(),A.lng()]}),S=h.steps[h.steps.length-1].end_location;x.push([S.lat(),S.lng()]),y=xM(x,5)}o({distance:{text:h.distance.text,value:h.distance.value},duration:{text:h.duration.text,value:h.duration.value},polyline:y,steps:h.steps.map(x=>({instruction:x.instructions,distance:x.distance.text,duration:x.duration.text,coordinates:this.latLngToCoordinates(x.start_location)})),estimatedCost:v})}else a(new Error(`Route calculation failed: ${c}`))})})}calculateDistance(t,n){const i=this.toRadians(n.latitude-t.latitude),s=this.toRadians(n.longitude-t.longitude),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(this.toRadians(t.latitude))*Math.cos(this.toRadians(n.latitude))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}calculateCost(t,n,r){const{baseFare:i,perKmRate:s,perMinuteRate:o,minimumFare:a,vehicleMultipliers:l}=this.pricingConfig;let c=(i+t*s+n*o)*l[r];return c=Math.max(c,a),Math.round(c*100)/100}toRadians(t){return t*Math.PI/180}getVehicleTypeFromTravelMode(t){switch(t){case"BICYCLING":return"bicycle";case"WALKING":return"bicycle";default:return"car"}}async createAutocomplete(t,n){const r=await this.ensureLoaded(),i={componentRestrictions:{country:"PE"},fields:["place_id","formatted_address","geometry","name"],types:["establishment","geocode"]};return new r.maps.places.Autocomplete(t,{...i,...n})}updatePricingConfig(t){this.pricingConfig={...this.pricingConfig,...t}}getPricingConfig(){return{...this.pricingConfig}}}const ha=new kM,AM=We({__name:"MapView",setup(e,{expose:t}){t();const n=Hh(),r=Me(null),i=Me(null),s=Me(null),o=Me(null),a=Me({}),l=Me(n.activeSelection);_t(()=>n.activeSelection,f=>l.value=f),Rt(async()=>{if(r.value)try{n.setLoadingMap(!0),await ha.initialize();const f={lat:-9.3067,lng:-75.9947},d=new google.maps.Map(r.value,{center:f,zoom:14,disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!0,fullscreenControl:!0,scaleControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]});s.value=d,i.value=d,n.setLoadingMap(!1);const h=document.createElement("button");h.textContent="◉",h.title="Mi ubicación",h.classList.add("bg-white","p-2","rounded-full","shadow-md","hover:bg-gray-100"),h.style.cursor="pointer",d.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(h),h.addEventListener("click",()=>{var p;(p=navigator.geolocation)==null||p.getCurrentPosition(b=>{const m={lat:b.coords.latitude,lng:b.coords.longitude};d.panTo(m),d.setZoom(16)})}),d.addListener("click",c),d.addListener("idle",()=>n.setMapError(null))}catch(f){console.error(f),n.setMapError("No se pudo cargar el mapa"),n.setLoadingMap(!1)}}),mi(()=>{o.value&&o.value.setMap(null),s.value&&google.maps.event.clearInstanceListeners(s.value)});async function c(f){var m,v;const d=l.value;if(n.status!=="idle"||!d||!f.latLng)return;const h=f.latLng.lat(),p=f.latLng.lng(),b=new google.maps.Marker({position:{lat:h,lng:p},map:s.value,icon:{path:google.maps.SymbolPath.CIRCLE,scale:6,fillColor:"#FFA500",fillOpacity:.8,strokeWeight:1,strokeColor:"#FFF"},animation:google.maps.Animation.BOUNCE});try{const{results:y}=await new google.maps.Geocoder().geocode({location:{lat:h,lng:p}});if(b.setMap(null),y!=null&&y[0]){const x=y[0].formatted_address,P={coordinates:{latitude:h,longitude:p},address:x},S=d==="origin"?"#4285F4":"#EA4335",E=new google.maps.Marker({position:{lat:h,lng:p},map:s.value,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:S,fillOpacity:1,strokeWeight:3,strokeColor:"#FFF"},zIndex:1e3});d==="origin"?((m=a.value.origin)==null||m.setMap(null),n.setOrigin(P),a.value.origin=E):((v=a.value.destination)==null||v.setMap(null),n.setDestination(P),a.value.destination=E),n.setActiveSelection(null),E.setAnimation(google.maps.Animation.DROP),setTimeout(()=>E.setAnimation(null),800)}}catch(y){console.error(y)}}_t([()=>n.origin,()=>n.destination],()=>{if(!i.value)return;const f=(d,h,p)=>{var v;if(!h)return;const b=new google.maps.LatLng(h.coordinates.latitude,h.coordinates.longitude),m=a.value[d];if(!m||!((v=m.getPosition())!=null&&v.equals(b))){m==null||m.setMap(null);const y=new google.maps.Marker({position:b,map:i.value,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:p,fillOpacity:1,strokeWeight:3,strokeColor:"#FFF"},zIndex:1e3});a.value[d]=y}};f("origin",n.origin,"#4285F4"),f("destination",n.destination,"#EA4335")}),_t([()=>n.origin,()=>n.destination],async()=>{var f,d;if(!n.origin||!n.destination||!i.value){n.setRouteInfo(null),(f=o.value)==null||f.setMap(null);return}try{const h=await ha.calculateRoute({origin:n.origin,destination:n.destination,travelMode:"DRIVING"});n.setRouteInfo(h),(d=o.value)==null||d.setMap(null);const p=google.maps.geometry.encoding.decodePath(h.polyline);if(p.length){o.value=new google.maps.Polyline({path:p,map:i.value,strokeColor:"#4B83F5",strokeOpacity:.9,strokeWeight:5,zIndex:100});const b=new google.maps.LatLngBounds;p.forEach(m=>b.extend(m)),i.value.fitBounds(b,{top:50,right:50,bottom:50,left:50})}}catch(h){console.error(h),n.setRouteInfo(null)}});const u={store:n,mapRef:r,map:i,mapInstanceRef:s,polylineRef:o,markers:a,activeSelRef:l,handleMapClick:c};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),TM={class:"w-full h-full fixed inset-0 z-0"},CM={ref:"mapRef",class:"w-full h-full"},IM={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/70 z-10"},OM={key:1,class:"absolute top-4 left-4 bg-red-50 border border-red-200 p-2 rounded z-10"},PM={class:"text-red-700 text-sm"},RM={key:2,class:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-2 rounded-lg shadow-lg animate-pulse z-10"};function MM(e,t,n,r,i,s){return ue(),_e("div",TM,[R("div",CM,null,512),!r.map&&r.store.loadingMap?(ue(),_e("div",IM,t[0]||(t[0]=[R("p",{class:"text-gray-700"},"Cargando mapa...",-1)]))):$e("",!0),r.store.mapError?(ue(),_e("div",OM,[R("p",PM,ve(r.store.mapError),1)])):$e("",!0),r.store.activeSelection?(ue(),_e("div",RM,ve(r.store.activeSelection==="origin"?"Toca en el mapa para elegir origen":"Toca en el mapa para elegir destino"),1)):$e("",!0)])}const DM=Ke(AM,[["render",MM],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-request/components/MapView.vue"]]),LM=We({__name:"RequestTripPage",setup(e,{expose:t}){t();const n=cs(),r=Hh();function i(){r.setActiveSelection(null),n.push("/dashboard")}const s={router:n,store:r,handleExit:i,SidebarForm:_M,MapView:DM};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),NM={class:"relative w-full h-screen bg-gray-100"};function BM(e,t,n,r,i,s){return ue(),_e("div",NM,[R("button",{onClick:r.handleExit,class:"absolute top-4 left-4 z-30 bg-white p-2 rounded-full shadow hover:bg-gray-100 transition",title:"Volver al dashboard"}," ← Dashboard "),ye(r.MapView),ye(r.SidebarForm),t[0]||(t[0]=R("div",{class:"absolute bottom-4 left-4 right-4 md:hidden bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg"},[R("p",{class:"text-sm text-gray-700 text-center"},[Qe(" 💡 "),R("strong",null,"Tip:"),Qe(' Toca los botones "Mapa" para seleccionar ubicaciones directamente en el mapa ')])],-1))])}const jM=Ke(LM,[["render",BM],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-request/pages/RequestTripPage.vue"]]);function FM(e){var t,n;return{id:e.id,pickup:{address:e.pickup_address,coordinates:{latitude:parseFloat(e.pickup_latitude),longitude:parseFloat(e.pickup_longitude)}},destination:{address:e.destination_address,coordinates:{latitude:parseFloat(e.destination_latitude),longitude:parseFloat(e.destination_longitude)}},serviceType:{id:((t=e.service_type)==null?void 0:t.id)??e.service_type_id,name:((n=e.service_type)==null?void 0:n.name)??""},status:e.status,estimatedFare:parseFloat(e.estimated_fare),driver:e.driver?{id:e.driver.id,name:e.driver.name,phone:e.driver.phone,vehicle:e.driver.vehicle,rating:e.driver.rating_average??e.driver.rating,location:{latitude:parseFloat(e.driver.location_latitude),longitude:parseFloat(e.driver.location_longitude)}}:void 0}}const Io={getActive:async()=>{const{data:e}=await et.get("/trips/active");return console.debug("[ActiveTrip] respuesta getActive →",e),e?FM(e):null},listenDriverOffers:(e,t)=>{const n=setInterval(async()=>{const r=await et.get(`/trips/${e}/driver-offers`);t((r==null?void 0:r.data)??[])},5e3);return()=>clearInterval(n)},acceptDriver:async(e,t)=>{await et.post("/drivers/trips/accept",{trip_id:e,driver_id:t})},cancelTrip:async(e,t="passenger_request")=>{console.log("llega trip id",e),await et.put(`/trips/${e}/cancel`,{reason:t})}},Ra=Tn("activeTrip",{state:()=>({trip:null,offers:[],initialized:!1}),getters:{isPending:e=>{var t;return((t=e.trip)==null?void 0:t.status)==="pending"},hasDriver:e=>{var t;return!!((t=e.trip)!=null&&t.driver)},sortedOffers:e=>[...e.offers].sort((t,n)=>t.price-n.price)},actions:{async fetchActiveTrip(){try{const e=await Io.getActive();console.debug("[ActiveTrip] GET /trips/active →",e),e&&(this.trip=e)}catch(e){console.error("[ActiveTrip] error getActive",e)}finally{this.initialized=!0}},listenOffersMqtt(e){const t=`chasqui/trip_offers/${e}`,n=r=>{try{console.log("conductor mqtt",r);const i=r.payload;this.offers.some(o=>o.driverId===i.driver_id)||this.offers.push({driverId:i.driver_id,name:i.driver.name,rating:i.driver.rating,price:i.price,vehicle:i.driver.vehicle,distanceMeters:0,location:i.location})}catch(i){console.warn("[MQTT] Error parsing offer:",i)}};return Ht.subscribe(t,n),()=>Ht.unsubscribe(t,n)},async acceptDriver(e){var t;if(this.trip)try{await Io.acceptDriver(this.trip.id,e);const n=await Io.getActive();this.trip=n,this.offers=[],Ht.publish(`chasqui/trip_status/${(t=this.trip)==null?void 0:t.id}`,JSON.stringify({status:"accepted",driver_id:e}))}catch(n){console.error("[ActiveTrip] Error accepting driver",n)}},async cancelTrip(){if(this.trip)try{await Io.cancelTrip(this.trip.id),Ht.publish(`chasqui/trip_status/${this.trip.id}`,JSON.stringify({status:"cancelled_by_passenger"}),{retain:!0}),this.trip=null,this.offers=[]}catch(e){console.error("[ActiveTrip] Error cancelling trip",e)}},setTrip(e){this.trip=e},updateDriverLocation(e){var t;(t=this.trip)!=null&&t.driver&&(this.trip={...this.trip,driver:{...this.trip.driver,location:e}})}}}),UM=We({__name:"TripStatus",setup(e,{expose:t}){t();const n=Ra(),r=Ye(()=>n.trip);console.log(r);const i={store:n,trip:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),$M={key:0,class:"space-y-2"},VM={class:"font-semibold text-lg"},WM={key:0};function HM(e,t,n,r,i,s){return r.trip?(ue(),_e("div",$M,[R("h2",VM,"Estado: "+ve(r.trip.status),1),R("p",null,[t[1]||(t[1]=R("strong",null,"Origen:",-1)),Qe(" "+ve(r.trip.pickup.address),1),t[2]||(t[2]=R("br",null,null,-1)),t[3]||(t[3]=R("strong",null,"Destino:",-1)),Qe(" "+ve(r.trip.destination.address),1),t[4]||(t[4]=R("br",null,null,-1)),t[5]||(t[5]=R("strong",null,"Tarifa estimada:",-1)),Qe(" S/ "+ve(r.trip.estimatedFare.toFixed(2)),1)]),r.trip.driver?(ue(),_e("p",WM,[t[6]||(t[6]=R("strong",null,"Conductor:",-1)),Qe(" "+ve(r.trip.driver.name),1),t[7]||(t[7]=R("br",null,null,-1)),Qe(" ⭐ "+ve(r.trip.driver.rating),1)])):$e("",!0),r.trip.status!=="completed"&&r.trip.status!=="cancelled"?(ue(),_e("button",{key:1,onClick:t[0]||(t[0]=(...o)=>r.store.cancelTrip&&r.store.cancelTrip(...o)),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"}," Cancelar viaje ")):$e("",!0)])):$e("",!0)}const zM=Ke(UM,[["render",HM],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/active-trip/components/TripStatus.vue"]]),qM=We({__name:"DriverOffersPanel",setup(e,{expose:t}){t();const n=Ra(),r=Un(),i=Ye(()=>n.trip),s=Ye(()=>n.sortedOffers),o=fn({}),a=fn({}),l=new Set;function c(h){var v;const p=(v=a[h])==null?void 0:v.trim();if(!p||!i.value||!r.user)return;const b=`chasqui/chat/${i.value.id}/${h}`,m={sender:Number(r.user.id),role:"passenger",message:p,timestamp:new Date().toISOString()};Ht.publish(b,m),o[h]=o[h]||[],o[h].push(m),a[h]=""}function u(h){n.acceptDriver(h)}let f=null;Rt(()=>{i.value&&(f=n.listenOffersMqtt(i.value.id))}),_t(()=>n.offers.map(h=>h.driverId),h=>{if(i.value)for(const p of h){const b=`chasqui/chat/${i.value.id}/${p}`;l.has(b)||(Ht.subscribe(b,({payload:m})=>{console.debug(`[MQTT] Mensaje recibido en ${b}:`,m);const v=m;o[p]=o[p]||[],o[p].push(v)}),l.add(b))}},{immediate:!0}),mi(()=>{f==null||f(),i.value&&(l.forEach(h=>Ht.unsubscribe(h)),l.clear())});const d={store:n,auth:r,trip:i,sortedOffers:s,chatMessages:o,chatInputs:a,subscribedTopics:l,sendMessage:c,acceptDriver:u,get stopOffers(){return f},set stopOffers(h){f=h}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),KM={class:"bg-white shadow-lg rounded-xl p-4 max-h-80 overflow-y-auto space-y-4"},GM={key:0,class:"text-gray-500"},YM={class:"space-y-1"},QM={class:"font-medium"},XM={class:"text-sm text-gray-600"},JM={class:"text-xs text-gray-500"},ZM={class:"flex flex-col gap-2 w-full md:w-auto"},eD={class:"border rounded p-2 bg-gray-50 max-h-32 overflow-y-auto text-sm"},tD=["onSubmit"],nD={class:"flex items-center gap-2"},rD=["onUpdate:modelValue"],iD=["onClick"];function sD(e,t,n,r,i,s){return ue(),_e("div",KM,[t[2]||(t[2]=R("h3",{class:"text-lg font-bold"},"Ofertas de conductores",-1)),r.sortedOffers.length===0?(ue(),_e("div",GM,"No hay ofertas aún.")):$e("",!0),(ue(!0),_e(dt,null,Bn(r.sortedOffers,o=>(ue(),_e("div",{key:o.driverId,class:"p-3 border rounded flex flex-col md:flex-row md:items-start md:justify-between gap-3"},[R("div",YM,[R("p",QM,ve(o.name),1),R("p",XM,[Qe(" Vehículo: "+ve(o.vehicle)+" "+ve(o.vehicle)+" ("+ve(o.vehicle)+")",1),t[0]||(t[0]=R("br",null,null,-1)),Qe(" Placa: "+ve(o.vehicle),1)]),R("p",JM," ⭐ "+ve(o.rating)+" • S/ "+ve(o.price.toFixed(2)),1)]),R("div",ZM,[R("div",eD,[(ue(!0),_e(dt,null,Bn(r.chatMessages[o.driverId],(a,l)=>(ue(),_e("div",{key:l},[R("span",{class:Xe(a.role==="passenger"?"text-blue-600":"text-green-600")},ve(a.role)+": ",3),Qe(" "+ve(a.message),1)]))),128))]),R("form",{onSubmit:Fs(a=>r.sendMessage(o.driverId),["prevent"])},[R("div",nD,[yt(R("input",{"onUpdate:modelValue":a=>r.chatInputs[o.driverId]=a,placeholder:"Escribe un mensaje",class:"flex-1 border rounded px-2 py-1 text-sm"},null,8,rD),[[Ct,r.chatInputs[o.driverId]]]),t[1]||(t[1]=R("button",{type:"submit",class:"bg-sky-500 text-white px-3 py-1 rounded hover:bg-sky-600"}," Enviar ",-1))])],40,tD),R("button",{onClick:a=>r.acceptDriver(o.driverId),class:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 w-full"}," Aceptar ",8,iD)])]))),128))])}const oD=Ke(qM,[["render",sD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/active-trip/components/DriverOffersPanel.vue"]]),aD=We({__name:"DriverTracker",setup(e,{expose:t}){t();const n=Ra(),r=Me(null),i=Me(null),s=Me(null),o=Me(null),a=Me(null),l=Me(null),c=Ye(()=>n.trip);function u(d,h){return new window.google.maps.LatLng(Number(d),Number(h))}Rt(async()=>{await ha.initialize(),r.value&&(i.value=new window.google.maps.Map(r.value,{center:{lat:-9.3,lng:-75.99},zoom:14,disableDefaultUI:!0,zoomControl:!0}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(d=>{l.value={lat:d.coords.latitude,lng:d.coords.longitude}},d=>console.error("Geolocation error:",d),{enableHighAccuracy:!0}))}),_t([c,l],async()=>{var v,y;if(!i.value||!c.value||!l.value)return;const d={address:"Mi ubicación actual",coordinates:{latitude:l.value.lat,longitude:l.value.lng}},h={address:c.value.destination.address,coordinates:{latitude:c.value.destination.coordinates.latitude,longitude:c.value.destination.coordinates.longitude}};(v=o.value)==null||v.setMap(null),o.value=new window.google.maps.Marker({position:u(l.value.lat,l.value.lng),map:i.value,icon:"/assets/icons/passenger-marker.svg"}),(y=a.value)==null||y.setMap(null);const p=await ha.calculateRoute({origin:d,destination:h,travelMode:"DRIVING"}),b=window.google.maps.geometry.encoding.decodePath(p.polyline);a.value=new google.maps.Polyline({path:b,map:i.value,strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:5});const m=new google.maps.LatLngBounds;b.forEach(x=>m.extend(x)),i.value.fitBounds(m)}),_t(()=>{var d,h;return(h=(d=c.value)==null?void 0:d.driver)==null?void 0:h.location},d=>{if(!i.value||!d)return;const h=u(d.latitude,d.longitude);s.value?s.value.setPosition(h):s.value=new google.maps.Marker({map:i.value,position:h,icon:"/assets/icons/driver-marker.svg"})},{immediate:!0,deep:!0});const f={store:n,mapRef:r,map:i,driverMarker:s,passengerMarker:o,polyline:a,currentPos:l,trip:c,toLatLng:u,DriverOffersPanel:oD};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),lD={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cD={ref:"mapRef",class:"col-span-1 h-80 rounded-lg shadow-inner"};function uD(e,t,n,r,i,s){var o;return ue(),_e("div",null,[R("div",lD,[R("div",cD,null,512),((o=r.trip)==null?void 0:o.status)==="pending"?(ue(),Ze(r.DriverOffersPanel,{key:0})):$e("",!0)])])}const fD=Ke(aD,[["render",uD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/active-trip/components/DriverTracker.vue"]]),dD=We({__name:"TripPublisher",setup(e,{expose:t}){t();const n=Ra(),r=Un(),i=Ye(()=>n.trip),s=Me(!1),o=Me(null);function a(){if(!i.value||!r.user){o.value="No se puede publicar sin viaje activo o sesión.";return}try{const c={trip_id:i.value.id,trip_code:`TRIP-${i.value.id}`,passenger_id:r.user.id,passenger_name:r.user.name,pickup:{lat:i.value.pickup.coordinates.latitude,lng:i.value.pickup.coordinates.longitude,address:i.value.pickup.address},destination:{lat:i.value.destination.coordinates.latitude,lng:i.value.destination.coordinates.longitude,address:i.value.destination.address},service_type_id:i.value.serviceType.id,estimated_fare:i.value.estimatedFare,distance_km:0,duration_minutes:0,created_at:new Date().toISOString()};Ht.publish("chasqui/trip_requests",c),s.value=!0,o.value=null}catch(c){o.value="Error al publicar por MQTT",console.error("[MQTT publish error]",c)}}const l={store:n,auth:r,trip:i,published:s,error:o,publishTrip:a};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),hD={class:"p-4 border rounded bg-white shadow space-y-2"},pD=["disabled"],gD={key:0,class:"text-sm text-red-600"};function mD(e,t,n,r,i,s){return ue(),_e("div",hD,[t[0]||(t[0]=R("p",{class:"text-sm text-gray-700"},"📡 Publicar viaje por MQTT para buscar conductores dentro del radio configurado.",-1)),R("button",{onClick:r.publishTrip,disabled:!r.trip||r.published,class:Xe(["px-4 py-2 rounded text-white font-semibold",r.published?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"])},ve(r.published?"Publicado ✅":"Publicar viaje"),11,pD),r.error?(ue(),_e("p",gD,"⚠️ "+ve(r.error),1)):$e("",!0)])}const _D=Ke(dD,[["render",mD],["__scopeId","data-v-28687275"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/active-trip/components/TripPublisher.vue"]]),bD=We({__name:"ActiveTripInner",setup(e,{expose:t}){t();const n=cs(),r=Ra(),i=Ye(()=>r.trip),s=Ye(()=>r.initialized);Rt(async()=>{await r.fetchActiveTrip(),_t(()=>r.trip,a=>{r.initialized&&a===null&&n.replace("/passenger/trip-request")},{immediate:!0}),_t(()=>{var a;return(a=r.trip)==null?void 0:a.status},a=>{a!=="pending"&&(stop==null||stop())})});const o={router:n,store:r,trip:i,initialized:s,TripStatus:zM,DriverTracker:fD,TripPublisher:_D};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),yD={key:0,class:"p-4"},vD={key:1,class:"p-4 space-y-4"};function wD(e,t,n,r,i,s){return r.initialized?r.trip?(ue(),_e("div",vD,[ye(r.TripStatus),r.trip.status==="pending"?(ue(),Ze(r.TripPublisher,{key:0})):$e("",!0),ye(r.DriverTracker)])):$e("",!0):(ue(),_e("div",yD,"Buscando viaje activo…"))}const xD=Ke(bD,[["render",wD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/active-trip/pages/ActiveTripInner.vue"]]),xu={async getRequests(e,t){let n="/driver/trip-requests";e!==void 0&&t!==void 0&&(n+=`?latitude=${e}&longitude=${t}`);const r=await et.get(n);if(!r.success||!r.data)throw new Error(r.message||"Error al obtener solicitudes");return console.log("[Driver] Trip requests:",r.data),r.data},async accept(e){const t=await et.post("/driver/trips/accept",{trip_request_id:e});if(!t.success)throw new Error(t.message||"Error al aceptar viaje")},async reject(e,t){const n=await et.post("/driver/trip-requests/reject",{trip_request_id:e,reason:t});if(!n.success)throw new Error(n.message||"Error al rechazar viaje")}},A1=Tn("tripRequests",()=>{const e=Me([]),t=Me(!1),n=Me(null);async function r(o,a){t.value=!0,n.value=null;try{const l=await xu.getRequests(o,a);console.log("result en stores",l),e.value=l}catch(l){n.value=l.message||"Error al obtener solicitudes"}finally{t.value=!1}}async function i(o){t.value=!0,n.value=null;try{await xu.accept(o),await r()}catch(a){n.value=a.message||"Error al aceptar viaje"}finally{t.value=!1}}async function s(o,a){t.value=!0,n.value=null;try{await xu.reject(o,a),await r()}catch(l){n.value=l.message||"Error al rechazar viaje"}finally{t.value=!1}}return{requests:e,loading:t,error:n,fetchRequests:r,acceptRequest:i,rejectRequest:s}});function T1(){const e=Me(null),t=Me(null);let n=null;return Rt(()=>{if(!navigator.geolocation){t.value="Geolocalización no soportada";return}n=navigator.geolocation.watchPosition(r=>{e.value={latitude:r.coords.latitude,longitude:r.coords.longitude,accuracy:r.coords.accuracy},t.value=null},r=>{t.value=r.message},{enableHighAccuracy:!0,maximumAge:5e3,timeout:1e4})}),mi(()=>{n!==null&&navigator.geolocation.clearWatch(n)}),{position:e,error:t}}const ED=We({__name:"RequestCard",props:{trip:{type:Object,required:!0}},setup(e,{expose:t}){t();const n=e,r=A1(),i=r.acceptRequest,s=r.rejectRequest,o=r.loading,a={props:n,store:r,acceptRequest:i,rejectRequest:s,loading:o};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),SD={class:"bg-white rounded-lg shadow p-4 mb-3"},kD={class:"flex justify-between items-center mb-1"},AD={class:"font-semibold"},TD={class:"text-xs text-gray-400"},CD={class:"text-sm text-gray-600"},ID={class:"flex gap-2 mt-3"},OD=["disabled"],PD=["disabled"];function RD(e,t,n,r,i,s){return ue(),_e("div",SD,[R("div",kD,[R("span",AD,ve(n.trip.passenger_name),1),R("span",TD,ve(n.trip.service_type),1)]),R("div",CD,[R("div",null,[t[2]||(t[2]=Qe("Recoger: ")),R("b",null,ve(n.trip.pickup_address),1)]),R("div",null,[t[3]||(t[3]=Qe("Destino: ")),R("b",null,ve(n.trip.destination_address),1)]),R("div",null,"Tarifa estimada: S/. "+ve(n.trip.estimated_fare),1),R("div",null,"Distancia: "+ve(n.trip.estimated_distance)+" km",1),R("div",null,"Tiempo: "+ve(n.trip.estimated_duration)+" min",1)]),R("div",ID,[R("button",{onClick:t[0]||(t[0]=o=>r.acceptRequest(n.trip.id)),class:"btn btn-primary",disabled:r.loading},ve(r.loading?"Aceptando...":"Aceptar"),9,OD),R("button",{onClick:t[1]||(t[1]=o=>r.rejectRequest(n.trip.id)),class:"btn btn-danger",disabled:r.loading},ve(r.loading?"Rechazando...":"Rechazar"),9,PD)])])}const MD=Ke(ED,[["render",RD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/trip-request/components/RequestCard.vue"]]),DD=We({__name:"RequestsList",setup(e,{expose:t}){t();const n=A1(),{position:r,error:i}=T1();function s(){window.location.reload()}_t(r,a=>{console.log("📍 Posición actualizada:",a),a&&n.fetchRequests(a.latitude,a.longitude)},{immediate:!0}),_t(()=>n.requests,a=>{console.log("📦 Solicitudes reactivadas:",a)});const o={store:n,position:r,geoError:i,reloadPage:s,RequestCard:MD};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),LD={key:0,class:"bg-yellow-100 text-yellow-800 p-4 rounded-lg my-4 shadow-md flex flex-col items-center"},ND={class:"mb-2"},BD={key:1},jD={key:2,class:"text-red-600"},FD={key:3,class:"text-gray-400"},UD={key:4},$D={class:"text-sm text-green-700 mb-2"};function VD(e,t,n,r,i,s){return r.geoError?(ue(),_e("div",LD,[t[0]||(t[0]=R("div",{class:"font-bold text-lg mb-2"},"¡Activa la ubicación para recibir viajes!",-1)),R("div",ND,ve(r.geoError),1),t[1]||(t[1]=R("ul",{class:"text-sm text-gray-700 list-disc list-inside mb-3"},[R("li",null,"Verifica que el GPS esté encendido."),R("li",null,"Otorga permisos de ubicación a la app o navegador."),R("li",null,"En móviles, revisa configuración de permisos.")],-1)),R("button",{class:"px-4 py-2 rounded bg-sky-500 text-white font-semibold hover:bg-sky-600 transition",onClick:r.reloadPage}," Reintentar ")])):r.store.loading&&r.store.requests.length===0?(ue(),_e("div",BD," ⏳ Cargando solicitudes... ")):r.store.error?(ue(),_e("div",jD," ❌ "+ve(r.store.error),1)):r.store.requests.length?(ue(),_e("div",UD,[R("p",$D," ✅ Renderizando "+ve(r.store.requests.length)+" solicitud(es) ",1),(ue(!0),_e(dt,null,Bn(r.store.requests,o=>(ue(),Ze(r.RequestCard,{key:o.id,trip:o},null,8,["trip"]))),128))])):(ue(),_e("div",FD," ℹ️ No hay solicitudes de viaje disponibles. "))}const WD=Ke(DD,[["render",VD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/trip-request/components/RequestsList.vue"]]),HD=We({__name:"TripRequests",setup(e,{expose:t}){t();const n={RequestsList:WD};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),zD={class:"max-w-xl mx-auto p-4"};function qD(e,t,n,r,i,s){return ue(),_e("div",zD,[t[0]||(t[0]=R("h2",{class:"text-xl font-bold mb-4"},"Solicitudes de Viaje",-1)),ye(r.RequestsList)])}const KD=Ke(HD,[["render",qD],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/trip-request/pages/TripRequests.vue"]]),Ml={getActive:async()=>{const e=await et.get("/driver/trips/current");return!e.success||!e.data?null:e.data},updateStatus:async(e,t,n)=>{await et.put(`/driver/trips/${e}/status`,{status:t,...n})},completeTrip:async(e,t)=>{await et.post("/driver/trips/complete",{trip_id:e,...t})}},C1=Tn("driverTrip",()=>{const e=Me(null),t=Me(!1),n=Me(null);async function r(){t.value=!0,n.value=null;try{const a=await Ml.getActive();e.value=a}catch(a){n.value=a.message||"Error al cargar el viaje"}finally{t.value=!1}}async function i(a,l){if(e.value){t.value=!0,n.value=null;try{await Ml.updateStatus(e.value.id,a,l),await r()}catch(c){n.value=c.message||"Error al actualizar estado"}finally{t.value=!1}}}async function s(a){if(e.value){t.value=!0,n.value=null;try{const l={...a,actual_fare:a.actual_fare==null?void 0:a.actual_fare};await Ml.completeTrip(e.value.id,l),await r()}catch(l){n.value=l.message||"Error al completar viaje"}finally{t.value=!1}}}function o(){n.value=null}return r(),{trip:e,loading:t,error:n,fetchActiveTrip:r,updateStatus:i,completeTrip:s,clearError:o}}),GD=We({__name:"TripNavigation",emits:["finalizar"],setup(e,{expose:t,emit:n}){t();const r=C1(),i=Ye(()=>r.trip),s=Ye(()=>r.loading),o=r.updateStatus,a=n;function l(){a("finalizar")}const c={store:r,trip:i,loading:s,updateStatus:o,emit:a,emitFinalizar:l,Button:hs};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),YD={key:0,class:"space-y-2"},QD={class:"font-medium text-gray-700 mb-2"},XD={class:"font-bold"},JD={key:4,class:"text-green-600 font-semibold"},ZD={key:5,class:"text-red-600 font-semibold"};function eL(e,t,n,r,i,s){return r.trip?(ue(),_e("div",YD,[R("div",QD,[t[4]||(t[4]=Qe(" Estado del viaje: ")),R("span",XD,ve(r.trip.trip_status),1)]),r.trip.trip_status==="accepted"?(ue(),Ze(r.Button,{key:0,loading:r.loading,onClick:t[0]||(t[0]=()=>r.updateStatus("en_route"))},{default:tt(()=>t[5]||(t[5]=[Qe(" Ir al punto de recojo ")])),_:1,__:[5]},8,["loading"])):r.trip.trip_status==="en_route"?(ue(),Ze(r.Button,{key:1,loading:r.loading,onClick:t[1]||(t[1]=()=>r.updateStatus("arrived"))},{default:tt(()=>t[6]||(t[6]=[Qe(" Llegué al punto de recojo ")])),_:1,__:[6]},8,["loading"])):r.trip.trip_status==="arrived"?(ue(),Ze(r.Button,{key:2,loading:r.loading,onClick:t[2]||(t[2]=()=>r.updateStatus("in_progress"))},{default:tt(()=>t[7]||(t[7]=[Qe(" Iniciar viaje ")])),_:1,__:[7]},8,["loading"])):r.trip.trip_status==="in_progress"?(ue(),Ze(r.Button,{key:3,loading:r.loading,onClick:t[3]||(t[3]=()=>r.emitFinalizar())},{default:tt(()=>t[8]||(t[8]=[Qe(" Finalizar viaje ")])),_:1,__:[8]},8,["loading"])):r.trip.trip_status==="completed"?(ue(),_e("div",JD," ¡Viaje completado! ")):r.trip.trip_status==="cancelled"?(ue(),_e("div",ZD," Viaje cancelado ")):$e("",!0)])):$e("",!0)}const tL=Ke(GD,[["render",eL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/active-trip/components/TripNavigation.vue"]]),nL=We({__name:"DriverActiveTrip",setup(e,{expose:t}){t();const n=C1(),{position:r,error:i}=T1(),s=Me(null),o=Me(null),a=Me(null),l=Me(!1),c=n.trip,u=(h,p)=>typeof h=="number"&&typeof p=="number"&&!isNaN(h)&&!isNaN(p)&&Math.abs(h)<=90&&Math.abs(p)<=180;Rt(async()=>{try{await ha.initialize()}catch(h){console.error("No se pudo cargar Google Maps",h)}}),_t(()=>n.trip,h=>{if(!h||!s.value||!u(+h.pickup_latitude,+h.pickup_longitude)||!u(+h.destination_latitude,+h.destination_longitude)||o.value)return;const p=+h.pickup_latitude,b=+h.pickup_longitude,m=+h.destination_latitude,v=+h.destination_longitude;o.value=new window.google.maps.Map(s.value,{center:{lat:p,lng:b},zoom:15,disableDefaultUI:!0,zoomControl:!0}),new window.google.maps.Marker({position:{lat:p,lng:b},map:o.value,label:"📍",title:"Punto de recojo"}),new window.google.maps.Marker({position:{lat:m,lng:v},map:o.value,label:"🏁",title:"Destino"})},{immediate:!0}),_t(()=>n.trip,h=>{if(!h||!o.value||!u(+h.pickup_latitude,+h.pickup_longitude)||!u(+h.destination_latitude,+h.destination_longitude))return;a.value&&(a.value.setMap(null),a.value=null);const p=new window.google.maps.DirectionsService;a.value=new window.google.maps.DirectionsRenderer({map:o.value,suppressMarkers:!0,polylineOptions:{strokeColor:"#4285F4",strokeOpacity:.9,strokeWeight:6}}),p.route({origin:{lat:+h.pickup_latitude,lng:+h.pickup_longitude},destination:{lat:+h.destination_latitude,lng:+h.destination_longitude},travelMode:google.maps.TravelMode.DRIVING},(b,m)=>{var v;m==="OK"?(v=a.value)==null||v.setDirections(b):console.warn("No se pudo trazar la ruta:",m)})},{immediate:!0});const d={store:n,position:r,geoError:i,mapRef:s,mapInstance:o,directionsRenderer:a,completing:l,trip:c,isValidLatLng:u,handleCompleteTrip:async()=>{if(!n.trip||!r.value){alert("Activa la ubicación para finalizar el viaje.");return}l.value=!0;try{await n.completeTrip({final_latitude:r.value.latitude,final_longitude:r.value.longitude,actual_fare:n.trip.actual_fare,notes:""}),await n.fetchActiveTrip(),alert("¡Viaje completado con éxito!")}catch(h){alert("Error al finalizar el viaje: "+(h.message||"Desconocido"))}l.value=!1},TripNavigation:tL};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),rL={class:"w-full h-screen flex flex-col"},iL={ref:"mapRef",class:"flex-1 min-h-[400px] rounded-b-none rounded-t-2xl overflow-hidden"},sL={class:"bg-white shadow-lg p-4 flex flex-col space-y-2 rounded-t-none rounded-b-2xl"},oL=["disabled"],aL={key:0,class:"text-amber-600 text-sm"};function lL(e,t,n,r,i,s){return ue(),_e("div",rL,[R("div",iL,null,512),R("div",sL,[R("div",null,[t[0]||(t[0]=R("b",null,"Pasajero:",-1)),Qe(" "+ve(r.trip&&r.trip.passenger_name),1)]),R("div",null,[t[1]||(t[1]=R("b",null,"Destino:",-1)),Qe(" "+ve(r.trip&&r.trip.destination_address),1)]),R("div",null,[t[2]||(t[2]=R("b",null,"Tarifa estimada:",-1)),Qe(" S/ "+ve(r.trip&&Number(r.trip.actual_fare).toFixed(2)),1)]),ye(r.TripNavigation),R("button",{class:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-lg mt-2",disabled:r.completing,onClick:r.handleCompleteTrip},ve(r.completing?"Finalizando...":"Finalizar viaje"),9,oL),r.geoError?(ue(),_e("div",aL," ⚠️ Necesitas activar la ubicación del dispositivo para finalizar. ")):$e("",!0)])])}const cL=Ke(nL,[["render",lL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/active-trip/components/DriverActiveTrip.vue"]]),uL=We({__name:"DriverActiveTripPage",setup(e,{expose:t}){t();const n={DriverActiveTrip:cL};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function fL(e,t,n,r,i,s){return ue(),Ze(r.DriverActiveTrip)}const dL=Ke(uL,[["render",fL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/active-trip/pages/DriverActiveTripPage.vue"]]),hL={async getStats(){const e=await et.get("/driver/stats");if(!e.success||!e.data)throw new Error("Error al obtener estadísticas");return e.data}},zh=Tn("driverDashboard",()=>{const e=Me(null),t=Me(!0),n=Me(null),r=Me(null),i=Ye(()=>!!r.value);async function s(){t.value=!0,n.value=null;try{e.value=await hL.getStats()}catch(o){n.value=o.message||"Error al cargar dashboard"}finally{t.value=!1}}return s(),{hasActiveTrip:i,stats:e,loading:t,error:n,refresh:s}}),pL=We({__name:"TodayEarnings",setup(e,{expose:t}){t();const n=zh(),r=Ye(()=>n.stats),i=Ye(()=>n.loading),s={dashboardStore:n,stats:r,loading:i,get Icon(){return sn}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),gL={key:0,class:"mt-4 p-4 rounded-2xl bg-white/80 backdrop-blur-xl border border-green-100 shadow-sm space-y-3"},mL={class:"flex items-center gap-3 text-green-700"},_L={class:"text-xl font-bold"},bL={class:"grid grid-cols-2 gap-4 text-sm text-gray-700 mt-2"},yL={class:"flex items-center gap-2"},vL={class:"flex items-center gap-2"},wL={class:"flex items-center gap-2"},xL={class:"flex items-center gap-2"};function EL(e,t,n,r,i,s){return!r.loading&&r.stats?(ue(),_e("div",gL,[R("div",mL,[ye(r.Icon,{icon:"mdi:cash",class:"text-2xl"}),R("h2",_L,"Hoy: S/ "+ve(r.stats.today_earnings.toFixed(2)),1)]),R("div",bL,[R("div",yL,[ye(r.Icon,{icon:"mdi:car-multiple",class:"text-lg text-green-500"}),R("span",null,[R("strong",null,ve(r.stats.today_trips),1),t[0]||(t[0]=Qe(" viajes"))])]),R("div",vL,[ye(r.Icon,{icon:"mdi:clock-outline",class:"text-lg text-green-500"}),R("span",null,[R("strong",null,ve(r.stats.online_hours_today),1),t[1]||(t[1]=Qe(" hrs online"))])]),R("div",wL,[ye(r.Icon,{icon:"mdi:check-decagram",class:"text-lg text-green-500"}),R("span",null,"Aceptación: "+ve(r.stats.acceptance_rate)+"%",1)]),R("div",xL,[ye(r.Icon,{icon:"mdi:check-circle-outline",class:"text-lg text-green-500"}),R("span",null,"Finalización: "+ve(r.stats.completion_rate)+"%",1)])])])):$e("",!0)}const SL=Ke(pL,[["render",EL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/dashboard/components/TodayEarnings.vue"]]),kL=We({__name:"DriverMobileNav",props:{hasActiveTrip:{type:Boolean,required:!1,default:!1}},setup(e,{expose:t}){t();const n=e,r=[{id:"dashboard",label:"Inicio",icon:"mdi:home-variant-outline",path:"/driver/dashboard"},{id:"request-trip",label:"Solicitud",icon:"mdi:car-arrow-right",path:"/driver/trip-request",badge:n.hasActiveTrip?1:void 0},{id:"earnings",label:"Ganancias",icon:"mdi:cash-multiple",path:"/driver/earnings"}],i={props:n,navItems:r,MobileBottomNav:S1};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function AL(e,t,n,r,i,s){return ue(),Ze(r.MobileBottomNav,{items:r.navItems})}const I1=Ke(kL,[["render",AL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/dashboard/components/DriverMobileNav.vue"]]),TL=We({__name:"DriverDashboard",setup(e,{expose:t}){t();const{navigate:n}=to(),r=zh(),i=["¡Orgullo de ser taxista, motor de la ciudad!","Tú conoces las calles mejor que nadie.","Cada carrera es un paso hacia tus metas.","Madrugas por tu familia. Eso es grande.","La calle te respeta. Tú haces que se mueva.","Tu volante lleva historias, sueños y futuro.","Con cada viaje demuestras que el trabajo dignifica.","Hoy una carrera más, mañana una vida mejor.","Sin ti, nadie llega a tiempo. Tú marcas el ritmo.","En cada semáforo, estás construyendo progreso."],s=Me(0),o=Me(i[0]);Rt(()=>{setInterval(()=>{s.value=(s.value+1)%i.length,o.value=i[s.value]},18e5)});const a={navigate:n,dashboardStore:r,messages:i,currentMessageIndex:s,currentMessage:o,Layout:Oa,TodayEarnings:SL,DriverMobileNav:I1,get Icon(){return sn}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),CL={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-yellow-50/20 px-4 py-6 space-y-6"},IL={class:"text-center mb-4"},OL={class:"text-2xl font-extrabold text-yellow-800 tracking-tight flex items-center justify-center gap-2"},PL={class:"relative px-5 py-4 rounded-2xl bg-gradient-to-r from-yellow-100 via-white to-yellow-50 border border-yellow-200/50 shadow-inner flex items-center gap-4 overflow-hidden"},RL={class:"relative h-6 overflow-hidden w-full"},ML={class:"relative bg-gradient-to-br from-yellow-50 via-white to-yellow-100 border border-yellow-100 rounded-2xl p-5 shadow-sm text-center space-y-4"},DL={class:"absolute top-2 left-2"},LL={class:"text-xs bg-purple-600 text-white font-semibold px-2 py-0.5 rounded-full shadow-md flex items-center gap-1"},NL={class:"mt-4 space-y-2 relative z-10"},BL={class:"flex items-center gap-2"};function jL(e,t,n,r,i,s){return ue(),_e(dt,null,[ye(r.Layout,null,{default:tt(()=>[R("div",CL,[R("div",IL,[R("h1",OL,[ye(r.Icon,{icon:"mdi:steering",class:"text-yellow-700 text-2xl"}),t[2]||(t[2]=Qe(" Panel del Conductor "))]),t[3]||(t[3]=R("p",{class:"text-sm text-yellow-700"},"Monitorea tu progreso y maximiza tus ganancias",-1))]),R("div",PL,[ye(r.Icon,{icon:"mdi:taxi",class:"text-yellow-600 text-3xl flex-shrink-0 animate-bounce-slow"}),R("div",RL,[ye(m0,{name:"fade",tag:"div"},{default:tt(()=>[(ue(),_e("div",{key:r.currentMessage,class:"absolute w-full inset-0 text-sm md:text-base font-medium text-yellow-900 text-center"},ve(r.currentMessage),1))]),_:1})])]),ye(r.TodayEarnings),R("div",ML,[R("div",DL,[R("span",LL,[ye(r.Icon,{icon:"mdi:sparkles",class:"text-white text-sm"}),t[4]||(t[4]=Qe(" ¡Nuevo! "))])]),R("div",NL,[t[7]||(t[7]=R("h3",{class:"text-base font-semibold text-gray-800"},"¿Listo para tu próximo pasajero?",-1)),t[8]||(t[8]=R("p",{class:"text-sm text-gray-600"}," Comienza a recibir viajes con solo un toque. ",-1)),R("button",{onClick:t[0]||(t[0]=o=>r.navigate("/driver/trip-request")),class:"relative inline-flex items-center justify-center gap-2 px-6 py-2 rounded-xl text-white font-semibold bg-gradient-to-r from-yellow-500 to-yellow-600 shadow-md hover:scale-105 transition-transform duration-300"},[t[5]||(t[5]=R("span",{class:"absolute inset-0 bg-yellow-400/20 blur-xl rounded-xl animate-shine"},null,-1)),ye(r.Icon,{icon:"mdi:car-arrow-right",class:"text-lg"}),t[6]||(t[6]=Qe(" Empezar a ganar "))])])]),R("div",{class:"mt-4 px-4 py-3 rounded-xl bg-yellow-50/60 border border-yellow-100 text-yellow-900 text-sm flex items-center justify-between hover:bg-yellow-100/70 transition cursor-pointer",onClick:t[1]||(t[1]=o=>r.navigate("/driver/earnings"))},[R("div",BL,[ye(r.Icon,{icon:"mdi:chart-line",class:"text-yellow-700 text-lg"}),t[9]||(t[9]=R("div",{class:"flex flex-col leading-tight"},[R("span",{class:"font-medium"},"Consulta tus ingresos detallados"),R("span",{class:"text-xs text-yellow-800"},"Y descubre cómo mejorar tu rendimiento")],-1))]),ye(r.Icon,{icon:"mdi:chevron-right",class:"text-yellow-600 text-xl"})])])]),_:1}),ye(r.DriverMobileNav,{hasActiveTrip:r.dashboardStore.hasActiveTrip},null,8,["hasActiveTrip"])],64)}const FL=Ke(TL,[["render",jL],["__scopeId","data-v-3e88a54d"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/dashboard/pages/DriverDashboard.vue"]]),xs={async getProfile(){const{success:e,data:t,message:n}=await et.get("/driver/profile");if(!e||!t)throw new Error(n||"Error al obtener perfil");return t},async updateProfile(e){const t=await et.post("/driver/profile/update",e);if(!t.success||!t.data)throw new Error("Error al actualizar perfil");return t.data},async getVehicles(){const e=await et.get("/driver/vehicles");if(!e.success||!e.data)throw new Error("Error al obtener vehículos");return e.data},async addVehicle(e){const t=await et.post("/driver/vehicles/add",e);if(!t.success||!t.data)throw new Error("Error al agregar vehículo");return t.data},async updateVehicle(e,t){const n=await et.put(`/driver/vehicles/${e}`,t);if(!n.success||!n.data)throw new Error("Error al actualizar vehículo");return n.data},async registerDriver(e){const t=await et.post("/driver/register",e);if(!t.success||!t.data)throw new Error(t.message||"Error al registrar conductor");return t.data}},O1=Tn("driverProfile",{state:()=>({profile:null,vehicles:[],loading:!1,error:null,registrationSuccess:null,registrationData:null}),getters:{hasError:e=>!!e.error,isProfileLoaded:e=>!!e.profile},actions:{async fetchProfile(){this.loading=!0,this.error=null;try{this.profile=await xs.getProfile()}catch(e){this.error=e.message||"Error al cargar perfil"}finally{this.loading=!1}},async fetchVehicles(){this.loading=!0,this.error=null;try{this.vehicles=await xs.getVehicles()}catch(e){this.error=e.message||"Error al cargar vehículos"}finally{this.loading=!1}},async updateProfile(e){this.loading=!0,this.error=null;try{this.profile=await xs.updateProfile(e)}catch(t){this.error=t.message||"Error al actualizar perfil"}finally{this.loading=!1}},async addVehicle(e){this.loading=!0,this.error=null;try{await xs.addVehicle(e),await this.fetchVehicles()}catch(t){this.error=t.message||"Error al agregar vehículo"}finally{this.loading=!1}},async updateVehicle(e,t){this.loading=!0,this.error=null;try{await xs.updateVehicle(e,t),await this.fetchVehicles()}catch(n){this.error=n.message||"Error al actualizar vehículo"}finally{this.loading=!1}},async registerDriver(e){this.loading=!0,this.error=null,this.registrationSuccess=null,this.registrationData=null;try{const t=await xs.registerDriver(e);this.registrationData=t,this.registrationSuccess=t.status==="pending_verification"?"Registro enviado. Espera verificación.":"Conductor registrado correctamente."}catch(t){this.error=t.message||"Error al registrar como conductor"}finally{this.loading=!1}},clearError(){this.error=null}}}),UL=We({__name:"DriverProfileForm",setup(e,{expose:t}){t();const n=O1(),r=fn({license_number:"",license_expiry_date:"",emergency_contact_name:"",emergency_contact_phone:"",search_radius_km:""}),i=fn({});Rt(()=>{n.fetchProfile()}),_t(()=>n.profile,l=>{var c;l&&(r.license_number=l.license_number||"",r.license_expiry_date=l.license_expiry_date||"",r.emergency_contact_name=l.emergency_contact_name||"",r.emergency_contact_phone=l.emergency_contact_phone||"",r.search_radius_km=((c=l.search_radius_km)==null?void 0:c.toString())||"")},{immediate:!0});function s(){let l=!0;i.license_number=r.license_number?"":"Este campo es obligatorio.",i.license_expiry_date=r.license_expiry_date?"":"Fecha requerida.",i.emergency_contact_name=r.emergency_contact_name?"":"Ingresa un nombre.",i.emergency_contact_phone=r.emergency_contact_phone?"":"Número requerido.",i.search_radius_km=r.search_radius_km?"":"Debes especificar el radio.";for(const c in i)i[c]&&(l=!1);return l}async function o(){var l,c;if(n.clearError(),!!s())if(n.profile){const u={license_expiry_date:(l=r.license_expiry_date)==null?void 0:l.slice(0,10),emergency_contact_name:r.emergency_contact_name,emergency_contact_phone:r.emergency_contact_phone,search_radius_km:r.search_radius_km?Number(r.search_radius_km):void 0};await n.updateProfile(u)}else{const u={license_number:r.license_number,license_expiry_date:(c=r.license_expiry_date)==null?void 0:c.slice(0,10),vehicle_type:"mototaxi",license_plate:"TEMP123",brand:"GENÉRICO",model:"ModeloX",color:"Amarillo"};await n.registerDriver(u),await n.fetchProfile()}}const a={store:n,form:r,errors:i,validateForm:s,handleSubmit:o};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),$L={class:"max-w-xl mx-auto px-4 py-6 bg-white/80 backdrop-blur-xl border border-white/30 shadow-soft rounded-3xl"},VL={class:"text-xl font-bold text-yellow-800 mb-4"},WL={key:0,class:"text-sm text-red-500 mt-1"},HL={key:0,class:"text-sm text-red-500 mt-1"},zL={key:0,class:"text-sm text-red-500 mt-1"},qL={key:0,class:"text-sm text-red-500 mt-1"},KL={key:0,class:"text-sm text-red-500 mt-1"},GL=["disabled"],YL={key:0,class:"text-red-500 text-sm mt-2"},QL={key:1,class:"text-green-600 font-medium text-sm mt-2"};function XL(e,t,n,r,i,s){return ue(),_e("div",$L,[R("h2",VL,ve(r.store.profile?"🛠️ Editar Perfil":"👋 Bienvenido, registra tu perfil de conductor"),1),R("form",{onSubmit:Fs(r.handleSubmit,["prevent"]),class:"space-y-5"},[R("div",null,[t[5]||(t[5]=R("label",{class:"block text-sm font-medium text-slate-700"},"Número de licencia",-1)),yt(R("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.form.license_number=o),type:"text",placeholder:"ABC-123456",class:Xe(["input input-bordered w-full shadow-inner mt-1",r.errors.license_number?"border-red-400 bg-red-50":""])},null,2),[[Ct,r.form.license_number]]),r.errors.license_number?(ue(),_e("p",WL,ve(r.errors.license_number),1)):$e("",!0)]),R("div",null,[t[6]||(t[6]=R("label",{class:"block text-sm font-medium text-slate-700"},"Fecha de vencimiento",-1)),yt(R("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.form.license_expiry_date=o),type:"date",class:Xe(["input input-bordered w-full shadow-inner mt-1",r.errors.license_expiry_date?"border-red-400 bg-red-50":""])},null,2),[[Ct,r.form.license_expiry_date]]),r.errors.license_expiry_date?(ue(),_e("p",HL,ve(r.errors.license_expiry_date),1)):$e("",!0)]),R("div",null,[t[7]||(t[7]=R("label",{class:"block text-sm font-medium text-slate-700"},"Nombre contacto de emergencia",-1)),yt(R("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.form.emergency_contact_name=o),type:"text",placeholder:"Juan Pérez",class:Xe(["input input-bordered w-full shadow-inner mt-1",r.errors.emergency_contact_name?"border-red-400 bg-red-50":""])},null,2),[[Ct,r.form.emergency_contact_name]]),r.errors.emergency_contact_name?(ue(),_e("p",zL,ve(r.errors.emergency_contact_name),1)):$e("",!0)]),R("div",null,[t[8]||(t[8]=R("label",{class:"block text-sm font-medium text-slate-700"},"Teléfono contacto de emergencia",-1)),yt(R("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.form.emergency_contact_phone=o),type:"tel",placeholder:"999-999-999",class:Xe(["input input-bordered w-full shadow-inner mt-1",r.errors.emergency_contact_phone?"border-red-400 bg-red-50":""])},null,2),[[Ct,r.form.emergency_contact_phone]]),r.errors.emergency_contact_phone?(ue(),_e("p",qL,ve(r.errors.emergency_contact_phone),1)):$e("",!0)]),R("div",null,[t[9]||(t[9]=R("label",{class:"block text-sm font-medium text-slate-700"},"Radio de búsqueda (km)",-1)),yt(R("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.form.search_radius_km=o),type:"number",min:"1",placeholder:"5",class:Xe(["input input-bordered w-full shadow-inner mt-1",r.errors.search_radius_km?"border-red-400 bg-red-50":""])},null,2),[[Ct,r.form.search_radius_km]]),t[10]||(t[10]=R("p",{class:"text-xs text-gray-500 mt-1"},"Rango en kilómetros desde tu ubicación actual.",-1)),r.errors.search_radius_km?(ue(),_e("p",KL,ve(r.errors.search_radius_km),1)):$e("",!0)]),R("button",{type:"submit",class:"bg-yellow-600 text-white font-semibold rounded-xl w-full py-2 mt-4 hover:scale-105 transition-transform duration-200 hover:bg-yellow-700 disabled:opacity-60",disabled:r.store.loading},ve(r.store.loading?"Guardando...":r.store.profile?"Guardar cambios":"Registrar perfil de conductor"),9,GL),r.store.error?(ue(),_e("div",YL,ve(r.store.error),1)):$e("",!0),r.store.registrationSuccess?(ue(),_e("div",QL,ve(r.store.registrationSuccess),1)):$e("",!0)],32)])}const JL=Ke(UL,[["render",XL],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/profile/components/DriverProfileForm.vue"]]),ZL=We({__name:"VehicleManagement",setup(e,{expose:t}){t();const n=O1(),r=Me(!1),i=fn({}),s=[{key:"vehicle_type",placeholder:"Tipo (motorcycle, car...)"},{key:"brand",placeholder:"Marca"},{key:"model",placeholder:"Modelo"},{key:"license_plate",placeholder:"Placa"},{key:"color",placeholder:"Color"}],o=()=>({vehicle_type:"",brand:"",model:"",license_plate:"",color:"",year:new Date().getFullYear(),passenger_capacity:2}),a=fn(o()),l=fn({}),c=fn({});Rt(n.fetchVehicles);function u(){r.value=!r.value,r.value&&(n.clearError(),Object.keys(i).forEach(v=>delete i[v]))}function f(){Object.assign(a,o()),Object.keys(i).forEach(v=>delete i[v])}function d(){let v=!0;i.vehicle_type=a.vehicle_type?"":"Requerido",i.brand=a.brand?"":"Requerido",i.model=a.model?"":"Requerido",i.license_plate=a.license_plate?"":"Requerido",i.color=a.color?"":"Requerido";for(const y in i)i[y]&&(v=!1);return v}async function h(){n.clearError(),d()&&(await n.addVehicle(a),f(),r.value=!1)}function p(v){if(l[v]=!l[v],l[v]){const y=n.vehicles.find(x=>x.id===v);y&&(c[v]={color:y.color,vehicle_status:y.vehicle_status},n.clearError())}}async function b(v,y){n.clearError(),await n.updateVehicle(v,y),l[v]=!1}const m={store:n,showAdd:r,fieldErrors:i,requiredFields:s,defaultNewVehicle:o,newVehicle:a,editing:l,editValues:c,toggleShowAdd:u,resetNewVehicleForm:f,validateFields:d,handleAdd:h,toggleEdit:p,handleUpdate:b};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),e4={class:"my-6 max-w-2xl mx-auto px-4"},t4={class:"flex justify-between items-center mb-4"},n4=["onUpdate:modelValue","placeholder"],r4={key:0,class:"text-sm text-red-500 mt-1"},i4=["disabled"],s4={class:"divide-y mt-6 rounded-2xl overflow-hidden shadow-sm bg-white/60 backdrop-blur border border-white/20"},o4={class:"flex justify-between items-start gap-4"},a4={class:"flex-1"},l4={class:"text-base font-semibold text-slate-700"},c4={class:"text-sm text-gray-600"},u4={class:"flex flex-col items-end gap-1"},f4=["onClick"],d4=["onSubmit"],h4=["onUpdate:modelValue"],p4=["onUpdate:modelValue"],g4=["disabled"],m4={key:1,class:"text-red-500 text-sm mt-4"};function _4(e,t,n,r,i,s){return ue(),_e("div",e4,[R("div",t4,[t[2]||(t[2]=R("h3",{class:"text-lg font-bold text-yellow-800"},"🚗 Tus vehículos",-1)),R("button",{class:"bg-white text-yellow-700 border border-yellow-300 font-medium px-3 py-1 rounded-lg hover:bg-yellow-100 transition",onClick:r.toggleShowAdd},ve(r.showAdd?"Cancelar":"Agregar vehículo"),1)]),r.showAdd?(ue(),_e("form",{key:0,class:"space-y-3 p-4 bg-white/80 backdrop-blur-xl rounded-3xl border border-white/30 shadow-soft",onSubmit:Fs(r.handleAdd,["prevent"])},[(ue(),_e(dt,null,Bn(r.requiredFields,o=>R("div",{key:o.key},[yt(R("input",{"onUpdate:modelValue":a=>r.newVehicle[o.key]=a,placeholder:o.placeholder,class:Xe(["input input-bordered w-full shadow-inner",r.fieldErrors[o.key]?"border-red-400 bg-red-50":""])},null,10,n4),[[Ct,r.newVehicle[o.key]]]),r.fieldErrors[o.key]?(ue(),_e("p",r4,ve(r.fieldErrors[o.key]),1)):$e("",!0)])),64)),yt(R("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.newVehicle.year=o),type:"number",class:"input input-bordered w-full shadow-inner",placeholder:"Año"},null,512),[[Ct,r.newVehicle.year,void 0,{number:!0}]]),yt(R("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.newVehicle.passenger_capacity=o),type:"number",class:"input input-bordered w-full shadow-inner",placeholder:"Capacidad"},null,512),[[Ct,r.newVehicle.passenger_capacity,void 0,{number:!0}]]),R("button",{class:"bg-yellow-600 text-white font-semibold rounded-xl px-4 py-2 shadow-md hover:scale-105 transition-transform duration-200 hover:bg-yellow-700 disabled:opacity-60 w-full",type:"submit",disabled:r.store.loading},ve(r.store.loading?"Guardando...":"Agregar vehículo"),9,i4)],32)):$e("",!0),R("div",s4,[(ue(!0),_e(dt,null,Bn(r.store.vehicles,o=>(ue(),_e("div",{key:o.id,class:"py-4 px-4 hover:bg-slate-50/50 transition-colors duration-150"},[R("div",o4,[R("div",a4,[R("div",l4,ve(o.vehicle_type)+" "+ve(o.brand)+" "+ve(o.model),1),R("div",c4,[Qe(" Placa: "+ve(o.license_plate)+" • Año: "+ve(o.year)+" ",1),R("span",{class:Xe(["ml-2 inline-block px-2 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":o.vehicle_status==="active","bg-yellow-100 text-yellow-800":o.vehicle_status==="maintenance","bg-red-100 text-red-700":o.vehicle_status==="inactive"}])},ve(o.vehicle_status),3)])]),R("div",u4,[R("button",{class:"text-yellow-700 border border-yellow-400 text-xs px-3 py-1 rounded-lg hover:bg-yellow-50 transition",onClick:a=>r.toggleEdit(o.id)},ve(r.editing[o.id]?"Cancelar":"Editar"),9,f4),r.editing[o.id]?(ue(),_e("form",{key:0,class:"flex flex-col gap-2 mt-2 w-64 bg-white/90 p-3 rounded-xl shadow-inner border border-white/20",onSubmit:Fs(()=>r.handleUpdate(o.id,r.editValues[o.id]),["prevent"])},[yt(R("input",{"onUpdate:modelValue":a=>r.editValues[o.id].color=a,class:"input input-xs input-bordered shadow-inner",placeholder:"Color"},null,8,h4),[[Ct,r.editValues[o.id].color]]),yt(R("select",{"onUpdate:modelValue":a=>r.editValues[o.id].vehicle_status=a,class:"input input-xs input-bordered"},[...t[3]||(t[3]=[R("option",{value:"active"},"Activo",-1),R("option",{value:"maintenance"},"Mantenimiento",-1),R("option",{value:"inactive"},"Inactivo",-1)])],8,p4),[[_0,r.editValues[o.id].vehicle_status]]),R("button",{class:"bg-yellow-600 text-white text-xs px-3 py-1 rounded-lg hover:scale-105 transition",type:"submit",disabled:r.store.loading}," Guardar ",8,g4)],40,d4)):$e("",!0)])])]))),128))]),r.store.error?(ue(),_e("div",m4,ve(r.store.error),1)):$e("",!0)])}const b4=Ke(ZL,[["render",_4],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/profile/components/VehicleManagement.vue"]]),y4=We({__name:"DriverProfile",setup(e,{expose:t}){t();const r={activeSection:Me("profile"),DriverProfileForm:JL,VehicleManagement:b4};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),v4={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-yellow-50/30 py-8 px-4"},w4={class:"max-w-3xl mx-auto space-y-6"},x4={class:"flex justify-center gap-2 bg-white/60 backdrop-blur-xl border border-yellow-200/40 shadow-inner rounded-full px-2 py-1 w-fit mx-auto"};function E4(e,t,n,r,i,s){return ue(),_e("div",v4,[R("div",w4,[t[2]||(t[2]=R("div",{class:"text-center"},[R("h1",{class:"text-2xl md:text-3xl font-extrabold text-yellow-700 tracking-tight"}," 👤 Perfil de Conductor "),R("p",{class:"text-sm text-yellow-900/70 mt-1"}," Gestiona tu información personal y vehículos ")],-1)),R("div",x4,[R("button",{class:Xe(["px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.activeSection==="profile"?"bg-yellow-600 text-white shadow-md":"text-yellow-800 hover:bg-yellow-100/60"]),onClick:t[0]||(t[0]=o=>r.activeSection="profile")}," 🪪 Perfil ",2),R("button",{class:Xe(["px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.activeSection==="vehicles"?"bg-yellow-600 text-white shadow-md":"text-yellow-800 hover:bg-yellow-100/60"]),onClick:t[1]||(t[1]=o=>r.activeSection="vehicles")}," 🚗 Vehículos ",2)]),ye(nk,{name:"slide-fade",mode:"out-in"},{default:tt(()=>[(ue(),_e("div",{key:r.activeSection,class:"bg-white/80 backdrop-blur-xl border border-yellow-200/40 shadow-soft rounded-3xl p-6"},[r.activeSection==="profile"?(ue(),Ze(r.DriverProfileForm,{key:0})):(ue(),Ze(r.VehicleManagement,{key:1}))]))]),_:1})])])}const S4=Ke(y4,[["render",E4],["__scopeId","data-v-662ebc82"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/profile/pages/DriverProfile.vue"]]),Eu={async getStatus(){const e=await et.get("/driver/status");if(!e.success||!e.data)throw new Error(e.message||"Error obteniendo status");return e.data},async getVehicles(){const e=await et.get("/driver/vehicles");if(!e.success||!e.data)throw new Error(e.message||"Error obteniendo vehículos");return e.data},async updateStatus(e,t){const n=await et.post("/driver/status",{status:e,vehicle_id:t});if(!n.success||!n.data)throw new Error(n.message||"Error actualizando estado");return n.data}},qh=Tn("driverStatus",{state:()=>({status:null,vehicles:[],loading:!1,error:null}),getters:{isOnline:e=>{var t;return((t=e.status)==null?void 0:t.driver_status)==="online"},activeVehicleId:e=>{var t;return(t=e.status)==null?void 0:t.active_vehicle_id}},actions:{async fetchStatus(){this.loading=!0,this.error=null;try{this.status=await Eu.getStatus()}catch(e){this.error=e.message}finally{this.loading=!1}},async fetchVehicles(){this.loading=!0,this.error=null;try{this.vehicles=await Eu.getVehicles()}catch(e){this.error=e.message}finally{this.loading=!1}},async updateStatus(e,t){var n;this.loading=!0,this.error=null;try{const r=t??((n=this.status)==null?void 0:n.active_vehicle_id);await Eu.updateStatus(e,r??void 0),await this.fetchStatus()}catch(r){this.error=r.message}finally{this.loading=!1}}}}),k4=We({__name:"StatusToggle",setup(e,{expose:t}){t();const r={store:qh(),Button:hs};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),A4={key:0,class:"flex items-center gap-4"};function T4(e,t,n,r,i,s){return r.store.status?(ue(),_e("div",A4,[ye(r.Button,{variant:r.store.status.driver_status==="online"?"secondary":"primary",loading:r.store.loading,onClick:t[0]||(t[0]=o=>r.store.updateStatus(r.store.status.driver_status==="online"?"offline":"online"))},{default:tt(()=>[Qe(ve(r.store.status.driver_status==="online"?"Desconectarse":"Conectarse"),1)]),_:1},8,["variant","loading"]),R("span",{class:Xe(["text-sm",r.store.status.driver_status==="online"?"text-green-600":"text-gray-400"])},ve(r.store.status.driver_status==="online"?"Online":"Offline"),3)])):$e("",!0)}const C4=Ke(k4,[["render",T4],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/status/components/StatusToggle.vue"]]),I4=We({__name:"VehicleSelector",setup(e,{expose:t}){t();const r={store:qh()};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),O4={key:0,class:"text-gray-500"},P4=["value","disabled"],R4=["value"];function M4(e,t,n,r,i,s){var o;return ue(),_e("div",null,[r.store.vehicles.length?(ue(),_e("select",{key:1,value:((o=r.store.status)==null?void 0:o.active_vehicle_id)??"",onChange:t[0]||(t[0]=a=>{var l;return r.store.updateStatus("online",+(((l=a.target)==null?void 0:l.value)??""))}),class:"block w-full border rounded-lg px-3 py-2 mt-1",disabled:r.store.loading},[t[1]||(t[1]=R("option",{value:"",disabled:""},"Selecciona vehículo",-1)),(ue(!0),_e(dt,null,Bn(r.store.vehicles,a=>(ue(),_e("option",{key:a.id,value:a.id},ve(a.brand)+" "+ve(a.model)+" ("+ve(a.license_plate)+") ",9,R4))),128))],40,P4)):(ue(),_e("div",O4," No hay vehículos registrados. "))])}const D4=Ke(I4,[["render",M4],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/status/components/VehicleSelector.vue"]]),L4=We({__name:"DriverStatus",setup(e,{expose:t}){t();const n=qh(),{status:r,loading:i,error:s,fetchStatus:o,fetchVehicles:a}=n;Rt(()=>{o(),a()});const l=Ye(()=>r!=null&&r.last_status_change?new Date(r.last_status_change).toLocaleString():"—"),c={store:n,status:r,loading:i,error:s,fetchStatus:o,fetchVehicles:a,formattedLastChange:l,Loading:ln,StatusToggle:C4,VehicleSelector:D4};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),N4={key:1,class:"p-4 text-red-600"},B4={key:2,class:"max-w-md mx-auto p-4 space-y-6"},j4={class:"mt-4 space-y-1"},F4={class:"block text-gray-500 text-xs"},U4={class:"block text-gray-500 text-xs"};function $4(e,t,n,r,i,s){var o;return ue(),_e("div",null,[r.loading&&!r.status?(ue(),Ze(r.Loading,{key:0,text:"Cargando estado..."})):r.error?(ue(),_e("div",N4,ve(r.error),1)):(ue(),_e("div",B4,[t[1]||(t[1]=R("h2",{class:"text-xl font-bold"},"Estado del Conductor",-1)),ye(r.StatusToggle),R("div",null,[t[0]||(t[0]=R("label",{class:"block mb-1"},"Vehículo activo:",-1)),ye(r.VehicleSelector)]),R("div",j4,[R("span",F4," Documentos: "+ve((o=r.status)!=null&&o.documents_verified?"✔️ Verificados":"❌ No verificados"),1),R("span",U4," Último cambio: "+ve(r.formattedLastChange),1)])]))])}const V4=Ke(L4,[["render",$4],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/status/pages/DriverStatus.vue"]]),W4=We({__name:"EarningsCard",props:{summary:{type:Object,required:!0}},setup(e,{expose:t}){t();const n={get Icon(){return sn}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),H4={class:"bg-gradient-to-br from-white via-yellow-50 to-slate-50 rounded-2xl p-5 shadow-xl grid grid-cols-2 gap-4 text-sm"},z4={class:"flex items-start gap-3"},q4={class:"text-xl font-bold text-green-700"},K4={class:"flex items-start gap-3"},G4={class:"text-xl font-bold"},Y4={class:"flex items-start gap-3"},Q4={class:"text-lg font-semibold text-blue-700"},X4={class:"flex items-start gap-3"},J4={class:"text-lg font-semibold text-indigo-700"};function Z4(e,t,n,r,i,s){return ue(),_e("div",H4,[R("div",z4,[ye(r.Icon,{icon:"mdi:wallet",class:"text-green-600 text-3xl"}),R("div",null,[R("div",q4,"S/ "+ve(n.summary.total_earnings.toFixed(2)),1),t[0]||(t[0]=R("div",{class:"text-gray-500"},"Ganancias totales",-1))])]),R("div",K4,[ye(r.Icon,{icon:"mdi:check-circle-outline",class:"text-yellow-600 text-3xl"}),R("div",null,[R("div",G4,ve(n.summary.total_trips),1),t[1]||(t[1]=R("div",{class:"text-gray-500"},"Viajes completados",-1))])]),R("div",Y4,[ye(r.Icon,{icon:"mdi:calendar-today",class:"text-blue-600 text-2xl"}),R("div",null,[R("div",Q4,"S/ "+ve(n.summary.today_earnings.toFixed(2)),1),t[2]||(t[2]=R("div",{class:"text-gray-500"},"Ganado hoy",-1))])]),R("div",X4,[ye(r.Icon,{icon:"mdi:calendar-week",class:"text-indigo-600 text-2xl"}),R("div",null,[R("div",J4,"S/ "+ve(n.summary.last_week_earnings.toFixed(2)),1),t[3]||(t[3]=R("div",{class:"text-gray-500"},"Últimos 7 días",-1))])])])}const eN=Ke(W4,[["render",Z4],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/earnings/components/EarningsCard.vue"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ma(e){return e+.5|0}const ci=(e,t,n)=>Math.max(Math.min(e,n),t);function Oo(e){return ci(Ma(e*2.55),0,255)}function fi(e){return ci(Ma(e*255),0,255)}function Rr(e){return ci(Ma(e/2.55)/100,0,1)}function k_(e){return ci(Ma(e*100),0,100)}const On={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jd=[..."0123456789ABCDEF"],tN=e=>jd[e&15],nN=e=>jd[(e&240)>>4]+jd[e&15],qa=e=>(e&240)>>4===(e&15),rN=e=>qa(e.r)&&qa(e.g)&&qa(e.b)&&qa(e.a);function iN(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&On[e[1]]*17,g:255&On[e[2]]*17,b:255&On[e[3]]*17,a:t===5?On[e[4]]*17:255}:(t===7||t===9)&&(n={r:On[e[1]]<<4|On[e[2]],g:On[e[3]]<<4|On[e[4]],b:On[e[5]]<<4|On[e[6]],a:t===9?On[e[7]]<<4|On[e[8]]:255})),n}const sN=(e,t)=>e<255?t(e):"";function oN(e){var t=rN(e)?tN:nN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+sN(e.a,t):void 0}const aN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P1(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function lN(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function cN(e,t,n){const r=P1(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function uN(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Kh(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=uN(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Gh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(fi)}function Yh(e,t,n){return Gh(P1,e,t,n)}function fN(e,t,n){return Gh(cN,e,t,n)}function dN(e,t,n){return Gh(lN,e,t,n)}function R1(e){return(e%360+360)%360}function hN(e){const t=aN.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Oo(+t[5]):fi(+t[5]));const i=R1(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=fN(i,s,o):t[1]==="hsv"?r=dN(i,s,o):r=Yh(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function pN(e,t){var n=Kh(e);n[0]=R1(n[0]+t),n=Yh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function gN(e){if(!e)return;const t=Kh(e),n=t[0],r=k_(t[1]),i=k_(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Rr(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const A_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mN(){const e={},t=Object.keys(T_),n=Object.keys(A_);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,A_[s]);s=parseInt(T_[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Ka;function _N(e){Ka||(Ka=mN(),Ka.transparent=[0,0,0,0]);const t=Ka[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yN(e){const t=bN.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Oo(o):ci(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Oo(r):ci(r,0,255)),i=255&(t[4]?Oo(i):ci(i,0,255)),s=255&(t[6]?Oo(s):ci(s,0,255)),{r,g:i,b:s,a:n}}}function vN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Rr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Su=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Es=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function wN(e,t,n){const r=Es(Rr(e.r)),i=Es(Rr(e.g)),s=Es(Rr(e.b));return{r:fi(Su(r+n*(Es(Rr(t.r))-r))),g:fi(Su(i+n*(Es(Rr(t.g))-i))),b:fi(Su(s+n*(Es(Rr(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Ga(e,t,n){if(e){let r=Kh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Yh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function M1(e,t){return e&&Object.assign(t||{},e)}function C_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=fi(e[3]))):(t=M1(e,{r:0,g:0,b:0,a:1}),t.a=fi(t.a)),t}function xN(e){return e.charAt(0)==="r"?yN(e):hN(e)}class pa{constructor(t){if(t instanceof pa)return t;const n=typeof t;let r;n==="object"?r=C_(t):n==="string"&&(r=iN(t)||_N(t)||xN(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=M1(this._rgb);return t&&(t.a=Rr(t.a)),t}set rgb(t){this._rgb=C_(t)}rgbString(){return this._valid?vN(this._rgb):void 0}hexString(){return this._valid?oN(this._rgb):void 0}hslString(){return this._valid?gN(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=wN(this._rgb,t._rgb,n)),this}clone(){return new pa(this.rgb)}alpha(t){return this._rgb.a=fi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ma(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ga(this._rgb,2,t),this}darken(t){return Ga(this._rgb,2,-t),this}saturate(t){return Ga(this._rgb,1,t),this}desaturate(t){return Ga(this._rgb,1,-t),this}rotate(t){return pN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xr(){}const EN=(()=>{let e=0;return()=>e++})();function vt(e){return e==null}function zt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function lt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function jn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function tr(e,t){return jn(e)?e:t}function rt(e,t){return typeof e>"u"?t:e}const SN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Et(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ft(e,t,n,r){let i,s,o;if(zt(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(lt(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function ic(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function sc(e){if(zt(e))return e.map(sc);if(lt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=sc(e[n[i]]);return t}return e}function D1(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function kN(e,t,n,r){if(!D1(e))return;const i=t[e],s=n[e];lt(i)&&lt(s)?ga(i,s,r):t[e]=sc(s)}function ga(e,t,n){const r=zt(t)?t:[t],i=r.length;if(!lt(e))return e;n=n||{};const s=n.merger||kN;let o;for(let a=0;a<i;++a){if(o=r[a],!lt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],e,o,n)}return e}function zo(e,t){return ga(e,t,{merger:AN})}function AN(e,t,n){if(!D1(e))return;const r=t[e],i=n[e];lt(r)&&lt(i)?zo(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=sc(i))}const I_={"":e=>e,x:e=>e.x,y:e=>e.y};function TN(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function CN(e){const t=TN(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function oc(e,t){return(I_[t]||(I_[t]=CN(t)))(e)}function Qh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ac=e=>typeof e<"u",gi=e=>typeof e=="function",O_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function IN(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const qt=Math.PI,pr=2*qt,ON=pr+qt,lc=Number.POSITIVE_INFINITY,PN=qt/180,zn=qt/2,Ti=qt/4,P_=qt*2/3,L1=Math.log10,qs=Math.sign;function qo(e,t,n){return Math.abs(e-t)<n}function R_(e){const t=Math.round(e);e=qo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(L1(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function RN(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function MN(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ma(e){return!MN(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function DN(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function LN(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vi(e){return e*(qt/180)}function NN(e){return e*(180/qt)}function M_(e){if(!jn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function BN(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*qt&&(s+=pr),{angle:s,distance:i}}function Fd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jN(e,t){return(e-t+ON)%pr-qt}function Jr(e){return(e%pr+pr)%pr}function N1(e,t,n,r){const i=Jr(e),s=Jr(t),o=Jr(n),a=Jr(s-i),l=Jr(o-i),c=Jr(i-s),u=Jr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Mn(e,t,n){return Math.max(t,Math.min(n,e))}function FN(e){return Mn(e,-32768,32767)}function Po(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Xh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Wi=(e,t,n,r)=>Xh(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),UN=(e,t,n)=>Xh(e,n,r=>e[r][t]>=n);function $N(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const B1=["push","pop","shift","splice","unshift"];function VN(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),B1.forEach(n=>{const r="_onData"+Qh(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function D_(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(B1.forEach(s=>{delete e[s]}),delete e._chartjs)}function WN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const j1=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function F1(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,j1.call(window,()=>{r=!1,e.apply(t,n)}))}}function HN(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Jh=e=>e==="start"?"left":e==="end"?"right":"center",Zt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,zN=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function qN(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:f,max:d,minDefined:h,maxDefined:p}=o.getUserBounds();if(h){if(i=Math.min(Wi(l,u,f).lo,n?r:Wi(t,u,o.getPixelForValue(f)).lo),c){const b=l.slice(0,i+1).reverse().findIndex(m=>!vt(m[a.axis]));i-=Math.max(0,b)}i=Mn(i,0,r-1)}if(p){let b=Math.max(Wi(l,o.axis,d,!0).hi+1,n?0:Wi(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const m=l.slice(b-1).findIndex(v=>!vt(v[a.axis]));b+=Math.max(0,m)}s=Mn(b,i,r)-i}else s=r-i}return{start:i,count:s}}function KN(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Ya=e=>e===0||e===1,L_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*pr/n)),N_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*pr/n)+1,Ko={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*zn)+1,easeOutSine:e=>Math.sin(e*zn),easeInOutSine:e=>-.5*(Math.cos(qt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ya(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ya(e)?e:L_(e,.075,.3),easeOutElastic:e=>Ya(e)?e:N_(e,.075,.3),easeInOutElastic(e){return Ya(e)?e:e<.5?.5*L_(e*2,.1125,.45):.5+.5*N_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ko.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ko.easeInBounce(e*2)*.5:Ko.easeOutBounce(e*2-1)*.5+.5};function Zh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function B_(e){return Zh(e)?e:new pa(e)}function ku(e){return Zh(e)?e:new pa(e).saturate(.5).darken(.1).hexString()}const GN=["x","y","borderWidth","radius","tension"],YN=["color","borderColor","backgroundColor"];function QN(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:YN},numbers:{type:"number",properties:GN}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function XN(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const j_=new Map;function JN(e,t){t=t||{};const n=e+JSON.stringify(t);let r=j_.get(n);return r||(r=new Intl.NumberFormat(e,t),j_.set(n,r)),r}function U1(e,t,n){return JN(t,n).format(e)}const ZN={values(e){return zt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=eB(e,n)}const o=L1(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),U1(e,r,l)}};function eB(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $1={formatters:ZN};function tB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ls=Object.create(null),Ud=Object.create(null);function Go(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function Au(e,t,n){return typeof t=="string"?ga(Go(e,t),n):ga(Go(e,""),t)}class nB{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>ku(i.backgroundColor),this.hoverBorderColor=(r,i)=>ku(i.borderColor),this.hoverColor=(r,i)=>ku(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Au(this,t,n)}get(t){return Go(this,t)}describe(t,n){return Au(Ud,t,n)}override(t,n){return Au(ls,t,n)}route(t,n,r,i){const s=Go(this,t),o=Go(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return lt(l)?Object.assign({},c,l):rt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Nt=new nB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QN,XN,tB]);function rB(e){return!e||vt(e.size)||vt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function F_(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ci(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function U_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $d(e,t,n,r){V1(e,t,n,r,null)}function V1(e,t,n,r,i){let s,o,a,l,c,u,f,d;const h=t.pointStyle,p=t.rotation,b=t.radius;let m=(p||0)*PN;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(m),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),h){default:i?e.ellipse(n,r,i/2,b,0,0,pr):e.arc(n,r,b,0,pr),e.closePath();break;case"triangle":u=i?i/2:b,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*b),m+=P_,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*b),m+=P_,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*b),e.closePath();break;case"rectRounded":c=b*.516,l=b-c,o=Math.cos(m+Ti)*l,f=Math.cos(m+Ti)*(i?i/2-c:l),a=Math.sin(m+Ti)*l,d=Math.sin(m+Ti)*(i?i/2-c:l),e.arc(n-f,r-a,c,m-qt,m-zn),e.arc(n+d,r-o,c,m-zn,m),e.arc(n+f,r+a,c,m,m+zn),e.arc(n-d,r+o,c,m+zn,m+qt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*b,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=Ti;case"rectRot":f=Math.cos(m)*(i?i/2:b),o=Math.cos(m)*b,a=Math.sin(m)*b,d=Math.sin(m)*(i?i/2:b),e.moveTo(n-f,r-a),e.lineTo(n+d,r-o),e.lineTo(n+f,r+a),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":m+=Ti;case"cross":f=Math.cos(m)*(i?i/2:b),o=Math.cos(m)*b,a=Math.sin(m)*b,d=Math.sin(m)*(i?i/2:b),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":f=Math.cos(m)*(i?i/2:b),o=Math.cos(m)*b,a=Math.sin(m)*b,d=Math.sin(m)*(i?i/2:b),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),m+=Ti,f=Math.cos(m)*(i?i/2:b),o=Math.cos(m)*b,a=Math.sin(m)*b,d=Math.sin(m)*(i?i/2:b),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*b,a=Math.sin(m)*b,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:b),r+Math.sin(m)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function _a(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ep(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function tp(e){e.restore()}function iB(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function sB(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function oB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function aB(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function lB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ba(e,t,n,r,i,s={}){const o=zt(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,oB(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&lB(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),vt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),aB(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Vd(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*qt,qt,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,qt,zn,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,zn,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-zn,!0),e.lineTo(n+o.topLeft,r)}const cB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fB(e,t){const n=(""+e).match(cB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const dB=e=>+e||0;function W1(e,t){const n={},r=lt(t),i=r?Object.keys(t):t,s=lt(e)?r?o=>rt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=dB(s(o));return n}function hB(e){return W1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Yo(e){return W1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fn(e){const t=hB(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rn(e,t){e=e||{},t=t||Nt.font;let n=rt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=rt(e.style,t.style);r&&!(""+r).match(uB)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:rt(e.family,t.family),lineHeight:fB(rt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:rt(e.weight,t.weight),string:""};return i.string=rB(i),i}function Qa(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function pB(e,t,n){const{min:r,max:i}=e,s=SN(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ps(e,t){return Object.assign(Object.create(e),t)}function np(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=K1("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>np([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return z1(a,l,()=>xB(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return V_(a).includes(l)},ownKeys(a){return V_(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ks(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:H1(e,r),setContext:s=>Ks(e,s,n,r),override:s=>Ks(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return z1(s,o,()=>mB(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function H1(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:gi(n)?n:()=>n,isIndexable:gi(r)?r:()=>r}}const gB=(e,t)=>e?e+Qh(t):t,rp=(e,t)=>lt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function z1(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function mB(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return gi(a)&&o.isScriptable(t)&&(a=_B(t,a,e,n)),zt(a)&&a.length&&(a=bB(t,a,e,o.isIndexable)),rp(t,a)&&(a=Ks(a,i,s&&s[t],o)),a}function _B(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),rp(e,l)&&(l=ip(i._scopes,i,e,l)),l}function bB(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(lt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const f=ip(c,i,e,u);t.push(Ks(f,s,o&&o[e],a))}}return t}function q1(e,t,n){return gi(e)?e(t,n):e}const yB=(e,t)=>e===!0?t:typeof e=="string"?oc(t,e):void 0;function vB(e,t,n,r,i){for(const s of t){const o=yB(n,s);if(o){e.add(o);const a=q1(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function ip(e,t,n,r){const i=t._rootScopes,s=q1(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=$_(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=$_(a,o,s,l,r),l===null)?!1:np(Array.from(a),[""],i,s,()=>wB(t,n,r))}function $_(e,t,n,r,i){for(;n;)n=vB(e,t,n,r,i);return n}function wB(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return zt(i)&&lt(n)?n:i||{}}function xB(e,t,n,r){let i;for(const s of t)if(i=K1(gB(s,e),n),typeof i<"u")return rp(e,i)?ip(n,r,e,i):i}function K1(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function V_(e){let t=e._keys;return t||(t=e._keys=EB(e._scopes)),t}function EB(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const SB=Number.EPSILON||1e-14,Gs=(e,t)=>t<e.length&&!e[t].skip&&e[t],G1=e=>e==="x"?"y":"x";function kB(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Fd(s,i),l=Fd(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,d=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function AB(e,t,n){const r=e.length;let i,s,o,a,l,c=Gs(e,0);for(let u=0;u<r-1;++u)if(l=c,c=Gs(e,u+1),!(!l||!c)){if(qo(t[u],0,SB)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=s*o*t[u])}}function TB(e,t,n="x"){const r=G1(n),i=e.length;let s,o,a,l=Gs(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Gs(e,c+1),!a)continue;const u=a[n],f=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=f-s*t[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=f+s*t[c])}}function CB(e,t="x"){const n=G1(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=Gs(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=Gs(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?qs(i[o-1])!==qs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}AB(e,i,s),TB(e,s,t)}function Xa(e,t,n){return Math.max(Math.min(e,n),t)}function IB(e,t){let n,r,i,s,o,a=_a(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&_a(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Xa(i.cp1x,t.left,t.right),i.cp1y=Xa(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Xa(i.cp2x,t.left,t.right),i.cp2y=Xa(i.cp2y,t.top,t.bottom)))}function OB(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")CB(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=kB(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&IB(e,n)}function sp(){return typeof window<"u"&&typeof document<"u"}function op(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Dc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function PB(e,t){return Dc(e).getPropertyValue(t)}const RB=["top","right","bottom","left"];function Zi(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=RB[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const MB=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function DB(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(MB(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Di(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Dc(n),s=i.boxSizing==="border-box",o=Zi(i,"padding"),a=Zi(i,"border","width"),{x:l,y:c,box:u}=DB(e,n),f=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:h,height:p}=t;return s&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-f)/h*n.width/r),y:Math.round((c-d)/p*n.height/r)}}function LB(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&op(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Dc(s),l=Zi(a,"border","width"),c=Zi(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=cc(a.maxWidth,s,"clientWidth"),i=cc(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||lc,maxHeight:i||lc}}const Ja=e=>Math.round(e*10)/10;function NB(e,t,n,r){const i=Dc(e),s=Zi(i,"margin"),o=cc(i.maxWidth,e,"clientWidth")||lc,a=cc(i.maxHeight,e,"clientHeight")||lc,l=LB(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=Zi(i,"border","width"),h=Zi(i,"padding");c-=h.width+d.width,u-=h.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ja(Math.min(c,o,l.maxWidth)),u=Ja(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ja(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Ja(Math.floor(u*r))),{width:c,height:u}}function W_(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const BB=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};sp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function H_(e,t){const n=PB(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Li(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function jB(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function FB(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Li(e,i,n),a=Li(i,s,n),l=Li(s,t,n),c=Li(o,a,n),u=Li(a,l,n);return Li(c,u,n)}const UB=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},$B=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ls(e,t,n){return e?UB(t,n):$B()}function Y1(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Q1(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function X1(e){return e==="angle"?{between:N1,compare:jN,normalize:Jr}:{between:Po,compare:(t,n)=>t-n,normalize:t=>t}}function z_({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function VB(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=X1(r),l=t.length;let{start:c,end:u,loop:f}=e,d,h;if(f){for(c+=l,u+=l,d=0,h=l;d<h&&o(a(t[c%l][r]),i,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:e.style}}function WB(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=X1(r),{start:u,end:f,loop:d,style:h}=VB(e,t,n),p=[];let b=!1,m=null,v,y,x;const P=()=>l(i,x,v)&&a(i,x)!==0,S=()=>a(s,v)===0||l(s,x,v),E=()=>b||P(),A=()=>!b||S();for(let M=u,W=u;M<=f;++M)y=t[M%o],!y.skip&&(v=c(y[r]),v!==x&&(b=l(v,i,s),m===null&&E()&&(m=a(v,i)===0?M:W),m!==null&&A()&&(p.push(z_({start:m,end:M,loop:d,count:o,style:h})),m=null),W=M,x=v));return m!==null&&p.push(z_({start:m,end:f,loop:d,count:o,style:h})),p}function HB(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=WB(r[i],e.points,t);s.length&&n.push(...s)}return n}function zB(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function qB(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function KB(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=zB(n,i,s,r);if(r===!0)return q_(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return q_(e,qB(n,o,l,c),n,t)}function q_(e,t,n,r){return!r||!r.setContext||!n?t:GB(e,t,n,r)}function GB(e,t,n,r){const i=e._chart.getContext(),s=K_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,f=t[0].start,d=f;function h(p,b,m,v){const y=a?-1:1;if(p!==b){for(p+=l;n[p%l].skip;)p-=y;for(;n[b%l].skip;)b+=y;p%l!==b%l&&(c.push({start:p%l,end:b%l,loop:m,style:v}),u=v,f=b%l)}}for(const p of t){f=a?f:p.start;let b=n[f%l],m;for(d=f+1;d<=p.end;d++){const v=n[d%l];m=K_(r.setContext(ps(i,{type:"segment",p0:b,p1:v,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),YB(m,u)&&h(f,d-1,p.loop,u),b=v,u=m}f<d-1&&h(f,d-1,p.loop,u)}return c}function K_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function YB(e,t){if(!t)return!1;const n=[],r=function(i,s){return Zh(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Za(e,t,n){return e.options.clip?e[n]:t[n]}function QB(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Za(n,t,"left"),right:Za(n,t,"right"),top:Za(r,t,"top"),bottom:Za(r,t,"bottom")}:t}function XB(e,t){const n=t._clip;if(n.disabled)return!1;const r=QB(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class JB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=j1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var kr=new JB;const G_="transparent",ZB={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=B_(e||G_),i=r.valid&&B_(t||G_);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class ej{constructor(t,n,r,i){const s=n[r];i=Qa([t.to,i,s,t.from]);const o=Qa([t.from,s,i]);this._active=!0,this._fn=t.fn||ZB[t.type||typeof o],this._easing=Ko[t.easing]||Ko.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Qa([t.to,n,i,t.from]),this._from=Qa([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class J1{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!lt(t))return;const n=Object.keys(Nt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!lt(s))return;const o={};for(const a of n)o[a]=s[a];(zt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=nj(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&tj(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let f=s[c];const d=r.get(c);if(f)if(d&&f.active()){f.update(d,u,a);continue}else f.cancel();if(!d||!d.duration){t[c]=u;continue}s[c]=f=new ej(d,t,c,u),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return kr.add(this._chart,r),!0}}function tj(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function nj(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Y_(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function rj(e,t,n){if(n===!1)return!1;const r=Y_(e,n),i=Y_(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ij(e){let t,n,r,i;return lt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function Z1(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Q_(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=e.values[l],jn(c)&&(s||t===0||qs(t)===qs(c))&&(t+=c)}return!u&&!r.all?0:t}function sj(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}function Tu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function oj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function aj(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function lj(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function X_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function J_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=oj(s,o,r),f=t.length;let d;for(let h=0;h<f;++h){const p=t[h],{[l]:b,[c]:m}=p,v=p._stacks||(p._stacks={});d=v[c]=lj(i,u,b),d[a]=m,d._top=X_(d,o,!0,r.type),d._bottom=X_(d,o,!1,r.type);const y=d._visualValues||(d._visualValues={});y[a]=m}}function Cu(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function cj(e,t){return ps(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function uj(e,t,n){return ps(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function mo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Iu=e=>e==="reset"||e==="none",Z_=(e,t)=>t?e:Object.assign({},e),fj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Z1(n,!0),values:null};class Qo{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Tu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,d,h,p)=>f==="x"?d:f==="r"?p:h,s=n.xAxisID=rt(r.xAxisID,Cu(t,"x")),o=n.yAxisID=rt(r.yAxisID,Cu(t,"y")),a=n.rAxisID=rt(r.rAxisID,Cu(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&D_(this._data,this),t._stacked&&mo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(lt(n)){const i=this._cachedMeta;this._data=sj(n,i)}else if(r!==n){if(r){D_(r,this);const i=this._cachedMeta;mo(i),i._parsed=[]}n&&Object.isExtensible(n)&&VN(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Tu(n.vScale,n),n.stack!==r.stack&&(i=!0,mo(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(J_(this,n._parsed),n._stacked=Tu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],u,f,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{zt(i[t])?d=this.parseArrayData(r,i,t,n):lt(i[t])?d=this.parseObjectData(r,i,t,n):d=this.parsePrimitiveData(r,i,t,n);const h=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)r._parsed[u+t]=f=d[u],l&&(h()&&(l=!1),c=f);r._sorted=l}o&&J_(this,d)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,f=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+r,f[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return f}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=n[u],a[l]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,d,h;for(u=0,f=i;u<f;++u)d=u+r,h=n[d],c[u]={x:s.parse(oc(h,a),d),y:o.parse(oc(h,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Z1(i,!0),values:n._stacks[t.axis]._visualValues};return Q_(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Q_(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=fj(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=aj(a);let d,h;function p(){h=i[d];const b=h[a.axis];return!jn(h[t.axis])||u>b||f<b}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,t,h,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,t,h,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],jn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ij(rt(this.options.clip,rj(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=uj(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=cj(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&ac(r);if(a)return Z_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),h=Object.keys(Nt.elements[t]),p=()=>this.getContext(r,i,n),b=c.resolveNamedOptions(d,h,p,f);return b.$shared&&(b.$shared=l,s[o]=Object.freeze(Z_(b,l))),b}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(d,this.getContext(t,r,n))}const c=new J1(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Iu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){Iu(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Iu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&mo(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Re(Qo,"defaults",{}),Re(Qo,"datasetElementType",null),Re(Qo,"dataElementType",null);class Dl extends Qo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=qN(n,i,o);this._drawStart=a,this._drawCount=l,KN(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),d=o.axis,h=a.axis,{spanGaps:p,segment:b}=this.options,m=ma(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",y=n+r,x=t.length;let P=n>0&&this.getParsed(n-1);for(let S=0;S<x;++S){const E=t[S],A=v?E:{};if(S<n||S>=y){A.skip=!0;continue}const M=this.getParsed(S),W=vt(M[h]),V=A[d]=o.getPixelForValue(M[d],S),q=A[h]=s||W?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[h],S);A.skip=isNaN(V)||isNaN(q)||W,A.stop=S>0&&Math.abs(M[d]-P[d])>m,b&&(A.parsed=M,A.raw=c.data[S]),f&&(A.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),v||this.updateElement(E,S,A,i),P=M}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Re(Dl,"id","line"),Re(Dl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Re(Dl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ii(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ap{constructor(t){Re(this,"options");this.options=t||{}}static override(t){Object.assign(ap.prototype,t)}init(){}formats(){return Ii()}parse(){return Ii()}format(){return Ii()}add(){return Ii()}diff(){return Ii()}startOf(){return Ii()}endOf(){return Ii()}}var dj={_date:ap};function hj(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?UN:Wi;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const d=c(s,t,n-f),h=c(s,t,n+f);return{lo:d.lo,hi:h.hi}}}}else{const u=c(s,t,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:d}=e,h=d.slice(0,u.lo+1).reverse().findIndex(b=>!vt(b[f.axis]));u.lo-=Math.max(0,h);const p=d.slice(u.hi).findIndex(b=>!vt(b[f.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:s.length-1}}function Lc(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:f,hi:d}=hj(s[a],t,o,i);for(let h=f;h<=d;++h){const p=u[h];p.skip||r(p,c,h)}}}function pj(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ou(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Lc(e,n,t,function(a,l,c){!i&&!_a(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function gj(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=BN(o,{x:t.x,y:t.y});N1(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Lc(e,n,t,s),i}function mj(e,t,n,r,i,s){let o=[];const a=pj(n);let l=Number.POSITIVE_INFINITY;function c(u,f,d){const h=u.inRange(t.x,t.y,i);if(r&&!h)return;const p=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(p))&&!h)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:f,index:d}],l=m):m===l&&o.push({element:u,datasetIndex:f,index:d})}return Lc(e,n,t,c),o}function Pu(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?gj(e,t,n,i):mj(e,t,n,r,i,s)}function eb(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Lc(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var _j={modes:{index(e,t,n,r){const i=Di(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ou(e,i,s,r,o):Pu(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,r){const i=Di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ou(e,i,s,r,o):Pu(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,r){const i=Di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Ou(e,i,s,r,o)},nearest(e,t,n,r){const i=Di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Pu(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Di(t,e);return eb(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Di(t,e);return eb(e,i,"y",n.intersect,r)}}};const ex=["left","top","right","bottom"];function _o(e,t){return e.filter(n=>n.pos===t)}function tb(e,t){return e.filter(n=>ex.indexOf(n.pos)===-1&&n.box.axis===t)}function bo(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function bj(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function yj(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!ex.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function vj(e,t){const n=yj(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&t.availableHeight)}return n}function wj(e){const t=bj(e),n=bo(t.filter(c=>c.box.fullSize),!0),r=bo(_o(t,"left"),!0),i=bo(_o(t,"right")),s=bo(_o(t,"top"),!0),o=bo(_o(t,"bottom")),a=tb(t,"x"),l=tb(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:_o(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function nb(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function tx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xj(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!lt(i)){n.size&&(e[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,e[i]+=n.size}s.getPadding&&tx(o,s.getPadding());const a=Math.max(0,t.outerWidth-nb(o,e,"left","right")),l=Math.max(0,t.outerHeight-nb(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Ej(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Sj(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function Ro(e,t,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,Sj(a.horizontal,t));const{same:f,other:d}=xj(t,n,a,r);c|=f&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&Ro(i,t,n,r)||u}function el(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function rb(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*u,d=c.size||l.height;ac(c.start)&&(o=c.start),l.fullSize?el(l,i.left,o,n.outerWidth-i.right-i.left,d):el(l,t.left+c.placed,o,f,d),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*u,d=c.size||l.width;ac(c.start)&&(s=c.start),l.fullSize?el(l,s,i.top,d,n.outerHeight-i.bottom-i.top):el(l,s,t.top+c.placed,d,f),c.start=s,c.placed+=f,s=l.right}}t.x=s,t.y=o}var Dn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Fn(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=wj(e.boxes),l=a.vertical,c=a.horizontal;ft(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,m)=>m.box.options&&m.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);tx(d,Fn(r));const h=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=vj(l.concat(c),f);Ro(a.fullSize,h,f,p),Ro(l,h,f,p),Ro(c,h,f,p)&&Ro(l,h,f,p),Ej(h),rb(a.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,rb(a.rightAndBottom,h,f,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ft(a.chartArea,b=>{const m=b.box;Object.assign(m,e.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class nx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class kj extends nx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ll="$chartjs",Aj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ib=e=>e===null||e==="";function Tj(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Ll]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ib(i)){const s=H_(e,"width");s!==void 0&&(e.width=s)}if(ib(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=H_(e,"height");s!==void 0&&(e.height=s)}return e}const rx=BB?{passive:!0}:!1;function Cj(e,t,n){e&&e.addEventListener(t,n,rx)}function Ij(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,rx)}function Oj(e,t){const n=Aj[e.type]||e.type,{x:r,y:i}=Di(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function uc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Pj(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uc(a.addedNodes,r),o=o&&!uc(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Rj(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uc(a.removedNodes,r),o=o&&!uc(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ya=new Map;let sb=0;function ix(){const e=window.devicePixelRatio;e!==sb&&(sb=e,ya.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Mj(e,t){ya.size||window.addEventListener("resize",ix),ya.set(e,t)}function Dj(e){ya.delete(e),ya.size||window.removeEventListener("resize",ix)}function Lj(e,t,n){const r=e.canvas,i=r&&op(r);if(!i)return;const s=F1((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),Mj(e,s),o}function Ru(e,t,n){n&&n.disconnect(),t==="resize"&&Dj(e)}function Nj(e,t,n){const r=e.canvas,i=F1(s=>{e.ctx!==null&&n(Oj(s,e))},e);return Cj(r,t,i),i}class Bj extends nx{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Tj(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Ll])return!1;const r=n[Ll].initial;["height","width"].forEach(s=>{const o=r[s];vt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ll],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:Pj,detach:Rj,resize:Lj}[n]||Nj;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Ru,detach:Ru,resize:Ru}[n]||Ij)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return NB(t,n,r,i)}isAttached(t){const n=t&&op(t);return!!(n&&n.isConnected)}}function jj(e){return!sp()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?kj:Bj}var al;let gs=(al=class{constructor(){Re(this,"x");Re(this,"y");Re(this,"active",!1);Re(this,"options");Re(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return ma(this.x)&&ma(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Re(al,"defaults",{}),Re(al,"defaultRoutes"),al);function Fj(e,t){const n=e.options.ticks,r=Uj(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Vj(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return Wj(t,c,s,o/i),c;const u=$j(s,t,i);if(o>0){let f,d;const h=o>1?Math.round((l-a)/(o-1)):null;for(tl(t,c,u,vt(h)?0:a-h,a),f=0,d=o-1;f<d;f++)tl(t,c,u,s[f],s[f+1]);return tl(t,c,u,l,vt(h)?t.length:l+h),c}return tl(t,c,u),c}function Uj(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function $j(e,t,n){const r=Hj(e),i=t.length/n;if(!r)return Math.max(i,1);const s=RN(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function Vj(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function Wj(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function tl(e,t,n,r,i){const s=rt(r,0),o=Math.min(rt(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(s+a*n))}function Hj(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const zj=e=>e==="left"?"right":e==="right"?"left":e,ob=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,ab=(e,t)=>Math.min(t||e,e);function lb(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function qj(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function Kj(e,t){ft(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function yo(e){return e.drawTicks?e.tickLength:0}function cb(e,t){if(!e.display)return 0;const n=rn(e.font,t),r=Fn(e.padding);return(zt(e.text)?e.text.length:1)*n.lineHeight+r.height}function Gj(e,t){return ps(e,{scale:t,type:"scale"})}function Yj(e,t,n){return ps(e,{tick:n,index:t,type:"tick"})}function Qj(e,t,n){let r=Jh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=zj(r)),r}function Xj(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let f=0,d,h,p;const b=o-i,m=a-s;if(e.isHorizontal()){if(h=Zt(r,s,a),lt(n)){const v=Object.keys(n)[0],y=n[v];p=u[v].getPixelForValue(y)+b-t}else n==="center"?p=(c.bottom+c.top)/2+b-t:p=ob(e,n,t);d=a-s}else{if(lt(n)){const v=Object.keys(n)[0],y=n[v];h=u[v].getPixelForValue(y)-m+t}else n==="center"?h=(c.left+c.right)/2-m+t:h=ob(e,n,t);p=Zt(r,o,i),f=n==="left"?-zn:zn}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}class so extends gs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=tr(t,Number.POSITIVE_INFINITY),n=tr(n,Number.NEGATIVE_INFINITY),r=tr(r,Number.POSITIVE_INFINITY),i=tr(i,Number.NEGATIVE_INFINITY),{min:tr(t,r),max:tr(n,i),minDefined:jn(t),maxDefined:jn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:tr(n,tr(r,n)),max:tr(r,tr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Et(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pB(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?lb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Fj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Et(this.options.afterUpdate,[this])}beforeSetDimensions(){Et(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Et(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Et(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Et(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Et(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Et(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Et(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=ab(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,d=u.highest.height,h=Mn(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:h/(r-1),f+6>a&&(a=h/(r-(t.offset?.5:1)),l=this.maxHeight-yo(t.grid)-n.padding-cb(t.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),o=NN(Math.min(Math.asin(Mn((u.highest.height+6)/a,-1,1)),Math.asin(Mn(l/c,-1,1))-Math.asin(Mn(d/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Et(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Et(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=cb(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=yo(s)+l):(t.height=this.maxHeight,t.width=yo(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:d}=this._getLabelSizes(),h=r.padding*2,p=Vi(this.labelRotation),b=Math.cos(p),m=Math.sin(p);if(a){const v=r.mirror?0:m*f.width+b*d.height;t.height=Math.min(this.maxHeight,t.height+v+h)}else{const v=r.mirror?0:b*f.width+m*d.height;t.width=Math.min(this.maxWidth,t.width+v+h)}this._calculatePadding(c,u,m,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?c?(d=i*t.width,h=r*n.height):(d=r*t.height,h=i*n.width):s==="start"?h=n.width:s==="end"?d=t.width:s!=="inner"&&(d=t.width/2,h=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=t.height/2;s==="start"?(u=0,f=t.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Et(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)vt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=lb(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/ab(n,r));let c=0,u=0,f,d,h,p,b,m,v,y,x,P,S;for(f=0;f<n;f+=l){if(p=t[f].label,b=this._resolveTickFontOptions(f),i.font=m=b.string,v=s[m]=s[m]||{data:{},gc:[]},y=b.lineHeight,x=P=0,!vt(p)&&!zt(p))x=F_(i,v.data,v.gc,x,p),P=y;else if(zt(p))for(d=0,h=p.length;d<h;++d)S=p[d],!vt(S)&&!zt(S)&&(x=F_(i,v.data,v.gc,x,S),P+=y);o.push(x),a.push(P),c=Math.max(x,c),u=Math.max(P,u)}Kj(s,n);const E=o.indexOf(c),A=a.indexOf(u),M=W=>({width:o[W]||0,height:a[W]||0});return{first:M(0),last:M(n-1),widest:M(E),highest:M(A),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return FN(this._alignToPixels?Ci(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=Yj(this.getContext(),t,r))}return this.$context||(this.$context=Gj(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Vi(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=yo(s),h=[],p=a.setContext(this.getContext()),b=p.display?p.width:0,m=b/2,v=function(de){return Ci(r,de,b)};let y,x,P,S,E,A,M,W,V,q,I,J;if(o==="top")y=v(this.bottom),A=this.bottom-d,W=y-m,q=v(t.top)+m,J=t.bottom;else if(o==="bottom")y=v(this.top),q=t.top,J=v(t.bottom)-m,A=y+m,W=this.top+d;else if(o==="left")y=v(this.right),E=this.right-d,M=y-m,V=v(t.left)+m,I=t.right;else if(o==="right")y=v(this.left),V=t.left,I=v(t.right)-m,E=y+m,M=this.left+d;else if(n==="x"){if(o==="center")y=v((t.top+t.bottom)/2+.5);else if(lt(o)){const de=Object.keys(o)[0],oe=o[de];y=v(this.chart.scales[de].getPixelForValue(oe))}q=t.top,J=t.bottom,A=y+m,W=A+d}else if(n==="y"){if(o==="center")y=v((t.left+t.right)/2);else if(lt(o)){const de=Object.keys(o)[0],oe=o[de];y=v(this.chart.scales[de].getPixelForValue(oe))}E=y-m,M=E-d,V=t.left,I=t.right}const le=rt(i.ticks.maxTicksLimit,f),G=Math.max(1,Math.ceil(f/le));for(x=0;x<f;x+=G){const de=this.getContext(x),oe=s.setContext(de),fe=a.setContext(de),me=oe.lineWidth,ae=oe.color,ge=fe.dash||[],F=fe.dashOffset,he=oe.tickWidth,be=oe.tickColor,X=oe.tickBorderDash||[],Pe=oe.tickBorderDashOffset;P=qj(this,x,l),P!==void 0&&(S=Ci(r,P,me),c?E=M=V=I=S:A=W=q=J=S,h.push({tx1:E,ty1:A,tx2:M,ty2:W,x1:V,y1:q,x2:I,y2:J,width:me,color:ae,borderDash:ge,borderDashOffset:F,tickWidth:he,tickColor:be,tickBorderDash:X,tickBorderDashOffset:Pe}))}return this._ticksLength=f,this._borderValue=y,h}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,d=yo(r.grid),h=d+u,p=f?-u:h,b=-Vi(this.labelRotation),m=[];let v,y,x,P,S,E,A,M,W,V,q,I,J="middle";if(i==="top")E=this.bottom-p,A=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+p,A=this._getXAxisLabelAlignment();else if(i==="left"){const G=this._getYAxisLabelAlignment(d);A=G.textAlign,S=G.x}else if(i==="right"){const G=this._getYAxisLabelAlignment(d);A=G.textAlign,S=G.x}else if(n==="x"){if(i==="center")E=(t.top+t.bottom)/2+h;else if(lt(i)){const G=Object.keys(i)[0],de=i[G];E=this.chart.scales[G].getPixelForValue(de)+h}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(t.left+t.right)/2-h;else if(lt(i)){const G=Object.keys(i)[0],de=i[G];S=this.chart.scales[G].getPixelForValue(de)}A=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const le=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){x=a[v],P=x.label;const G=s.setContext(this.getContext(v));M=this.getPixelForTick(v)+s.labelOffset,W=this._resolveTickFontOptions(v),V=W.lineHeight,q=zt(P)?P.length:1;const de=q/2,oe=G.color,fe=G.textStrokeColor,me=G.textStrokeWidth;let ae=A;o?(S=M,A==="inner"&&(v===y-1?ae=this.options.reverse?"left":"right":v===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?c==="near"||b!==0?I=-q*V+V/2:c==="center"?I=-le.highest.height/2-de*V+V:I=-le.highest.height+V/2:c==="near"||b!==0?I=V/2:c==="center"?I=le.highest.height/2-de*V:I=le.highest.height-q*V,f&&(I*=-1),b!==0&&!G.showLabelBackdrop&&(S+=V/2*Math.sin(b))):(E=M,I=(1-q)*V/2);let ge;if(G.showLabelBackdrop){const F=Fn(G.backdropPadding),he=le.heights[v],be=le.widths[v];let X=I-F.top,Pe=0-F.left;switch(J){case"middle":X-=he/2;break;case"bottom":X-=he;break}switch(A){case"center":Pe-=be/2;break;case"right":Pe-=be;break;case"inner":v===y-1?Pe-=be:v>0&&(Pe-=be/2);break}ge={left:Pe,top:X,width:be+F.width,height:he+F.height,color:G.backdropColor}}m.push({label:P,font:W,textOffset:I,options:{rotation:b,color:oe,strokeColor:fe,strokeWidth:me,textAlign:ae,textBaseline:J,translation:[S,E],backdrop:ge}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Vi(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,d;this.isHorizontal()?(c=Ci(t,this.left,o)-o/2,u=Ci(t,this.right,a)+a/2,f=d=l):(f=Ci(t,this.top,o)-o/2,d=Ci(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&ep(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ba(r,c,0,u,l,a)}i&&tp(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=rn(r.font),o=Fn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||lt(n)?(l+=o.bottom,zt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=Xj(this,l,n,a);ba(t,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:d,textAlign:Qj(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=rt(t.grid&&t.grid.z,-1),i=rt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==so.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return rn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class nl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;eF(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,Jj(t,o,r),this.override&&Nt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Nt[i]&&(delete Nt[i][r],this.override&&delete ls[r])}}function Jj(e,t,n){const r=ga(Object.create(null),[n?Nt.get(n):{},Nt.get(t),e.defaults]);Nt.set(t,r),e.defaultRoutes&&Zj(t,e.defaultRoutes),e.descriptors&&Nt.describe(t,e.descriptors)}function Zj(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Nt.route(s,i,l,a)})}function eF(e){return"id"in e&&"defaults"in e}class tF{constructor(){this.controllers=new nl(Qo,"datasets",!0),this.elements=new nl(gs,"elements"),this.plugins=new nl(Object,"plugins"),this.scales=new nl(so,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):ft(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Qh(t);Et(r["before"+i],[],r),n[t](r),Et(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var or=new tF;class nF{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Et(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=rt(r.options&&r.options.plugins,{}),s=rF(r);return i===!1&&!n?[]:sF(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function rF(e){const t={},n=[],r=Object.keys(or.plugins.items);for(let s=0;s<r.length;s++)n.push(or.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function iF(e,t){return!t&&e===!1?null:e===!0?{}:e}function sF(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=iF(r[l],i);c!==null&&s.push({plugin:a,options:oF(e.config,{plugin:a,local:n[l]},c,o)})}return s}function oF(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wd(e,t){const n=Nt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aF(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function lF(e,t){return e===t?"_index_":"_value_"}function ub(e){if(e==="x"||e==="y"||e==="r")return e}function cF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hd(e,...t){if(ub(e))return e;for(const n of t){const r=n.axis||cF(n.position)||e.length>1&&ub(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function fb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function uF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return fb(e,"x",n[0])||fb(e,"y",n[0])}return{}}function fF(e,t){const n=ls[e.type]||{scales:{}},r=t.scales||{},i=Wd(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!lt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hd(o,a,uF(o,e),Nt.scales[a.type]),c=lF(l,i),u=n.scales||{};s[o]=zo(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Wd(a,t),u=(ls[a]||{}).scales||{};Object.keys(u).forEach(f=>{const d=aF(f,l),h=o[d+"AxisID"]||d;s[h]=s[h]||Object.create(null),zo(s[h],[{axis:d},r[h],u[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];zo(a,[Nt.scales[a.type],Nt.scale])}),s}function sx(e){const t=e.options||(e.options={});t.plugins=rt(t.plugins,{}),t.scales=fF(e,t)}function ox(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function dF(e){return e=e||{},e.data=ox(e.data),sx(e),e}const db=new Map,ax=new Set;function rl(e,t){let n=db.get(e);return n||(n=t(),db.set(e,n),ax.add(n)),n}const vo=(e,t,n)=>{const r=oc(t,n);r!==void 0&&e.add(r)};class hF{constructor(t){this._config=dF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ox(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return rl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return rl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return rl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(f=>vo(l,t,f))),u.forEach(f=>vo(l,i,f)),u.forEach(f=>vo(l,ls[s]||{},f)),u.forEach(f=>vo(l,Nt,f)),u.forEach(f=>vo(l,Ud,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),ax.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,ls[n]||{},Nt.datasets[n]||{},{type:n},Nt,Ud]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=hb(this._resolverCache,t,i);let l=o;if(gF(o,n)){s.$shared=!1,r=gi(r)?r():r;const c=this.createResolver(t,r,a);l=Ks(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=hb(this._resolverCache,t,r);return lt(n)?Ks(s,n,void 0,i):s}}function hb(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:np(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const pF=e=>lt(e)&&Object.getOwnPropertyNames(e).some(t=>gi(e[t]));function gF(e,t){const{isScriptable:n,isIndexable:r}=H1(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(gi(a)||pF(a))||o&&zt(a))return!0}return!1}var mF="4.5.0";const _F=["top","bottom","left","right","chartArea"];function pb(e,t){return e==="top"||e==="bottom"||_F.indexOf(e)===-1&&t==="x"}function gb(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function mb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Et(n&&n.onComplete,[e],t)}function bF(e){const t=e.chart,n=t.options.animation;Et(n&&n.onProgress,[e],t)}function lx(e){return sp()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Nl={},_b=e=>{const t=lx(e);return Object.values(Nl).filter(n=>n.canvas===t).pop()};function yF(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function vF(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var zr;let Nc=(zr=class{static register(...t){or.add(...t),bb()}static unregister(...t){or.remove(...t),bb()}constructor(t,n){const r=this.config=new hF(n),i=lx(t),s=_b(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||jj(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=EN(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HN(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Nl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}kr.listen(this,"complete",mb),kr.listen(this,"progress",bF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return vt(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return U_(this.canvas,this.ctx),this}stop(){return kr.stop(this),this}resize(t,n){kr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,W_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Et(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ft(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Hd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ft(s,o=>{const a=o.options,l=a.id,c=Hd(l,a),u=rt(a.type,o.dtype);(a.position===void 0||pb(a.position,c)!==pb(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const d=or.getScale(u);f=new d({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),ft(i,(o,a)=>{o||delete r[a]}),ft(r,o=>{Dn.configure(this,o,o.options),Dn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(gb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Wd(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=or.getController(a),{datasetElementType:c,dataElementType:u}=Nt.datasets[a];Object.assign(l,{dataElementType:or.getElement(u),datasetElementType:c&&or.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){ft(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),d=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ft(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(gb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ft(this.scales,t=>{Dn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!O_(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;yF(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!O_(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ft(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,gi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kr.has(this)?this.attached&&!kr.running(this)&&kr.start(this):(this.draw(),mb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=XB(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&ep(n,i),t.controller.draw(),i&&tp(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return _a(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=_j.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ps(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);ac(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),kr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),U_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ft(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ft(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ft(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ic(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=IN(t),c=vF(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Et(s.onHover,[t,a,this],this),l&&Et(s.onClick,[t,a,this],this));const u=!ic(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},Re(zr,"defaults",Nt),Re(zr,"instances",Nl),Re(zr,"overrides",ls),Re(zr,"registry",or),Re(zr,"version",mF),Re(zr,"getChart",_b),zr);function bb(){return ft(Nc.instances,e=>e._plugins.invalidate())}function cx(e,t,n=t){e.lineCap=rt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(rt(n.borderDash,t.borderDash)),e.lineDashOffset=rt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=rt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=rt(n.borderWidth,t.borderWidth),e.strokeStyle=rt(n.borderColor,t.borderColor)}function wF(e,t,n){e.lineTo(n.x,n.y)}function xF(e){return e.stepped?iB:e.tension||e.cubicInterpolationMode==="monotone"?sB:wF}function ux(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function EF(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=ux(i,n,r),u=xF(s);let{move:f=!0,reverse:d}=r||{},h,p,b;for(h=0;h<=c;++h)p=i[(a+(d?c-h:h))%o],!p.skip&&(f?(e.moveTo(p.x,p.y),f=!1):u(e,b,p,d,s.stepped),b=p);return l&&(p=i[(a+(d?c:0))%o],u(e,b,p,d,s.stepped)),!!l}function SF(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=ux(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,d,h,p,b,m,v;const y=P=>(o+(c?a-P:P))%s,x=()=>{b!==m&&(e.lineTo(u,m),e.lineTo(u,b),e.lineTo(u,v))};for(l&&(h=i[y(0)],e.moveTo(h.x,h.y)),d=0;d<=a;++d){if(h=i[y(d)],h.skip)continue;const P=h.x,S=h.y,E=P|0;E===p?(S<b?b=S:S>m&&(m=S),u=(f*u+P)/++f):(x(),e.lineTo(P,S),p=E,f=0,b=m=S),v=S}x()}function zd(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?SF:EF}function kF(e){return e.stepped?jB:e.tension||e.cubicInterpolationMode==="monotone"?FB:Li}function AF(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),cx(e,t.options),e.stroke(i)}function TF(e,t,n,r){const{segments:i,options:s}=t,o=zd(t);for(const a of i)cx(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const CF=typeof Path2D=="function";function IF(e,t,n,r){CF&&!t.options.segment?AF(e,t,n,r):TF(e,t,n,r)}class Mo extends gs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;OB(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KB(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=HB(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=kF(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:d}=o[c],h=s[f],p=s[d];if(h===p){a.push(h);continue}const b=Math.abs((i-h[n])/(p[n]-h[n])),m=l(h,p,b,r.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,r){return zd(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=zd(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),IF(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Re(Mo,"id","line"),Re(Mo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Re(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Re(Mo,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function yb(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Bl extends gs{constructor(n){super();Re(this,"parsed");Re(this,"skip");Re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return yb(this,n,"x",r)}inYRange(n,r){return yb(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!_a(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,$d(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Re(Bl,"id","point"),Re(Bl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Re(Bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const vb=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},OF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wb extends gs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Et(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=rn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=vb(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=t;s.textAlign="left",s.textBaseline="middle";let d=-1,h=-u;return this.legendItems.forEach((p,b)=>{const m=r+n/2+s.measureText(p.text).width;(b===0||c[c.length-1]+m+2*a>o)&&(f+=u,c[c.length-(b>0?0:1)]=0,h+=u,d++),l[b]={left:0,top:h,row:d,width:m,height:i},c[c.length-1]+=m+a}),f}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let f=a,d=0,h=0,p=0,b=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:y,itemHeight:x}=PF(r,n,s,m,i);v>0&&h+x+2*a>u&&(f+=d+a,c.push({width:d,height:h}),p+=d+a,b++,d=h=0),l[v]={left:p,top:h,col:b,width:y,height:x},d=Math.max(d,y),h+=x+a}),f+=d,c.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ls(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Zt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Zt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Zt(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Zt(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ep(t,this),this._draw(),tp(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Nt.color,l=Ls(t.rtl,this.left,this.width),c=rn(o.font),{padding:u}=o,f=c.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:b,itemHeight:m}=vb(o,f),v=function(E,A,M){if(isNaN(p)||p<=0||isNaN(b)||b<0)return;i.save();const W=rt(M.lineWidth,1);if(i.fillStyle=rt(M.fillStyle,a),i.lineCap=rt(M.lineCap,"butt"),i.lineDashOffset=rt(M.lineDashOffset,0),i.lineJoin=rt(M.lineJoin,"miter"),i.lineWidth=W,i.strokeStyle=rt(M.strokeStyle,a),i.setLineDash(rt(M.lineDash,[])),o.usePointStyle){const V={radius:b*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:W},q=l.xPlus(E,p/2),I=A+d;V1(i,V,q,I,o.pointStyleWidth&&p)}else{const V=A+Math.max((f-b)/2,0),q=l.leftForLtr(E,p),I=Yo(M.borderRadius);i.beginPath(),Object.values(I).some(J=>J!==0)?Vd(i,{x:q,y:V,w:p,h:b,radius:I}):i.rect(q,V,p,b),i.fill(),W!==0&&i.stroke()}i.restore()},y=function(E,A,M){ba(i,M.text,E,A+m/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},x=this.isHorizontal(),P=this._computeTitleHeight();x?h={x:Zt(s,this.left+u,this.right-r[0]),y:this.top+u+P,line:0}:h={x:this.left+u,y:Zt(s,this.top+P+u,this.bottom-n[0].height),line:0},Y1(this.ctx,t.textDirection);const S=m+u;this.legendItems.forEach((E,A)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const M=i.measureText(E.text).width,W=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),V=p+d+M;let q=h.x,I=h.y;l.setWidth(this.width),x?A>0&&q+V+u>this.right&&(I=h.y+=S,h.line++,q=h.x=Zt(s,this.left+u,this.right-r[h.line])):A>0&&I+S>this.bottom&&(q=h.x=q+n[h.line].width+u,h.line++,I=h.y=Zt(s,this.top+P+u,this.bottom-n[h.line].height));const J=l.x(q);if(v(J,I,E),q=zN(W,q+p+d,x?q+V:this.right,t.rtl),y(l.x(q),I,E),x)h.x+=V+u;else if(typeof E.text!="string"){const le=c.lineHeight;h.y+=fx(E,le)+u}else h.y+=S}),Q1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=rn(n.font),i=Fn(n.padding);if(!n.display)return;const s=Ls(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,f=Zt(t.align,f,this.right-d);else{const p=this.columnSizes.reduce((b,m)=>Math.max(b,m.height),0);u=c+Zt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=Zt(a,f,f+d);o.textAlign=s.textAlign(Jh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ba(o,n.text,h,u,r)}_computeTitleHeight(){const t=this.options.title,n=rn(t.font),r=Fn(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Po(t,this.left,this.right)&&Po(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Po(t,i.left,i.left+i.width)&&Po(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!DF(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=OF(i,r);i&&!s&&Et(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Et(n.onHover,[t,r,this],this)}else r&&Et(n.onClick,[t,r,this],this)}}function PF(e,t,n,r,i){const s=RF(r,e,t,n),o=MF(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function RF(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function MF(e,t,n){let r=e;return typeof t.text!="string"&&(r=fx(t,n)),r}function fx(e,t){const n=e.text?e.text.length:0;return t*n}function DF(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var LF={id:"legend",_element:wb,start(e,t,n){const r=e.legend=new wb({ctx:e.ctx,options:n,chart:e});Dn.configure(e,r,n),Dn.addBox(e,r)},stop(e){Dn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Dn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Fn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class dx extends gs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=zt(r.text)?r.text.length:1;this._padding=Fn(r.padding);const s=i*rn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=Zt(a,r,s),f=n+t,c=s-r):(o.position==="left"?(u=r+t,f=Zt(a,i,n),l=qt*-.5):(u=s-t,f=Zt(a,n,i),l=qt*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=rn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ba(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Jh(n.align),textBaseline:"middle",translation:[o,a]})}}function NF(e,t){const n=new dx({ctx:e.ctx,options:t,chart:e});Dn.configure(e,n,t),Dn.addBox(e,n),e.titleBlock=n}var BF={id:"title",_element:dx,start(e,t,n){NF(e,n)},stop(e){const t=e.titleBlock;Dn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Dn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Do={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Fd(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ir(e,t){return t&&(zt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ar(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function jF(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function xb(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=rn(t.bodyFont),c=rn(t.titleFont),u=rn(t.footerFont),f=s.length,d=i.length,h=r.length,p=Fn(t.padding);let b=p.height,m=0,v=r.reduce((P,S)=>P+S.before.length+S.lines.length+S.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,f&&(b+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),v){const P=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=h*P+(v-h)*l.lineHeight+(v-1)*t.bodySpacing}d&&(b+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const x=function(P){m=Math.max(m,n.measureText(P).width+y)};return n.save(),n.font=c.string,ft(e.title,x),n.font=l.string,ft(e.beforeBody.concat(e.afterBody),x),y=t.displayColors?o+2+t.boxPadding:0,ft(r,P=>{ft(P.before,x),ft(P.lines,x),ft(P.after,x)}),y=0,n.font=u.string,ft(e.footer,x),n.restore(),m+=p.width,{width:m,height:b}}function FF(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function UF(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function $F(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),UF(c,e,t,n)&&(c="center"),c}function Eb(e,t,n){const r=n.yAlign||t.yAlign||FF(e,n);return{xAlign:n.xAlign||t.xAlign||$F(e,t,n,r),yAlign:r}}function VF(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function WF(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function Sb(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:h}=Yo(o);let p=VF(t,a);const b=WF(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+i:a==="right"&&(p+=Math.max(f,h)+i),{x:Mn(p,0,r.width-t.width),y:Mn(b,0,r.height-t.height)}}function il(e,t,n){const r=Fn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function kb(e){return ir([],Ar(e))}function HF(e,t,n){return ps(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ab(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const hx={beforeTitle:xr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:xr,beforeBody:xr,beforeLabel:xr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return vt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:xr,afterBody:xr,beforeFooter:xr,footer:xr,afterFooter:xr};function _n(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?hx[t].call(n,r):i}class qd extends gs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new J1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=HF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=_n(r,"beforeTitle",this,t),s=_n(r,"title",this,t),o=_n(r,"afterTitle",this,t);let a=[];return a=ir(a,Ar(i)),a=ir(a,Ar(s)),a=ir(a,Ar(o)),a}getBeforeBody(t,n){return kb(_n(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return ft(t,s=>{const o={before:[],lines:[],after:[]},a=Ab(r,s);ir(o.before,Ar(_n(a,"beforeLabel",this,s))),ir(o.lines,_n(a,"label",this,s)),ir(o.after,Ar(_n(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return kb(_n(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=_n(r,"beforeFooter",this,t),s=_n(r,"footer",this,t),o=_n(r,"afterFooter",this,t);let a=[];return a=ir(a,Ar(i)),a=ir(a,Ar(s)),a=ir(a,Ar(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(jF(this.chart,n[l]));return t.filter&&(a=a.filter((u,f,d)=>t.filter(u,f,d,r))),t.itemSort&&(a=a.sort((u,f)=>t.itemSort(u,f,r))),ft(a,u=>{const f=Ab(t.callbacks,u);i.push(_n(f,"labelColor",this,u)),s.push(_n(f,"labelPointStyle",this,u)),o.push(_n(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Do[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=xb(this,r),c=Object.assign({},a,l),u=Eb(this.chart,r,c),f=Sb(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Yo(a),{x:d,y:h}=t,{width:p,height:b}=n;let m,v,y,x,P,S;return s==="center"?(P=h+b/2,i==="left"?(m=d,v=m-o,x=P+o,S=P-o):(m=d+p,v=m+o,x=P-o,S=P+o),y=m):(i==="left"?v=d+Math.max(l,u)+o:i==="right"?v=d+p-Math.max(c,f)-o:v=this.caretX,s==="top"?(x=h,P=x-o,m=v-o,y=v+o):(x=h+b,P=x+o,m=v+o,y=v-o),S=x),{x1:m,x2:v,x3:y,y1:x,y2:P,y3:S}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Ls(r.rtl,this.x,this.width);for(t.x=il(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=rn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=rn(s.bodyFont),f=il(this,"left",s),d=i.x(f),h=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+h;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(d,c)+c/2,v=p+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,$d(t,b,m,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,$d(t,b,m,v)}else{t.lineWidth=lt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(d,c),m=i.leftForLtr(i.xPlus(d,1),c-2),v=Yo(o.borderRadius);Object.values(v).some(y=>y!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Vd(t,{x:b,y:p,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Vd(t,{x:m,y:p+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(b,p,c,l),t.strokeRect(b,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=rn(r.bodyFont);let d=f.lineHeight,h=0;const p=Ls(r.rtl,this.x,this.width),b=function(M){n.fillText(M,p.x(t.x+h),t.y+d/2),t.y+=d+s},m=p.textAlign(o);let v,y,x,P,S,E,A;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=il(this,m,r),n.fillStyle=r.bodyColor,ft(this.beforeBody,b),h=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,P=0,E=i.length;P<E;++P){for(v=i[P],y=this.labelTextColors[P],n.fillStyle=y,ft(v.before,b),x=v.lines,a&&x.length&&(this._drawColorBox(n,t,P,p,r),d=Math.max(f.lineHeight,l)),S=0,A=x.length;S<A;++S)b(x[S]),d=f.lineHeight;ft(v.after,b)}h=0,d=f.lineHeight,ft(this.afterBody,b),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Ls(r.rtl,this.x,this.width);for(t.x=il(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=rn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=r,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=Yo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Do[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=xb(this,t),l=Object.assign({},o,this._size),c=Eb(n,t,l),u=Sb(t,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Fn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),Y1(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Q1(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!ic(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!ic(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=Do[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}Re(qd,"positioners",Do);var zF={id:"tooltip",_element:qd,positioners:Do,afterInit(e,t,n){n&&(e.tooltip=new qd({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qF=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function KF(e,t,n,r){const i=e.indexOf(t);if(i===-1)return qF(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const GF=(e,t)=>e===null?null:Mn(Math.round(e),0,t);function Tb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Kd extends so{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(vt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:KF(r,t,rt(n,t),this._addedLabels),GF(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return Tb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Re(Kd,"id","category"),Re(Kd,"defaults",{ticks:{callback:Tb}});function YF(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=e,h=s||1,p=u-1,{min:b,max:m}=t,v=!vt(o),y=!vt(a),x=!vt(c),P=(m-b)/(f+1);let S=R_((m-b)/p/h)*h,E,A,M,W;if(S<1e-14&&!v&&!y)return[{value:b},{value:m}];W=Math.ceil(m/S)-Math.floor(b/S),W>p&&(S=R_(W*S/p/h)*h),vt(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(A=Math.floor(b/S)*S,M=Math.ceil(m/S)*S):(A=b,M=m),v&&y&&s&&DN((a-o)/s,S/1e3)?(W=Math.round(Math.min((a-o)/S,u)),S=(a-o)/W,A=o,M=a):x?(A=v?o:A,M=y?a:M,W=c-1,S=(M-A)/W):(W=(M-A)/S,qo(W,Math.round(W),S/1e3)?W=Math.round(W):W=Math.ceil(W));const V=Math.max(M_(S),M_(A));E=Math.pow(10,vt(l)?V:l),A=Math.round(A*E)/E,M=Math.round(M*E)/E;let q=0;for(v&&(d&&A!==o?(n.push({value:o}),A<o&&q++,qo(Math.round((A+q*S)*E)/E,o,Cb(o,P,e))&&q++):A<o&&q++);q<W;++q){const I=Math.round((A+q*S)*E)/E;if(y&&I>a)break;n.push({value:I})}return y&&d&&M!==a?n.length&&qo(n[n.length-1].value,a,Cb(a,P,e))?n[n.length-1].value=a:n.push({value:a}):(!y||M===a)&&n.push({value:M}),n}function Cb(e,t,{horizontal:n,minRotation:r}){const i=Vi(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class QF extends so{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return vt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=qs(i),c=qs(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=YF(i,s);return t.bounds==="ticks"&&LN(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return U1(t,this.chart.options.locale,this.options.ticks.format)}}class Gd extends QF{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=jn(t)?t:0,this.max=jn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Vi(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Re(Gd,"id","linear"),Re(Gd,"defaults",{ticks:{callback:$1.formatters.numeric}});const Bc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bn=Object.keys(Bc);function Ib(e,t){return e-t}function Ob(e,t){if(vt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),jn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ma(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Pb(e,t,n,r){const i=bn.length;for(let s=bn.indexOf(e);s<i-1;++s){const o=Bc[bn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return bn[s]}return bn[i-1]}function XF(e,t,n,r,i){for(let s=bn.length-1;s>=bn.indexOf(n);s--){const o=bn[s];if(Bc[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return bn[n?bn.indexOf(n):0]}function JF(e){for(let t=bn.indexOf(e)+1,n=bn.length;t<n;++t)if(Bc[bn[t]].common)return bn[t]}function Rb(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Xh(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function ZF(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Mb(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:ZF(e,r,i,n)}class fc extends so{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new dj._date(t.adapters.date);i.init(n),zo(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Ob(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=jn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=jn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=$N(i,s,o);return this._unit=n.unit||(r.autoSkip?Pb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):XF(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:JF(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Mb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Mn(n,0,o),r=Mn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Pb(s.minUnit,n,r,this._getLabelCapacity(n)),a=rt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ma(l)||l===!0,u={};let f=n,d,h;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,h=0;d<r;d=+t.add(d,a,o),h++)Rb(u,d,p);return(d===r||i.bounds==="ticks"||h===1)&&Rb(u,d,p),Object.keys(u).sort(Ib).map(b=>+b)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Et(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],d=r[n],h=c&&f&&d&&d.major;return this._adapter.format(t,i||(h?f:u))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Vi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Mb(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Ob(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WN(t.sort(Ib))}}Re(fc,"id","time"),Re(fc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sl(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Wi(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Wi(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class Db extends fc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=sl(n,this.min),this._tableRange=sl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(sl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return sl(this._table,r*this._tableRange+this._minPos,!0)}}Re(Db,"id","timeseries"),Re(Db,"defaults",fc.defaults);const px={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},e3={ariaLabel:{type:String},ariaDescribedby:{type:String}},t3={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...px,...e3},n3=qu[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function Ss(e){return ts(e)?He(e):e}function r3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return ts(t)?new Proxy(e,{}):e}function i3(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function gx(e,t){e.labels=t}function mx(e,t,n){const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function s3(e,t){const n={labels:[],datasets:[]};return gx(n,e.labels),mx(n,e.datasets,t),n}const o3=We({props:t3,setup(e,t){let{expose:n,slots:r}=t;const i=Me(null),s=Ea(null);n({chart:s});const o=()=>{if(!i.value)return;const{type:c,data:u,options:f,plugins:d,datasetIdKey:h}=e,p=s3(u,h),b=r3(p,u);s.value=new Nc(i.value,{type:c,data:b,options:{...f},plugins:d})},a=()=>{const c=He(s.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),s.value=null},e.destroyDelay):(c.destroy(),s.value=null))},l=c=>{c.update(e.updateMode)};return Rt(o),mi(a),_t([()=>e.options,()=>e.data],(c,u)=>{let[f,d]=c,[h,p]=u;const b=He(s.value);if(!b)return;let m=!1;if(f){const v=Ss(f),y=Ss(h);v&&v!==y&&(i3(b,v),m=!0)}if(d){const v=Ss(d.labels),y=Ss(p.labels),x=Ss(d.datasets),P=Ss(p.datasets);v!==y&&(gx(b.config.data,v),m=!0),x&&x!==P&&(mx(b.config.data,x,e.datasetIdKey),m=!0)}m&&ns(()=>{l(b)})},{deep:!0}),()=>Ft("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:i},[Ft("p",{},[r.default?r.default():""])])}});function a3(e,t){return Nc.register(t),We({props:px,setup(n,r){let{expose:i}=r;const s=Ea(null),o=a=>{s.value=a==null?void 0:a.chart};return i({chart:s}),()=>Ft(o3,n3({ref:o},{type:e,...n}))}})}const l3=a3("line",Dl),c3=We({__name:"EarningsChart",props:{data:{type:Array,required:!0}},setup(e,{expose:t}){t(),Nc.register(BF,zF,LF,Mo,Bl,Gd,Kd);const n=e,r=Ye(()=>({labels:n.data.map(a=>a.date),datasets:[{label:"Ganancias",data:n.data.map(a=>a.earnings),fill:!0,backgroundColor:"rgba(191, 219, 254, 0.3)",borderColor:"#38bdf8",borderWidth:1.5,tension:.4,pointRadius:1,pointHoverRadius:4}]})),o={props:n,chartData:r,chartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{font:{size:9},color:"#94a3b8"},grid:{display:!1}},y:{ticks:{font:{size:9},color:"#94a3b8"},grid:{color:"#fcd34d20"}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:a=>`S/ ${a.raw.toFixed(2)}`}}}},LineChart:l3,get Icon(){return sn}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),u3={class:"bg-white rounded-xl shadow p-4"},f3={class:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2"},d3={class:"relative h-[140px]"};function h3(e,t,n,r,i,s){return ue(),_e("div",u3,[R("div",f3,[ye(r.Icon,{icon:"mdi:chart-timeline-variant-shimmer",class:"text-yellow-600 text-base"}),t[0]||(t[0]=Qe(" Historial 30 días "))]),R("div",d3,[ye(r.LineChart,{data:r.chartData,options:r.chartOptions},null,8,["data"])])])}const p3=Ke(c3,[["render",h3],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/earnings/components/EarningsChart.vue"]]),Lb={getSummary:async()=>{const e=await et.get("/driver/earnings/summary");if(!e.success)throw new Error(e.message||"Error fetching summary");return e.data},getRecords:async()=>{const e=await et.get("/driver/earnings/records");if(!e.success)throw new Error(e.message||"Error fetching records");return e.data}},g3=Tn("earnings",{state:()=>({summary:null,records:[],loading:!1,error:null}),getters:{hasError:e=>!!e.error,isEmpty:e=>!e.summary&&e.records.length===0},actions:{async fetchSummary(){this.loading=!0,this.error=null;try{this.summary=await Lb.getSummary()}catch(e){this.error=e.message||"Error al cargar resumen"}finally{this.loading=!1}},async fetchRecords(){this.loading=!0,this.error=null;try{this.records=await Lb.getRecords()}catch(e){this.error=e.message||"Error al cargar historial"}finally{this.loading=!1}},clearError(){this.error=null}}}),m3=We({__name:"EarningsPage",setup(e,{expose:t}){t();const n=g3(),r=zh();Rt(()=>{n.fetchSummary(),n.fetchRecords()});const i={store:n,dashboardStore:r,Layout:Oa,EarningsCard:eN,EarningsChart:p3,DriverMobileNav:I1};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),_3={class:"min-h-screen px-4 py-6 space-y-6 bg-gradient-to-br from-slate-50 via-white to-yellow-50/20"},b3={key:0,class:"text-center text-sm text-gray-500"},y3={key:1,class:"text-center text-sm text-red-600"},v3={key:2,class:"space-y-4 max-w-2xl mx-auto"};function w3(e,t,n,r,i,s){return ue(),Ze(r.Layout,null,{default:tt(()=>[R("div",_3,[t[0]||(t[0]=R("div",{class:"text-center mb-2"},[R("h1",{class:"text-2xl font-extrabold text-yellow-800 tracking-tight"},"Mis Ganancias"),R("p",{class:"text-sm text-yellow-700"},"Revisa tu rendimiento como conductor")],-1)),r.store.loading&&!r.store.summary?(ue(),_e("div",b3," ⏳ Cargando ganancias... ")):r.store.error?(ue(),_e("div",y3,ve(r.store.error),1)):(ue(),_e("div",v3,[r.store.summary?(ue(),Ze(r.EarningsCard,{key:0,summary:r.store.summary},null,8,["summary"])):$e("",!0),r.store.records.length?(ue(),Ze(r.EarningsChart,{key:1,data:r.store.records},null,8,["data"])):$e("",!0)]))]),ye(r.DriverMobileNav,{hasActiveTrip:r.dashboardStore.hasActiveTrip},null,8,["hasActiveTrip"])]),_:1})}const x3=Ke(m3,[["render",w3],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/drivers/earnings/pages/EarningsPage.vue"]]),wo={async getProfile(){const e=await et.get("/passenger/profile");if(!e.success||!e.data)throw new Error(e.message||"No se pudo obtener el perfil");return e.data},async updateProfile(e){const t=await et.post("/passenger/profile/update",e);if(!t.success||!t.data)throw new Error(t.message||"No se pudo actualizar el perfil");return t.data},async getSavedLocations(){const e=await et.get("/passenger/saved-locations");if(!e.success||!e.data)throw new Error(e.message||"No se pudieron obtener las ubicaciones guardadas");return e.data},async addSavedLocation(e){const t=await et.post("/passenger/saved-locations",e);if(!t.success||!t.data)throw new Error(t.message||"No se pudo guardar la ubicación");return t.data},async deleteSavedLocation(e){const t=await et.delete("/passenger/saved-locations/"+e);if(!t.success)throw new Error(t.message||"No se pudo eliminar la ubicación")}},_x=Tn("passengerProfile",{state:()=>({profile:null,savedLocations:[],loading:!1,error:null}),getters:{hasError:e=>!!e.error,isProfileLoaded:e=>!!e.profile,hasSavedLocations:e=>e.savedLocations.length>0},actions:{clearError(){this.error=null},async fetchProfile(){this.loading=!0,this.clearError();try{this.profile=await wo.getProfile()}catch(e){this.error=e.message||"Error al obtener el perfil"}finally{this.loading=!1}},async updateProfile(e){this.loading=!0,this.clearError();try{this.profile=await wo.updateProfile(e)}catch(t){this.error=t.message||"Error al actualizar el perfil"}finally{this.loading=!1}},async fetchSavedLocations(){this.loading=!0,this.clearError();try{this.savedLocations=await wo.getSavedLocations()}catch(e){this.error=e.message||"Error al cargar ubicaciones"}finally{this.loading=!1}},async addSavedLocation(e){this.loading=!0,this.clearError();try{const t=await wo.addSavedLocation(e);this.savedLocations.push(t)}catch(t){this.error=t.message||"Error al guardar ubicación"}finally{this.loading=!1}},async deleteSavedLocation(e){this.loading=!0,this.clearError();try{await wo.deleteSavedLocation(e),this.savedLocations=this.savedLocations.filter(t=>t.id!==e)}catch(t){this.error=t.message||"Error al eliminar ubicación"}finally{this.loading=!1}}}}),E3=We({__name:"ProfileForm",setup(e,{expose:t}){t();const n=_x(),r=fn({first_name:"",last_name:"",email:"",phone:"",emergency_contact_name:"",emergency_contact_phone:""}),i=Me(!1);Rt(()=>{n.fetchProfile()}),_t(()=>n.profile,a=>{a&&(r.first_name=a.first_name||"",r.last_name=a.last_name||"",r.email=a.email||"",r.phone=a.phone||"",r.emergency_contact_name=a.emergency_contact_name||"",r.emergency_contact_phone=a.emergency_contact_phone||"")},{immediate:!0});async function s(){n.clearError(),await n.updateProfile({...r})}const o={store:n,form:r,showEmergency:i,handleSubmit:s,get Icon(){return sn},Card:Pa,Button:hs};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),S3={key:0,class:"flex items-center space-x-2 p-3 bg-red-100 text-red-700 rounded-lg"},k3={class:"block relative"},A3={class:"block relative"},T3={class:"block relative"},C3={class:"block relative"},I3={key:0,class:"space-y-4 pt-2"},O3={class:"block relative"},P3={class:"block relative"};function R3(e,t,n,r,i,s){return ue(),Ze(r.Card,{class:"mx-auto w-full max-w-md bg-gradient-to-br from-white/90 to-blue-50/60 backdrop-blur-2xl border border-blue-100/50 rounded-3xl shadow-mid p-6 space-y-6"},{default:tt(()=>[t[8]||(t[8]=R("h2",{class:"text-2xl font-semibold text-gray-900 text-center"},"Perfil de pasajero",-1)),r.store.error?(ue(),_e("div",S3,[ye(r.Icon,{icon:"mdi:alert-circle-outline",class:"w-5 h-5"}),R("span",null,ve(r.store.error),1)])):$e("",!0),R("form",{onSubmit:Fs(r.handleSubmit,["prevent"]),class:"space-y-4"},[R("label",k3,[ye(r.Icon,{icon:"mdi:account",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.form.first_name=o),placeholder:"Nombre",class:"input-field"},null,512),[[Ct,r.form.first_name]])]),R("label",A3,[ye(r.Icon,{icon:"mdi:account-outline",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.form.last_name=o),placeholder:"Apellido",class:"input-field"},null,512),[[Ct,r.form.last_name]])]),R("label",T3,[ye(r.Icon,{icon:"mdi:email-outline",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.form.email=o),type:"email",placeholder:"Correo electrónico",class:"input-field"},null,512),[[Ct,r.form.email]])]),R("label",C3,[ye(r.Icon,{icon:"mdi:phone-outline",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.form.phone=o),placeholder:"Teléfono",class:"input-field"},null,512),[[Ct,r.form.phone]])]),R("button",{type:"button",onClick:t[4]||(t[4]=o=>r.showEmergency=!r.showEmergency),class:"flex items-center justify-between w-full text-sm font-medium text-gray-700 hover:text-gray-900"},[R("span",null,ve(r.showEmergency?"Ocultar contacto de emergencia":"Mostrar contacto de emergencia"),1),ye(r.Icon,{icon:"mdi:chevron-down",class:Xe(["w-5 h-5 transition-transform",{"rotate-180":r.showEmergency}])},null,8,["class"])]),r.showEmergency?(ue(),_e("div",I3,[R("label",O3,[ye(r.Icon,{icon:"mdi:account-heart-outline",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.form.emergency_contact_name=o),placeholder:"Nombre contacto",class:"input-field"},null,512),[[Ct,r.form.emergency_contact_name]])]),R("label",P3,[ye(r.Icon,{icon:"mdi:phone-plus-outline",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.form.emergency_contact_phone=o),placeholder:"Teléfono contacto",class:"input-field"},null,512),[[Ct,r.form.emergency_contact_phone]])])])):$e("",!0),ye(r.Button,{type:"submit",loading:r.store.loading,class:"w-full flex items-center justify-center bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 transition-all duration-200"},{default:tt(()=>[ye(r.Icon,{icon:r.store.loading?"mdi:loading":"mdi:content-save-outline",class:Xe(["w-5 h-5 mr-2",{"animate-spin":r.store.loading}])},null,8,["icon","class"]),t[7]||(t[7]=Qe(" Guardar cambios "))]),_:1,__:[7]},8,["loading"])],32)]),_:1,__:[8]})}const M3=Ke(E3,[["render",R3],["__scopeId","data-v-75ee0537"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/profile/components/ProfileForm.vue"]]),D3=We({__name:"SavedLocations",setup(e,{expose:t}){t();const n=_x(),{savedLocations:r,loading:i,error:s,fetchSavedLocations:o,addSavedLocation:a,deleteSavedLocation:l,clearError:c}=n,u=Me(!1),f=fn({name:"",address:"",latitude:"",longitude:""});Rt(o);function d(){u.value=!u.value,s&&s.valueOf()&&c()}async function h(){!f.name||!f.address||!f.latitude||!f.longitude||(await a({name:f.name,address:f.address,latitude:parseFloat(f.latitude),longitude:parseFloat(f.longitude)}),Object.assign(f,{name:"",address:"",latitude:"",longitude:""}),u.value=!1)}const p={store:n,savedLocations:r,loading:i,error:s,fetchSavedLocations:o,addSavedLocation:a,deleteSavedLocation:l,clearError:c,showForm:u,form:f,toggleForm:d,handleSubmit:h,get Icon(){return sn},Card:Pa,Button:hs};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),L3={key:0,class:"flex items-center space-x-2 p-3 bg-red-100 text-red-700 rounded-lg"},N3={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},B3={class:"block relative"},j3={class:"block relative col-span-1 sm:col-span-2"},F3={class:"block relative"},U3={class:"block relative"},$3={class:"space-y-4"},V3={class:"flex-1 min-w-0 space-y-1"},W3={class:"flex items-center font-medium text-gray-900 truncate"},H3={class:"flex items-center text-sm text-gray-600 truncate"},z3={class:"flex items-center text-xs text-gray-500"},q3={key:1,class:"text-center text-gray-500 py-4"};function K3(e,t,n,r,i,s){return ue(),Ze(r.Card,{class:"mx-auto w-full max-w-lg bg-gradient-to-br from-white/90 to-blue-50/60 backdrop-blur-2xl border border-blue-100/50 rounded-3xl shadow-mid p-6 space-y-6"},{default:tt(()=>[t[5]||(t[5]=R("h2",{class:"text-2xl font-semibold text-gray-900 text-center"},"📍 Ubicaciones guardadas",-1)),R("button",{type:"button",onClick:r.toggleForm,class:"flex items-center justify-between w-full text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors"},[R("span",null,ve(r.showForm?"Cancelar":"Agregar nueva ubicación"),1),ye(r.Icon,{icon:(r.showForm,"mdi:chevron-down"),class:Xe(["w-5 h-5 transform transition-transform",{"rotate-180":r.showForm}])},null,8,["icon","class"])]),r.error?(ue(),_e("div",L3,[ye(r.Icon,{icon:"mdi:alert-circle-outline",class:"w-5 h-5"}),R("span",null,ve(r.error),1)])):$e("",!0),r.showForm?(ue(),_e("form",{key:1,onSubmit:Fs(r.handleSubmit,["prevent"]),class:"space-y-4"},[R("div",N3,[R("label",B3,[ye(r.Icon,{icon:"mdi:label-outline",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.form.name=o),name:"name",placeholder:"Nombre",class:"input-field"},null,512),[[Ct,r.form.name]])]),R("label",j3,[ye(r.Icon,{icon:"mdi:map-marker-outline",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.form.address=o),name:"address",placeholder:"Dirección",class:"input-field"},null,512),[[Ct,r.form.address]])]),R("label",F3,[ye(r.Icon,{icon:"mdi:latitude",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.form.latitude=o),name:"latitude",placeholder:"Latitud",class:"input-field"},null,512),[[Ct,r.form.latitude]])]),R("label",U3,[ye(r.Icon,{icon:"mdi:longitude",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),yt(R("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.form.longitude=o),name:"longitude",placeholder:"Longitud",class:"input-field"},null,512),[[Ct,r.form.longitude]])])]),ye(r.Button,{type:"submit",loading:r.loading,class:"btn-gradient"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:plus-box-outline",class:"w-5 h-5 mr-2"}),t[4]||(t[4]=Qe(" Agregar ubicación "))]),_:1,__:[4]},8,["loading"])],32)):$e("",!0),R("div",$3,[r.savedLocations.length>0?(ue(!0),_e(dt,{key:0},Bn(r.savedLocations,o=>(ue(),_e("div",{key:o.id,class:"flex items-center justify-between bg-white/80 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-4 transition-shadow hover:shadow-soft"},[R("div",V3,[R("p",W3,[ye(r.Icon,{icon:"mdi:map-marker",class:"w-5 h-5 text-blue-500 mr-2"}),Qe(" "+ve(o.name),1)]),R("p",H3,[ye(r.Icon,{icon:"mdi:map-marker-outline",class:"w-4 h-4 text-gray-400 mr-1"}),Qe(" "+ve(o.address),1)]),R("p",z3,[ye(r.Icon,{icon:"mdi:map-marker-distance",class:"w-4 h-4 mr-1"}),Qe(" "+ve(o.latitude)+", "+ve(o.longitude),1)])]),ye(r.Button,{variant:"ghost",class:"text-red-600 hover:text-red-800 p-2",onClick:()=>r.deleteSavedLocation(o.id),disabled:r.loading},{default:tt(()=>[ye(r.Icon,{icon:"mdi:trash-can-outline",class:"w-5 h-5"})]),_:2},1032,["onClick","disabled"])]))),128)):r.loading?$e("",!0):(ue(),_e("p",q3," No tienes ubicaciones guardadas "))])]),_:1,__:[5]})}const G3=Ke(D3,[["render",K3],["__scopeId","data-v-400d4f29"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/profile/components/SavedLocations.vue"]]),Y3=We({__name:"PassengerProfile",setup(e,{expose:t}){t();const{goBack:n}=to(),r=Me("profile"),i={goBack:n,activeTab:r,Layout:Oa,ProfileForm:M3,SavedLocations:G3};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),Q3={class:"flex gap-4 border-b pb-2"};function X3(e,t,n,r,i,s){return ue(),Ze(r.Layout,{"header-title":"Mi perfil","show-back":"",onBack:r.goBack,class:"max-w-3xl mx-auto p-6 space-y-8"},{default:tt(()=>[R("div",Q3,[R("button",{class:Xe(["px-4 py-2 font-semibold rounded-t-md",r.activeTab==="profile"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-blue-600"]),onClick:t[0]||(t[0]=o=>r.activeTab="profile")}," 👤 Perfil ",2),R("button",{class:Xe(["px-4 py-2 font-semibold rounded-t-md",r.activeTab==="locations"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-blue-600"]),onClick:t[1]||(t[1]=o=>r.activeTab="locations")}," 📍 Ubicaciones ",2)]),R("div",null,[r.activeTab==="profile"?(ue(),Ze(r.ProfileForm,{key:0})):(ue(),Ze(r.SavedLocations,{key:1}))])]),_:1},8,["onBack"])}const J3=Ke(Y3,[["render",X3],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/profile/pages/PassengerProfile.vue"]]),Z3={async fetchTrips({page:e=1,status:t}){let n=`?page=${e}`;t&&(n+=`&status=${encodeURIComponent(t)}`);const r=await et.get(`/passenger/trip-history${n}`);if(!r.success||!r.data)throw new Error(r.message||"No se pudo cargar historial");return r.data}},lp=Tn("tripHistory",{state:()=>({trips:[],loading:!1,error:null,statusFilter:""}),getters:{hasError:e=>!!e.error,isEmpty:e=>e.trips.length===0},actions:{async fetchTrips(e){this.loading=!0,this.error=null;try{const t=await Z3.fetchTrips({status:e??this.statusFilter});this.trips=t.trips??[]}catch(t){this.error=t.message||"No se pudo cargar historial"}this.loading=!1},setStatusFilter(e){this.statusFilter=e,this.fetchTrips()}}}),e5=We({__name:"FilterNavbar",setup(e,{expose:t}){t();const i={store:lp(),filters:[{label:"Todos",icon:"mdi:format-list-bulleted",value:""},{label:"Completados",icon:"mdi:check-circle-outline",value:"completed"},{label:"Por ti",icon:"mdi:cancel",value:"cancelled_by_passenger"},{label:"Por conductor",icon:"mdi:account-off-outline",value:"cancelled_by_driver"},{label:"Por sistema",icon:"mdi:server-off-outline",value:"cancelled_by_system"}],get Icon(){return sn}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),t5={class:"z-10 mb-4"},n5={class:"relative overflow-x-auto no-scrollbar scroll-smooth px-1 py-2"},r5={class:"flex space-x-3 min-w-max"},i5=["onClick"],s5={key:0,class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white/60 rounded-full animate-pulse"};function o5(e,t,n,r,i,s){return ue(),_e("div",t5,[R("div",n5,[R("div",r5,[(ue(),_e(dt,null,Bn(r.filters,o=>R("button",{key:o.value,onClick:a=>r.store.setStatusFilter(o.value),class:Xe(["relative flex items-center gap-1 rounded-full px-4 py-2 text-xs font-semibold transition-all duration-300 ease-out shadow-sm",r.store.statusFilter===o.value?"bg-gradient-to-r from-blue-600 to-cyan-500 text-white scale-105 shadow-lg":"bg-white/70 text-gray-700 hover:bg-white hover:shadow-md"])},[ye(r.Icon,{icon:o.icon,class:Xe(["w-4 h-4 transition-transform duration-300",r.store.statusFilter===o.value?"scale-110":"group-hover:scale-105"])},null,8,["icon","class"]),R("span",null,ve(o.label),1),r.store.statusFilter===o.value?(ue(),_e("span",s5)):$e("",!0)],10,i5)),64))])])])}const a5=Ke(e5,[["render",o5],["__scopeId","data-v-180c503c"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-history/components/FilterNavbar.vue"]]),l5=We({__name:"Badge",props:{variant:{type:String,required:!1,default:"default"},size:{type:String,required:!1,default:"sm"},className:{type:String,required:!1}},setup(e,{expose:t}){t();const n=e,r=Ye(()=>{const s={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-sky-100 text-sky-800"},o={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm"};return eo("inline-flex items-center font-medium rounded-full",s[n.variant],o[n.size],n.className)}),i={props:n,classes:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function c5(e,t,n,r,i,s){return ue(),_e("span",{class:Xe(r.classes)},[ai(e.$slots,"default")],2)}const u5=Ke(l5,[["render",c5],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/ui/Badge.vue"]]),f5=We({__name:"TripCard",props:{trip:{type:Object,required:!0},selected:{type:Boolean,required:!1}},emits:["select"],setup(e,{expose:t,emit:n}){t();const r=e,i=n,s=()=>i("select",r.trip),o={completed:{label:"Completado",icon:"mdi:check-circle",variant:"success"},cancelled_by_passenger:{label:"Cancelado por ti",icon:"mdi:account-cancel",variant:"warning"},cancelled_by_driver:{label:"Cancelado por conductor",icon:"mdi:account-cancel",variant:"danger"},cancelled_by_system:{label:"Cancelado por sistema",icon:"mdi:server-off",variant:"secondary"}},a=Ye(()=>o[r.trip.status]??{label:"Otro",icon:"mdi:alert-circle",variant:"secondary"}),l=Ye(()=>new Date(r.trip.trip_date).toLocaleDateString("es-PE",{day:"numeric",month:"short",year:"numeric"})),c={props:r,emit:i,handleClick:s,STATUS_MAP:o,status:a,formattedDate:l,get Icon(){return sn},Card:Pa,Badge:u5};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),d5={class:"flex items-start gap-3 mb-3"},h5={class:"flex flex-col items-center flex-shrink-0"},p5={class:"flex-1 min-w-0 space-y-0.5"},g5={class:"font-medium text-sm truncate"},m5={class:"text-xs text-gray-500 truncate"},_5={class:"flex items-center justify-between mb-3"},b5={class:"flex items-center gap-1"},y5={class:"flex items-center gap-1 text-xs text-gray-500"},v5={class:"flex items-center justify-between mb-3 text-xs"},w5={class:"flex items-center gap-1 text-gray-600"},x5={class:"font-semibold text-gray-900"},E5={key:0,class:"pt-3 border-t border-gray-100 flex items-center justify-between text-xs"},S5={class:"flex items-center gap-1 min-w-0"},k5={class:"font-medium truncate"},A5={class:"flex items-center gap-1 text-yellow-500"},T5={class:"text-gray-700"},C5={key:1,class:"mt-2 text-xs text-gray-400"};function I5(e,t,n,r,i,s){return ue(),Ze(r.Card,{hover:"",class:Xe(["relative overflow-hidden p-4 transition transform duration-200 ease-out",["cursor-pointer group",n.selected?"ring-2 ring-blue-500 scale-[1.01]":"hover:scale-[1.01]"]]),onClick:r.handleClick},{default:tt(()=>{var o;return[t[2]||(t[2]=R("div",{class:"absolute -top-4 -left-4 w-24 h-24 rounded-full bg-gradient-to-br from-blue-200/30 to-cyan-200/30 blur-2xl animate-float pointer-events-none"},null,-1)),t[3]||(t[3]=R("div",{class:"absolute -bottom-4 -right-4 w-28 h-28 rounded-full bg-gradient-to-br from-violet-200/20 to-purple-200/20 blur-3xl pointer-events-none"},null,-1)),R("div",d5,[R("div",h5,[ye(r.Icon,{icon:"mdi:map-marker",class:"w-5 h-5 text-blue-500"}),t[0]||(t[0]=R("div",{class:"w-px h-6 bg-gray-300 my-1"},null,-1)),ye(r.Icon,{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"})]),R("div",p5,[R("p",g5,ve(n.trip.pickup_address),1),R("p",m5,ve(n.trip.destination_address),1)])]),R("div",_5,[R("div",b5,[ye(r.Icon,{icon:r.status.icon,class:Xe(`w-4 h-4 text-${r.status.variant}-600`)},null,8,["icon","class"]),ye(r.Badge,{variant:r.status.variant,size:"sm"},{default:tt(()=>[Qe(ve(r.status.label),1)]),_:1},8,["variant"])]),R("div",y5,[ye(r.Icon,{icon:"mdi:clock-outline",class:"w-4 h-4"}),R("span",null,ve(r.formattedDate),1)])]),R("div",v5,[R("div",w5,[ye(r.Icon,{icon:"mdi:car-sports",class:"w-4 h-4"}),R("span",null,ve(n.trip.service_type),1)]),R("div",x5," S/ "+ve(n.trip.final_fare??n.trip.estimated_fare),1)]),n.trip.driver?(ue(),_e("div",E5,[R("div",S5,[t[1]||(t[1]=R("span",{class:"text-gray-500"},"Conductor:",-1)),R("span",k5,ve(n.trip.driver.name),1)]),R("div",A5,[ye(r.Icon,{icon:"mdi:star",class:"w-4 h-4"}),R("span",T5,ve((o=n.trip.driver.rating_average)==null?void 0:o.toFixed(1)),1)])])):$e("",!0),n.trip.distance_km&&n.trip.duration_minutes?(ue(),_e("div",C5," Distancia: "+ve(Number(n.trip.distance_km).toFixed(1))+" km • Duración: "+ve(n.trip.duration_minutes)+" min ",1)):$e("",!0)]}),_:1,__:[2,3]},8,["class"])}const O5=Ke(f5,[["render",I5],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-history/components/TripCard.vue"]]),ol=2,P5=We({__name:"TripHistoryList",setup(e,{expose:t}){t();const n=Me(1),r=lp(),{trips:i,loading:s,error:o}=Ih(r),a=Ye(()=>i.value??[]),l=Ye(()=>Math.ceil(a.value.length/ol)),c=Ye(()=>{const f=(n.value-1)*ol;return a.value.slice(f,f+ol)});_t(l,f=>{n.value>f&&(n.value=f||1)}),Rt(()=>r.fetchTrips("completed"));const u={itemsPerPage:ol,currentPage:n,store:r,trips:i,loading:s,error:o,safeTrips:a,totalPages:l,paginatedTrips:c,get Icon(){return sn},Card:Pa,Button:hs,TripCard:O5};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),R5={key:0,class:"flex items-center justify-center py-6"},M5={key:1,class:"text-red-600 text-center py-4"},D5={class:"space-y-4 px-2"},L5={key:0,class:"flex justify-center items-center space-x-3 mt-4"},N5={class:"text-sm text-gray-600"};function B5(e,t,n,r,i,s){return r.loading?(ue(),_e("div",R5,[ye(r.Icon,{icon:"mdi:loading",class:"w-6 h-6 animate-spin text-gray-500"}),t[2]||(t[2]=R("span",{class:"ml-2 text-gray-500"},"Cargando viajes...",-1))])):r.error?(ue(),_e("div",M5,[ye(r.Icon,{icon:"mdi:alert-circle-outline",class:"w-5 h-5 inline mr-1"}),Qe(" "+ve(r.error),1)])):r.safeTrips.length?(ue(),_e(dt,{key:3},[R("ul",D5,[(ue(!0),_e(dt,null,Bn(r.paginatedTrips,o=>(ue(),Ze(r.TripCard,{key:o.id,trip:o},null,8,["trip"]))),128))]),r.totalPages>1?(ue(),_e("div",L5,[ye(r.Button,{variant:"ghost",onClick:t[0]||(t[0]=o=>r.currentPage--),disabled:r.currentPage===1,class:"px-3 py-1 rounded-full"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:chevron-left",class:"w-5 h-5"})]),_:1},8,["disabled"]),R("span",N5," Página "+ve(r.currentPage)+" de "+ve(r.totalPages),1),ye(r.Button,{variant:"ghost",onClick:t[1]||(t[1]=o=>r.currentPage++),disabled:r.currentPage===r.totalPages,class:"px-3 py-1 rounded-full"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:chevron-right",class:"w-5 h-5"})]),_:1},8,["disabled"])])):$e("",!0)],64)):(ue(),Ze(r.Card,{key:2,class:"p-6 text-center"},{default:tt(()=>[ye(r.Icon,{icon:"mdi:history",class:"w-12 h-12 text-gray-400 mb-2 animate-float"}),t[3]||(t[3]=R("p",{class:"text-gray-500 mb-4"},"Aún no hay viajes en tu historial.",-1))]),_:1,__:[3]}))}const j5=Ke(P5,[["render",B5],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-history/components/TripHistoryList.vue"]]),F5=We({__name:"TripHistory",setup(e,{expose:t}){t();const n=Ea(k1),r=lp(),i=Ye(()=>r.trips.filter(u=>u.status==="completed").length);function s(){const u=encodeURIComponent(window.location.href),f=encodeURIComponent("🚖 Descubre mi historial de viajes con Chasqui, una app peruana de movilidad 🇵🇪");window.open(`https://www.facebook.com/sharer/sharer.php?u=${u}&quote=${f}`,"_blank")}function o(){const u=encodeURIComponent("🚖 Estoy usando Chasqui, una app peruana de movilidad. Mira mi historial de viajes 🇵🇪: "+window.location.href);window.open(`https://wa.me/?text=${u}`,"_blank")}const a=Me([]),l=["Perú ya no observa, ahora lidera 🚀","Desde los Andes, compitiendo con Silicon Valley 🌎","Tecnología que nació en casa y ya conquista el mundo 🇵🇪","No seguimos tendencias, las creamos en Perú 🔥","De Tingo María al mapa global 🌍","Chasqui: Gratis para peruanos, hecho con amor nacional ❤️","Ya no somos promesa, somos realidad 🌟","Perú no imita, innova. Tú eres parte del cambio 🙌","Nuestra app, nuestra voz, nuestra revolución 🇵🇪","¡Chasqui compite con gigantes internacionales! Y tú, ¿ya viajaste? 🏁","Orgullo peruano al volante de la tecnología ✨","Movilidad con raíces peruanas, visión global 🌐"];Rt(()=>{let u=0;setInterval(()=>{a.value=[l[u%l.length]],u++},2e4)});const c={PassengerMobileNavWrapper:n,store:r,completedTrips:i,shareOnFacebook:s,shareOnWhatsApp:o,messages:a,patrioticMessages:l,Layout:Oa,FilterNavbar:a5,TripHistoryList:j5,get Icon(){return sn}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),U5={class:"relative flex flex-col h-full overflow-hidden px-4 py-4"},$5={class:"flex items-center justify-between bg-gradient-to-r from-yellow-50 via-white to-green-50 border border-yellow-200/50 rounded-2xl px-5 py-3 mb-4 shadow-lg animate-fade-in"},V5={class:"flex items-center gap-3"},W5={class:"flex items-center gap-1 bg-green-100 border border-green-300 text-green-800 text-xs font-bold px-2 py-1 rounded-full shadow-sm"},H5={class:"flex items-center gap-3"},z5={class:"z-10 mb-4"},q5={class:"flex-1 overflow-y-auto z-10"};function K5(e,t,n,r,i,s){return ue(),Ze(r.Layout,{"header-title":"Historial de viajes","show-back":!1,"mobile-nav":r.PassengerMobileNavWrapper,class:"pb-20 lg:pb-0 bg-gradient-to-br from-slate-50 via-white to-blue-50 min-h-screen"},{default:tt(()=>[R("div",U5,[t[1]||(t[1]=R("div",{class:"absolute -top-10 -left-10 w-32 h-32 rounded-full bg-gradient-to-br from-cyan-200/30 to-blue-300/30 blur-3xl animate-float pointer-events-none"},null,-1)),t[2]||(t[2]=R("div",{class:"absolute -bottom-10 -right-10 w-40 h-40 rounded-full bg-gradient-to-br from-violet-200/20 to-purple-300/20 blur-4xl animate-float pointer-events-none"},null,-1)),ye(m0,{name:"fade",tag:"div",class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50"},{default:tt(()=>[(ue(!0),_e(dt,null,Bn(r.messages,(o,a)=>(ue(),_e("div",{key:o+a,class:"bg-white/80 backdrop-blur-lg text-sm font-semibold text-red-600 px-4 py-1 rounded-full shadow-lg mb-2 animate-fade-in-up"}," 🇵🇪 "+ve(o),1))),128))]),_:1}),R("div",$5,[R("div",V5,[t[0]||(t[0]=R("p",{class:"text-sm font-semibold text-yellow-800"}," 🇵🇪 ¡Gracias por confiar en una app hecha con espíritu chasqui! ",-1)),R("div",W5,[ye(r.Icon,{icon:"mdi:hiking",class:"w-4 h-4"}),Qe(" "+ve(r.completedTrips)+" viajes completados ",1)])]),R("div",H5,[R("button",{onClick:r.shareOnFacebook,title:"Compartir en Facebook",class:"text-blue-700 hover:text-blue-900"},[ye(r.Icon,{icon:"mdi:facebook",class:"w-5 h-5"})]),R("button",{onClick:r.shareOnWhatsApp,title:"Compartir en WhatsApp",class:"text-green-700 hover:text-green-900"},[ye(r.Icon,{icon:"mdi:whatsapp",class:"w-5 h-5"})])])]),R("div",z5,[ye(r.FilterNavbar)]),R("div",q5,[ye(r.TripHistoryList)])])]),_:1},8,["mobile-nav"])}const G5=Ke(F5,[["render",K5],["__scopeId","data-v-791a8130"],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/passengers/trip-history/pages/TripHistory.vue"]]),Y5=Tn("tripRedirect",{state:()=>({activeTripPath:null}),actions:{async initTripRedirect(){const e=Un();if(await e.ensureInitialized(),!e.user){this.activeTripPath=null;return}const t=e.user.user_type;if((t==="passenger"||t==="both")&&await Io.getActive()){this.activeTripPath="/passenger/active-trip";return}if((t==="driver"||t==="both")&&await Ml.getActive()){this.activeTripPath="/driver/active-trip";return}this.activeTripPath=null}}}),Nb=()=>Pv(()=>import("./Login-CCNhaZPz.js"),[]),Q5=()=>Pv(()=>import("./Register-C1qY2xhZ.js"),[]),X5={setup(){const{goToDashboard:e}=to();return e(),{}},template:`
    <div class="min-h-screen flex items-center justify-center bg-gray-50">
      <div>
        <div class="loader mx-auto mb-2" />
        <div class="text-center text-gray-500">Redirigiendo a tu panel...</div>
      </div>
    </div>
  `},J5=[{path:"/",component:XI,children:[{path:"",name:"Home",component:Nb},{path:"login",name:"Login",component:Nb},{path:"register",name:"Register",component:Q5}]},{path:"/dashboard",component:lu,children:[{path:"",component:X5}]},{path:"/passenger",component:lu,children:[{path:"dashboard",component:JR,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Loading passenger dashboard..."})}}},{path:"trip-request",component:jM,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Loading passenger trip request panel..."})}}},{path:"active-trip",component:xD,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Loading active trip..."})}}},{path:"profile",component:J3,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Loading active trip..."})}}},{path:"trip-history",component:G5,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Loading active trip..."})}}}]},{path:"/driver",component:lu,children:[{path:"trip-request",component:KD,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando estado de conductor..."})}}},{path:"active-trip",component:dL,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando estado de conductor..."})}}},{path:"dashboard",component:FL,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando panel..."})}}},{path:"profile",component:S4,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando panel..."})}}},{path:"status",component:V4,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando panel..."})}}},{path:"earnings",component:x3,meta:{suspense:{fallback:()=>Ft(ln,{fullScreen:!0,text:"Cargando panel..."})}}}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:iO}],cp=LI({history:KC(),routes:J5,scrollBehavior:()=>({top:0})});cp.beforeEach(async(e,t,n)=>{const r=Un(),i=Y5();if(await r.ensureInitialized(),e.path.includes("/active-trip"))return n();if(await i.initTripRedirect(),i.activeTripPath&&e.path!==i.activeTripPath)return n(i.activeTripPath);n()});class Z5{constructor(){Re(this,"baseURL",Bi.API_BASE_URL);Re(this,"defaultHeaders",{Accept:"application/json","Content-Type":"application/json"});Re(this,"get",(t,n)=>this.request(t,{method:"GET",signal:n}));Re(this,"post",(t,n,r)=>this.request(t,{method:"POST",body:n,signal:r}));Re(this,"put",(t,n,r)=>this.request(t,{method:"PUT",body:n,signal:r}));Re(this,"patch",(t,n,r)=>this.request(t,{method:"PATCH",body:n,signal:r}));Re(this,"delete",(t,n)=>this.request(t,{method:"DELETE",signal:n}))}getToken(){return localStorage.getItem(`${Bi.STORAGE_PREFIX}token`)}buildHeaders(t){const n={...this.defaultHeaders,...t},r=this.getToken();return r&&(n.Authorization=`Bearer ${r}`),n}async parseResponse(t){var i;if(!((i=t.headers.get("content-type"))==null?void 0:i.includes("application/json")))throw new Error("Invalid response format");const r=await t.json();if(!t.ok){if(t.status===4010&&(await Un().logout(),cp.replace("/login")),t.status===404&&r.message==="No hay viaje activo")return{success:!1,message:r.message,data:null};throw new Error(r.message||"API error")}return r}async request(t,{method:n="GET",body:r,headers:i,signal:s}={}){try{const o=await fetch(`${this.baseURL}${t}`,{method:n,headers:this.buildHeaders(i),body:r?JSON.stringify(r):void 0,signal:s});return await this.parseResponse(o)}catch(o){throw o instanceof Error?o:new Error("Network error")}}}const et=new Z5,xo={async login(e){const{success:t,data:n,message:r}=await et.post("/auth/login",e);if(!t||!n)throw new Error(r||"Error en login");return n},async register(e){const{success:t,data:n,message:r}=await et.post("/auth/register",e);if(!t||!n)throw new Error(r||"Error en registro");return n},async getProfile(){const{success:e,data:t,message:n}=await et.get("/auth/profile");if(!e||!t)throw new Error(n||"Error al obtener perfil");return t},async updateProfile(e){const{success:t,data:n,message:r}=await et.put("/auth/profile",e);if(!t||!n)throw new Error(r||"Error al actualizar perfil");return n},async logout(){try{await et.post("/auth/logout",{})}catch(e){console.warn("Logout API call failed:",e)}},async registerDriver(e){const{success:t,data:n,message:r}=await et.post("/auth/register-driver",e);if(!t)throw new Error(r||"Error al registrar conductor");return n}},Un=Tn("auth",{state:()=>({user:null,token:localStorage.getItem(`${Bi.STORAGE_PREFIX}token`),loading:!0,error:null,LoginCredentials:null}),getters:{isAuthenticated:e=>!!e.token&&!!e.user},actions:{async initialise(){var e;if(!this.token){this.loading=!1;return}try{this.user=await xo.getProfile(),(e=this.user)!=null&&e.id&&Ht.connect(this.user.id)}catch{this.token=null,localStorage.removeItem(`${Bi.STORAGE_PREFIX}token`)}finally{this.loading=!1}},async login(e){try{this.loading=!0,this.error=null,console.log(e);const t=await xo.login(e);console.log("resputesta backend",t);const{user:n,token:r}=t;this.user=n,this.token=r,console.log("usuario en store",this.user),localStorage.setItem(`${Bi.STORAGE_PREFIX}token`,r),n.id&&Ht.connect(n.id)}catch(t){throw this.error=(t==null?void 0:t.message)??"Error en login",t}finally{this.loading=!1}},async register(e){try{this.loading=!0,this.error=null;const{user:t,token:n}=await xo.register(e);this.user=t,this.token=n,localStorage.setItem(`${Bi.STORAGE_PREFIX}token`,n),t.id&&Ht.connect(t.id)}catch(t){throw this.error=(t==null?void 0:t.message)??"Error en registro",t}finally{this.loading=!1}},async logout(){try{await xo.logout()}finally{this.token=null,this.user=null,localStorage.removeItem(`${Bi.STORAGE_PREFIX}token`),Ht.disconnect()}},async updateProfile(e){var t;try{this.error=null,this.user=await xo.updateProfile(e),(t=this.user)!=null&&t.id&&Ht.connect(this.user.id)}catch(n){throw this.error=(n==null?void 0:n.message)??"Error al actualizar perfil",n}},async ensureInitialized(){!this.user&&this.token?await this.initialise():this.loading=!1},clearError(){this.error=null}}}),e6=We({__name:"App",setup(e,{expose:t}){t();const n=Un();Rt(()=>{n.initialise()});const r={auth:n,get RouterView(){return Ev}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function t6(e,t,n,r,i,s){return ue(),Ze(r.RouterView)}const n6=Ke(e6,[["render",t6],["__file","C:/Users/Lenovo/Desktop/semestre_ninne/InnovacionEmprendimiento/chasqui-taxi-vue/src/App.vue"]]);Rk(n6).use(sC()).use(cp).mount("#app");export{hs as B,Pa as C,Ke as _,a6 as a,R as b,_e as c,We as d,$e as e,ye as f,tt as g,Qe as h,o6 as i,cs as j,hR as k,_t as l,Ly as m,Ye as n,ue as o,eo as p,s0 as q,fn as r,Me as s,ve as t,Un as u,Ct as v,yt as w,i6 as x};
